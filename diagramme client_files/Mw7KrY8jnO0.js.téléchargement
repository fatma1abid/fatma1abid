if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MWFilePDFRenderer",["FBLogger","Promise","SecurePostMessage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=window["pdfjs-dist/build/pdf"],i=3,j="/fileviewer/cmap/";function a(a,b,d){h.GlobalWorkerOptions.workerSrc=a,c("promiseDone")(h.getDocument({cMapPacked:!0,cMapUrl:j,disableFontFace:!1,url:b}).promise.then(function(a){window.addEventListener("message",function(b){if(b.origin!==d)return;switch(b.data.status){case"OnLoadPage":c("promiseDone")(l(a,b.data.index).then(function(a){return m({page:a,status:"OnPageLoaded"},d)}),null,function(a){m({error:a,status:"onRenderError"},d);throw a})}}),c("promiseDone")(k(a).then(function(a){return m({pages:a,status:"OnFrameReady"},d)}),null,function(a){m({error:a,status:"onRenderError"},d);throw a})}),null,function(a){m({error:a,status:"onRenderError"},d);throw a})}function k(a){var c=[],d=function(b){c.push(a.getPage(b+1).then(function(a){a=a.getViewport({scale:i});return{height:a.height,index:b,width:a.width}}))};for(var e=0;e<a.numPages;e++)d(e);return b("Promise").all(c)}function l(a,d){return new(b("Promise"))(function(e,f){c("promiseDone")(a.getPage(d+1).then(function(a){var f=document.createElement("canvas"),g=document.createElement("div"),j=document.createElement("div"),k=a.getViewport({scale:i});f.height=k.height;f.width=k.width;var l=a.getAnnotations().then(function(d){var e=d.filter(function(a){var b=a.subtype;a=a.url;return b==="Link"&&a});e.length&&c("promiseDone")(new(b("Promise"))(function(b){h.AnnotationLayer.render({annotations:e,div:j,linkService:{},page:a,viewport:k.clone({dontFlip:!0})}),b()}))}),m=a.getTextContent({normalizeWhitespace:!0}).then(function(a){return h.renderTextLayer({container:g,enhanceTextSelection:!0,textContent:a,viewport:k}).promise}),p=a.render({canvasContext:f.getContext("2d"),viewport:k}).promise;c("promiseDone")(b("Promise").all([m,p,l]).then(function(){e({annotationLayer:o(j),height:k.height,index:d,src:f.toDataURL("image/png"),textLayer:n(g),width:k.width})}))}))})}function m(a,b){d("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,a,b)}function n(a){return Array.from(a.children).map(function(a){return{style:{fontFamily:a.style.fontFamily,fontSize:a.style.fontSize,left:a.style.left,top:a.style.top,transform:a.style.transform},textContent:a.textContent}})}function o(a){return Array.from(a.children).map(function(a){var b=a.children[0].getAttribute("href");return{style:{height:a.style.height,left:a.style.left,top:a.style.top,transform:a.style.transform,transformOrigin:a.style.transformOrigin,width:a.style.width},type:"Link",url:b||""}})}window.addEventListener("error",function(a){c("FBLogger")("messenger").addToCategoryKey("mw-file-pdf-renderer").catching(new Error(a.message)).mustfix("Error loading / rendering PDF")});g.init=a}),98);
__d("FacewebScrolling",[],(function(a,b,c,d,e,f){"use strict";function a(){window.fwSetHaveLoadedPage=function(){},window.fwHaveLoadedPage=function(){return!0}}f.ensureViewIsScrollable=a}),66);
__d("TouchScreenDetection",["CSS"],(function(a,b,c,d,e,f,g){"use strict";function h(){return"ontouchstart"in document}function a(){document.body&&d("CSS").addClass(document.body,h()?"touch":"nontouch")}g.hasTouchScreen=h;g.addClassesToBody=a}),98);
__d("MiddotSeparator.react",["Middot.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.Children.toArray(a.children).filter(Boolean).map(function(a,b){return h.jsxs(h.Fragment,{children:[b!==0?h.jsx(c("Middot.react"),{}):null,a]},b)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);