if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSOptimisticDeleteThread",["LSDeleteThread","LSIssueNewError","LSIssueNewTask"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?(d[6]=c.localizeV2([0,2285622730],f),d[7]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[6],d[7],f)):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"delete_thread_v2",[0,86],d[5],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a},null);
__d("CometMessagingJewelDropdownQPBannerContainer.entrypoint",["CometMessagingJewelCommunitiesQPBannerContainerQuery$Parameters","JSResourceForInteraction"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{bannerQueryRef:{parameters:c("CometMessagingJewelCommunitiesQPBannerContainerQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("CometMessagingJewelCommunitiesQPBannerContainerPassthrough.react").__setRef("CometMessagingJewelDropdownQPBannerContainer.entrypoint")};g["default"]=a},98);
__d("MWRestrictedAccountsListIcons.bs",["cr:10560"],function(a,b,c,d,e,f){"use strict";a=b("cr:10560").Plus;f.$MDSRestrictedAccountsListIcons$OR$TetraRestrictedAccountsListIcons$requireCond=b("cr:10560");f.Plus=a},null);
__d("MWRestrictedAccountsList.bs",["fbt","CometLazyDialogTrigger.react","CometLink.react","CometProfilePhoto.react","CometScrollView.react","CometTopNavListDropdown.react","FBID.bs","JSResourceForInteraction","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMediaUrl.bs","LsSystemFolder.bs","MDSListCell.react","MDSTextPairing.react","MWAddOnCircleContainer.react","MWChatOpenTabForUser.bs","MWIcon.react","MWInboxRestrictedAccountsRouteBuilder.bs","MWInboxRouteBuilder.bs","MWLSJewelLoadMoreThreads.bs","MWRestrictedAccountsListIcons.bs","MWText.react","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","qex","react","stylex","useCometRouterDispatcher","useReStore","useShouldShowMessagingEntrypointInCometRoot"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={infoBox:{marginTop:"obdt02g8",marginEnd:"l7ghb35v",marginBottom:"eyufkmuh",marginStart:"kmwttqpk",paddingTop:"s1m0hq7j",paddingEnd:"gy0o2fvl",paddingBottom:"rj2hsocd",paddingStart:"fk6all4f"},list:{paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze"}},l=b("gkx")("1950")||b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("qex")._("26")),!1)?{buildURL:b("MWInboxRestrictedAccountsRouteBuilder.bs").buildURL}:{buildURL:b("MWInboxRouteBuilder.bs").buildURL};function a(a){var c=a.hidePage,d=a.onClose,e=a.selectedThreadKey,f=b("useReStore")(),h=b("useCometRouterDispatcher")(),m=b("MWLSJewelLoadMoreThreads.bs").useHook(b("LsSystemFolder.bs").restricted),n=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT");a=b("MWChatOpenTabForUser.bs").useHook(void 0,"inboxRestricted");var o=a[0];j.useEffect(function(){m()},[]);a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(f.table("contacts")),function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)})},[f]));var p=g._("__JHASH__XwrGXRjtVxi__JHASH__"),q=g._("__JHASH__RkSfcqgblez__JHASH__",[g._param("=Learn how it works",j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/1021314848608781",children:j.jsx(b("MWText.react"),{color:"primary",type:"bodyLink4",children:g._("__JHASH__lTWOA7Lmc04__JHASH__")})}))]),r=g._("__JHASH__9yvHPV04Ncn__JHASH__");return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[c!==void 0?j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:c,title:p}):j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],title:p}),j.jsx("div",{className:(i||(i=b("stylex")))(k.infoBox),children:j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:q})}),j.jsxs("ul",{className:i(k.list),children:[j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWRestrictedAccountsListAddRestricteeDialog",{name:"MWRestrictedAccountsListAddRestricteeDialog","class":"fluid"}).__setRef("MWRestrictedAccountsList.bs"),dialogProps:{onClose:d},children:function(a){return j.jsx(b("MDSListCell.react"),{addOnStart:j.jsx(b("MWAddOnCircleContainer.react"),{size:40,children:j.jsx(b("MWIcon.react"),{icon:b("bs_curry")._1(b("MWRestrictedAccountsListIcons.bs").Plus.toMWIcon,void 0)})}),content:j.jsx(b("MDSTextPairing.react"),{headline:r,level:4,headlineLineLimit:1}),testid:"mw_restrict_messages_button",size:"medium",onPress:function(c){return b("bs_curry")._1(a,void 0)}})}}),a.map(function(a){var c=a.secondaryName,f=a.name!==a.secondaryName;return j.jsx("li",{children:j.jsx(b("MDSListCell.react"),{addOnStart:j.jsx(b("CometProfilePhoto.react"),{source:{uri:b("LSMediaUrl.bs").Contact.profilePictureUrl(a)},shape:"circle",size:40}),content:j.jsx(b("MDSTextPairing.react"),{body:c!==void 0&&f?c:null,headline:a.name,level:4}),selected:b("bs_caml_obj").caml_equal(a.id,e),size:"medium",onPress:function(c){if(n){o(b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id)),!1);return b("bs_curry")._1(d,void 0)}if(h==null)return;c=b("bs_curry")._1(l.buildURL,{thread_key:b("bs_int64").to_string(a.id)});h.go(c)}},b("bs_int64").to_string(a.id))},b("bs_int64").to_string(a.id))})]})]})}c=l;d=a;f.styles=k;f.itemRouteBuilder=l;f.ItemRouteBuilder=c;f.make=d},null);
__d("TetraRestrictedAccountsListIcons.bs",["ix","fbicon"],function(a,b,c,d,e,f,g){"use strict";function a(a){return b("fbicon")._(g("483773"),24)}function c(a){return{color:"gray",size:40,disabled:!1,shape:"circle",icon:b("fbicon")._(g("483773"),24),type:"contained-icon"}}d={toMWIcon:a,toPrimaryAddOn:c};f.Plus=d},null);
__d("MessageRequestsBulkActionsButtons.bs",["fbt","FocusRegion.react","LS.bs","LSOptimisticDeleteThread","LSOptimisticMarkThreadReadV2","LSTransaction.bs","LsMessageRequestsActions.bs","LsMessageRequestsEntryPoint.bs","LsSystemFolder.bs","MessageRequestsBulkActionsContext.react","MessageRequestsLog.bs","ReQL.bs","ServerTime","TetraButtonGroup.react","bs_caml_format","bs_caml_int64","bs_curry","focusScopeQueries","promiseDone","react","useCometConfirmationDialog","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c){return i.useCallback(function(c){c.forEach(function(c){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(a,function(c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads")),{hd:d,tl:0})).then(function(a){return b("LSOptimisticMarkThreadReadV2")(d,b("bs_caml_int64").of_float(b("ServerTime").getMillis()),b("LS.bs").make(c))})},"readWrite"),void 0,void 0)})},[c,a])}function k(a,c){return i.useCallback(function(c){c.forEach(function(c){var d=b("bs_caml_format").caml_int64_of_string(c);b("promiseDone")(b("LSTransaction.bs").run(a,function(a){return b("LSOptimisticDeleteThread")(d,b("LS.bs").make(a))},"readWrite"),void 0,void 0)})},[c,a])}function a(a){a=a.entryPoint;var c=a!==void 0?a:"messageRequests";a=i.useContext(b("MessageRequestsBulkActionsContext.react"));var d=a.setIsBulkActionsEditMode,e=a.bulkActionsUnreadSelectedThreads,f=a.bulkActionsSelectedThreads,h=b("useReStore")(),l=j(h,f),m=k(h,f),n=b("useCometConfirmationDialog")();h=i.useCallback(function(a){b("bs_curry")._1(l,f);b("bs_curry")._1(d,!1);return b("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkMarkAsRead),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending))});var o=i.useCallback(function(a){b("MessageRequestsLog.bs").logMessageRequestsBulkActionTapped(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkDelete),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending));return b("bs_curry")._3(n,{body:f.size===1?g._("__JHASH__MLd3xbTafSI__JHASH__"):g._("__JHASH__sZbvz5cEYff__JHASH__"),confirm:g._("__JHASH___y3IAprClSl__JHASH__"),title:f.size===1?g._("__JHASH__zdCU4WfWx_J__JHASH__"):g._("__JHASH__6Kbu-lnpMhp__JHASH__",[g._param("Number of selected threads",String(f.size))])},function(a){b("bs_curry")._1(m,f);b("bs_curry")._1(d,!1);b("FocusRegion.react").focusRegionById("mwb-jewel-bulk-actions-edit-button",b("focusScopeQueries").tabbableScopeQuery);return b("MessageRequestsLog.bs").logMessageRequestsBulkActionConfirmed(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").settings),f.size,e.size,b("bs_caml_int64").to_int32(b("LsMessageRequestsActions.bs").bulkDelete),c==="spam"?b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").spam):b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").pending))},function(a){})});return i.jsx("div",{className:a.isBulkActionsEditMode?"rj2hsocd":"plzdoh0l",id:c==="spam"?"spam-bulk-actions-buttons":"message-requests-bulk-actions-buttons",children:i.jsx(b("FocusRegion.react").FocusRegion,{autoFocusQuery:b("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:i.jsx(b("TetraButtonGroup.react"),{primary:{label:g._("__JHASH__pC0i0CAW1ov__JHASH__").toString(),type:"secondary",onPress:h,testid:c==="spam"?"spam-bulk-mark-as-read-button":"message-requests-bulk-mark-as-read-button",disabled:f.size===0||e.size===0},secondary:{label:g._("__JHASH___y3IAprClSl__JHASH__"),onPress:o,disabled:f.size===0,testid:c==="spam"?"spam-bulk-delete-button":"message-requests-bulk-delete-button"},direction:"forward",align:"justify"})})})}c=a;f.make=c},null);
__d("MWChatContactsContainer.react",["cr:2206","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.entryPoint||"unknown";return h.jsx(b("cr:2206"),babelHelpers["extends"]({},a,{entryPoint:c}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("MessengerThreadlistFooterOpenInAppLink.bs",["fbt","ix","Actor.re","CometPressable.react","MDSRow.react","MDSRowItem.react","MWIcon.react","MWText.react","MessengerDesktopDeeplinkEventFalcoEvent","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","bs_caml_option","fbicon","react","stylex","uuid"],function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{boxShadow:"sn0e7ne5",minHeight:"f6rbj1fe",":hover":{textDecoration:"l3ldwz01"},paddingTop:"srn514ro",paddingEnd:"s9xz0pwp",paddingBottom:"rl78xhln",paddingStart:"c4m0enpj","@media (max-width: 900px)":{width:"f5ap8yob"}},button:{display:"alzwoclg",justifyContent:"jcxyg2ei",alignItems:"i85zmo3j"},icon:{marginEnd:"lxowtz8q"},content:{"@media (max-width: 900px)":{display:"lth9pzmp"}}};function a(a){a=b("Actor.re").useActor();var c=k.useRef(!1),d=k.useRef(b("uuid")()).current;k.useEffect(function(){c.current||(c.current=!0,b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}}))});a=b("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:d,id:b("bs_caml_option").some(a[0]),thread:void 0,origin:"MSG"}).setDomain("www.messenger.com").setProtocol("https").toString();var e=k.useCallback(function(a){b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}})},[]),f=g._("__JHASH__-bMlxmUjLoT__JHASH__");return k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",expanding:!0,spacing:0,xstyle:[l.root],children:k.jsx(b("MDSRowItem.react"),{expanding:!0,children:k.jsx(b("CometPressable.react"),{"aria-label":f,expanding:!0,linkProps:{target:"_blank",url:a},onPress:e,overlayOffset:10,overlayRadius:6,children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.button),children:[k.jsx("span",{className:j(l.icon),children:k.jsx(b("MWIcon.react"),{icon:b("fbicon")._(h("505620"),20),color:"primary"})}),k.jsx("span",{className:j(l.content),children:k.jsx(b("MWText.react"),{align:"center",type:"bodyLink3",children:f.toString()})})]})})})})}c=a;f.styles=l;f.make=c},null);
__d("MWCMBlendedThreadListLazy.bs",["BootloaderResource","JSResource","bs_caml_option","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MWCMBlendedThreadList.bs").__setRef("MWCMBlendedThreadListLazy.bs");function j(a,c,d,e,f,g,h,i,j){j={gridLabel:a,lsEntryPoint:d,messagingEntrypoint:e,responsive:g,setHasScrolled:i};c!==void 0&&(j.header=b("bs_caml_option").valFromOption(c));f!==void 0&&(j.onClose=b("bs_caml_option").valFromOption(f));h!==void 0&&(j.selectedThreadKey=h);return j}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}c={reasonResource:i,makeProps:j,make:k};function a(a){var b=a.gridLabel,c=a.header,d=a.lsEntryPoint,e=a.messagingEntrypoint,f=a.onClose,g=a.responsive,i=a.selectedThreadKey;a=a.setHasScrolled;return h.jsx(k,j(b,c,d,e,f,g,i,a,void 0))}d=a;f.MWCMBlendedThreadListLazyImpl=c;f.make=d},null);
__d("MWInboxContextSwitcherDeferred.bs",["bs_caml_option","deferredLoadComponentForReason","react","requireDeferredForDisplay"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferredForDisplay")("MWInboxContextSwitcher.bs").__setRef("MWInboxContextSwitcherDeferred.bs");function j(a,c,d,e,f){f={entryPoint:a,onTabChange:c,selectedFolderTab:d};e!==void 0&&(f.xstyle=b("bs_caml_option").valFromOption(e));return f}function k(a){return h.createElement(b("deferredLoadComponentForReason")(i).make,a)}c={makeProps:j,make:k};function a(a){var b=a.entryPoint,c=a.onTabChange;a=a.selectedFolderTab;return h.jsx(k,j(b,c,a,void 0,void 0))}d=a;f.$MWInboxContextSwitcher$DeferredForDisplay=i;f.MWInboxContextSwitcherDeferredImpl=c;f.make=d},null);
__d("MWInboxLeftRailHeader.bs",["cr:1774123"],function(a,b,c,d,e,f){"use strict";a=b("cr:1774123").make;f.$MWMDSInboxLeftRailHeader$OR$MWTetraInboxLeftRailHeader$requireCond=b("cr:1774123");f.make=a},null);
__d("MWInboxMessageRequestsRoot.bs",["BootloaderResource","CometHeroInteractionWithDiv.react","JSResource","LsSystemFolder.bs","MessageRequestsBulkActionsButtons.bs","MessageRequestsBulkActionsContextProvider.react","bs_caml_option","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("JSResource")("MAWRequestAndSpamThreadListPage.bs").__setRef("MWInboxMessageRequestsRoot.bs");function j(a,c,d,e,f){f={parentThreadKey:c,entryPoint:d};a!==void 0&&(f.hidePage=b("bs_caml_option").valFromOption(a));e!==void 0&&(f.showBackButton=b("bs_caml_option").valFromOption(e));return f}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}c={reasonResource:i,makeProps:j,make:k};var l={container:{display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",overflowX:"lq84ybu9",overflowY:"hf30pyar"}};function a(a){var c=a.hidePage;a=a.interactionID;a=a!==void 0?a:"";return h.jsxs(b("MessageRequestsBulkActionsContextProvider.react"),{children:[h.jsx(b("CometHeroInteractionWithDiv.react"),{children:h.jsx(k,j(c,b("LsSystemFolder.bs").pending,"inboxPendingRequests",void 0,void 0)),interactionUUID:a,interactionDesc:"FETCH_MESSAGE_REQUESTS",pageletName:"MessageRequestsThreadList",excludeFromMainVC:!0,xstyle:l.container}),h.jsx(b("MessageRequestsBulkActionsButtons.bs").make,{})]})}d=a;f.LazyMAWRequestAndSpamThreadListPage=c;f.styles=l;f.make=d},null);
__d("MWInboxLeftRail.bs",["fbt","CometErrorBoundary.re","CometHeroInteractionWithDiv.react","CometMessagingJewelDropdownQPBannerContainer.entrypoint","CometPagelet.react","CometPlaceholder.react","CometRelay","CometRouteParams","CometScrollView.react","CometTransientDialogProvider.react","InteractionTracing","LS.bs","LSClearMessageSearchTable","LSClearTables","LSIssueMessageSearchQuery","LSMessageSearchType.bs","LSTransaction.bs","Locale","LsSystemFolder.bs","MWCMBlendedThreadListLazy.bs","MWChatContactsContainer.react","MWInboxActiveNowTrayContainer.bs","MWInboxContextSwitcherDeferred.bs","MWInboxContextSwitcherGlimmer.react","MWInboxLeftRailContentPlaceholder.react","MWInboxLeftRailHeader.bs","MWInboxLeftRailSearch.bs","MWInboxMessageRequestsRoot.bs","MWInboxNavigationHeaderWithBackButton.bs","MWInboxSelectedThread.bs","MWLSJewelLoadMoreThreads.bs","MWLeftRailComponent.react","MWMessageSearchResults.bs","MWPActor.bs","MWQuickPromotionThreadlistBannerContainer.react","MWRestrictedAccountsList.bs","MWText.react","MWThreadList.bs","MWThreadListNewMessage.bs","MWThreadListNewMessageState.bs","MessageRequestsBulkActionsContext.react","MessengerThreadlistFooterDesktopAppLink.bs","MessengerThreadlistFooterOpenInAppLink.bs","MessengerWebEntryPoint","Promise","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:1047","cr:3447","cr:3472","cr:3481","cr:4097","deferredLoadComponentForReason","gkx","promiseDone","qpl","react","recoverableViolation","requestAnimationFrame","requireDeferredForDisplay","stylex","useCometRelayEntrypointContextualEnvironmentProvider","useCurrentRoute","useDebounced","useMWPClearConversationSearch","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("Locale").isRTL();d=b("cr:3481")==null?void 0:b("bs_caml_option").some(b("cr:3481"));var l={header:{"@media (max-width: 900px)":{display:"lth9pzmp"}},page:{position:"s8sjc6am",opacity:"jkp44r48",transitionDuration:"m4pnbp5e",transitionProperty:"ctyh02ob",transitionTimingFunction:"ahndzqod",width:"mfclru0v",height:"pytsy3co",display:"alzwoclg",flexDirection:"cqf1kptm"},pageHidden:{visibility:"qpyp3sab"},pageVisible:{opacity:"cdum9rwi"},root:{backgroundColor:"oab4agdp",borderEnd:"qp72b3h3",outline:"icdlwmnq",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"om3e55n1",width:"mfclru0v",height:"pytsy3co",minHeight:"fawcizw8"},rootWithAnimations:{transform:"hetm6da7",transitionDuration:"m4pnbp5e",transitionProperty:"lxfbxddq",transitionTimingFunction:"ahndzqod"},infoBox:{marginTop:"obdt02g8",marginEnd:"l7ghb35v",marginBottom:"eyufkmuh",marginStart:"kmwttqpk",paddingTop:"s1m0hq7j",paddingEnd:"gy0o2fvl",paddingBottom:"rj2hsocd",paddingStart:"fk6all4f"},messageRequestsContainer:{display:"alzwoclg",flexDirection:"cqf1kptm",maxWidth:"gvxzyvdx"},messageRequestsBulkActionsButtons:{boxShadow:"sn0e7ne5"},threadListPagelet:{height:"pytsy3co",display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",overflowX:"lq84ybu9",overflowY:"hf30pyar"},contextSwitcherGlimmer:{display:"alzwoclg",minHeight:"fn8jl2i2",paddingEnd:"oxkhqvkx",paddingStart:"nch0832m",paddingTop:"q46jt4gp",paddingBottom:"r5g9zsuq",width:"mmkuidp7"},progressSpinnerPostition:{position:"s8sjc6am",display:"b6ax4al1",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",radius:"h4cog90a",gap:"h4t5xtti",zIndex:"ia18z5gl",bottom:"z6erz7xo"}},m=b("cr:4097")==null?void 0:b("bs_caml_option").some(b("cr:4097"));function n(a){var c=a.hidePage,d=a.info,e=a.parentThreadKey,f=a.title;a=a.entryPoint;var g=b("MWInboxSelectedThread.bs").useHook(void 0),h=j.useContext(b("MessageRequestsBulkActionsContext.react")),k=h.setIsBulkActionsEditMode;j.useEffect(function(){b("bs_curry")._1(k,!1)},[c]);h={parentThreadKey:e,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,responsive:!0,lsEntryPoint:a,gridLabel:f};g!==void 0&&(h.selectedThreadKey=g);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("MWInboxNavigationHeaderWithBackButton.bs").make,{title:f,onReturn:c,entryPoint:a}),d!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(l.infoBox),children:j.jsx(b("MWText.react"),{color:"secondary",type:"body4",children:b("bs_caml_option").valFromOption(d)})}):null,j.jsx(b("MWThreadList.bs").make,h)]})}e={make:n};function o(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").mplace,title:g._("__JHASH__Yxm-6KVT3xg__JHASH__"),entryPoint:"inboxFolder"})}var p={make:o};function q(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").jobs,title:g._("__JHASH__yJarfmqcRDP__JHASH__"),entryPoint:"inboxFolder"})}var r={make:q};function s(a){var c=a.hidePage;a=a.interactionID;return j.jsx(b("MWInboxMessageRequestsRoot.bs").make,{hidePage:c,interactionID:a})}var t={make:s};function u(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(void 0);return j.jsx(b("MWRestrictedAccountsList.bs").make,{hidePage:a,onClose:function(a){},selectedThreadKey:c})}var v={make:u};function w(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").archived,title:g._("__JHASH__wbEJL9Ldexb__JHASH__"),entryPoint:"inboxArchived"})}var x={make:w};function y(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(void 0),d={preventLocalNavigation:!1,showCount:!0,entryPoint:"inboxActiveContacts"};c=b("bs_belt_Option").map(c,b("bs_int64").to_string);c!==void 0&&(d.selectedThreadKey=c);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("MWInboxNavigationHeaderWithBackButton.bs").make,{title:g._("__JHASH__B69jIWeR9nM__JHASH__"),onReturn:a}),j.jsx(b("MWChatContactsContainer.react"),d)]})}var z={make:y};function A(a){var c=a.hidePage,d=a.query;a=a.setIsConversationSearchVisible;var e=b("useReStore")(),f=b("MWInboxSelectedThread.bs").useHook(void 0),g=j.useRef(!1),h=b("useMWPClearConversationSearch")();e=j.useCallback(function(a){if(!g.current){g.current=!0;b("bs_curry")._1(h,void 0);return b("bs_curry")._1(c,void 0)}},[e,c]);return j.jsx(b("MWMessageSearchResults.bs").make,{query:d,clearSearchResultsAndHidePage:e,selectedThreadKey:f,setIsConversationSearchVisible:a})}var B={make:A},C={},D=b("cr:3447")==null?function(a){}:b("cr:3447").useHook,E=b("requireDeferredForDisplay")("MAWUnsupportedBrowsersNuxWrapper.bs").__setRef("MWInboxLeftRail.bs");function a(a,b,c){c={children:a};b!==void 0&&(c.marginHorizontal=b);return c}function F(a){return j.createElement(b("deferredLoadComponentForReason")(E).make,a)}a={makeProps:a,make:F};function c(a){var c=a.setIsConversationSearchVisible,d=a.queries,e=b("MWPActor.bs").useActor(void 0),f=b("MWLSJewelLoadMoreThreads.bs").useHook(b("LsSystemFolder.bs").archived),h=b("MWInboxSelectedThread.bs").useHook(void 0);a=j.useState(function(){return!1});var n=a[1],p=a[0];a=j.useState(function(){return[]});var r=a[1];a=a[0];var t=j.useState(function(){return 0}),v=t[1],x=t[0];t=j.useState(function(){return""});var z=t[1],B=t[0];t=j.useCallback(function(a){return b("bs_curry")._1(n,function(a){return!1})},[]);var C=b("useReStore")(),E=b("useDebounced")(j.useCallback(function(a){b("requestAnimationFrame")(function(c){b("bs_curry")._1(n,function(a){return!0});return b("bs_curry")._1(v,function(c){b("bs_curry")._1(r,function(b){return b.slice(0,c).concat([a])});return c+1|0})})},[n,v,r]),350,!0),G=j.useCallback(function(a){b("requestAnimationFrame")(function(a){if(x<1){b("recoverableViolation")("Attempting to close a page that does not exist anymore.","messenger_comet");return}else{b("bs_curry")._1(n,function(a){return!0});return b("bs_curry")._1(v,function(a){return a-1|0})}})},[a,x,n,v]),H=j.useCallback(function(a){a=b("qpl")._(30607516,"756");a={interactionClass:"fast",qplEvent:a,tracePolicy:"comet.messenger.message_requests",traceType:"INTERACTION"};var c=b("InteractionTracing").startInteraction(a);b("bs_curry")._1(z,function(a){return c});return b("bs_curry")._1(E,s)},[E]),I=j.useCallback(function(a){return b("bs_curry")._1(E,u)},[E]),J=j.useCallback(function(a){if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").jobs))return b("bs_curry")._1(E,q);else if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").mplace))return b("bs_curry")._1(E,o);else{b("recoverableViolation")("Attempted to show an unimplemented nested system folder","messenger_web_product");return}},[E]),K=j.useCallback(function(a){f();return b("bs_curry")._1(E,w)},[f,E]),L=j.useCallback(function(a){return b("bs_curry")._1(E,y)},[E]),M=b("bs_curry")._1(D,E),N=j.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(C,function(c){var d=b("LS.bs").make(c);return b("LSClearTables")(d).then(function(c){return b("LSIssueMessageSearchQuery")(a,b("LSMessageSearchType.bs").thread,void 0,void 0,d)})},"readWrite").then(function(c){if(b("cr:1047")==null)return b("Promise").resolve(void 0);else return b("bs_curry")._3(b("cr:1047").searchSecureDatabaseThreads,a,e,C)}),function(d){return b("bs_curry")._1(E,function(b){return A({hidePage:b.hidePage,query:a,setIsConversationSearchVisible:c})})},function(a){b("recoverableViolation")("Error performing search","messenger_web_product",{error:a.Error})})},[C,h,E,c,e]);j.useEffect(function(){return function(a){b("promiseDone")(b("LSTransaction.bs").run(C,function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,b("LS.bs").make(a))},"readWrite"),void 0,void 0)}},[C]);var O=j.useContext(b("MWThreadListNewMessageState.bs").context),P=O.isActive?j.jsx(b("MWThreadListNewMessage.bs").make,{entries:O.entries}):null;O=j.useMemo(function(){return j.jsx(b("MWInboxLeftRailHeader.bs").make,{xstyle:b("bs_caml_option").some(l.header),showMessageRequests:H,showHidden:K,showActiveContacts:L,showRestrictedAccounts:I})},[H,K,L,I]);var Q=b("CometRouteParams").useRouteParams(),R=Q.folder_id;Q=j.useState(function(){if(R==null)return b("LsSystemFolder.bs").inbox;else return b("LsSystemFolder.bs").community});var S=Q[1],T=Q[0],U=j.useRef(void 0);Q=b("useCometRelayEntrypointContextualEnvironmentProvider")();U.current===void 0&&b("bs_caml").i64_eq(T,b("LsSystemFolder.bs").community)&&(U.current=b("bs_caml_option").some(b("CometRelay").loadEntryPoint(Q,b("CometMessagingJewelDropdownQPBannerContainer.entrypoint"),{})));j.useEffect(function(){return function(a){a=U.current;if(a!==void 0)return b("bs_curry")._1(b("bs_caml_option").valFromOption(a).dispose,void 0)}},[]);var V=j.useRef("");j.useEffect(function(){V.current=b("bs_caml").i64_eq(T,b("LsSystemFolder.bs").community)?b("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:b("qpl")._(30620417,"938"),tracePolicy:"comet.messenger.inbox.communities",traceType:"INTERACTION"}):""},[T]);var aa=b("gkx")("6975")?j.jsx(b("CometPlaceholder.react"),{children:j.jsx(b("MWInboxContextSwitcherDeferred.bs").make,{entryPoint:b("MessengerWebEntryPoint").INBOX,onTabChange:function(a){return b("bs_curry")._1(S,function(b){return a})},selectedFolderTab:T}),fallback:j.jsx(b("MWInboxContextSwitcherGlimmer.react"),{xstyle:l.contextSwitcherGlimmer})}):null;Q=j.useMemo(function(){var a={searchMessagesClicked:N,testid:"mw-search-bar"},c=M!==void 0?function(a){b("bs_curry")._1(M,a)}:void 0;c!==void 0&&(a.onSelectFreeformQuery=b("bs_caml_option").valFromOption(c));return j.jsxs(j.Fragment,{children:[j.jsx(b("MWInboxLeftRailSearch.bs").make,a),aa,j.jsx(b("CometPlaceholder.react"),{children:j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:j.jsx(F,{children:j.jsx(b("MWQuickPromotionThreadlistBannerContainer.react"),{})})}),fallback:null})]})},[N,T,M]);var W=j.useCallback(function(a){},[]),X=g._("__JHASH__UqCAjgG6ioY__JHASH__"),Y=j.useState(function(){return!1}),Z=Y[1],ba=j.useMemo(function(){var a=d.actionNowTrayQueryRef;a=a!==void 0?j.jsx(b("MWInboxActiveNowTrayContainer.bs").make,{actionNowTrayQueryRef:b("bs_caml_option").valFromOption(a)}):null;var c=b("gkx")("6975"),e,f=0;if(c&&b("bs_caml").i64_eq(T,b("LsSystemFolder.bs").community)){c=U.current;c={gridLabel:X,header:j.jsxs(j.Fragment,{children:[a,j.jsx(b("CometErrorBoundary.re").make,{children:j.jsx(b("CometPlaceholder.react"),{children:c!==void 0?j.jsx(b("CometRelay").EntryPointContainer,{entryPointReference:b("bs_caml_option").valFromOption(c),props:{}}):null,fallback:null})})]}),lsEntryPoint:"inboxThreadList",messagingEntrypoint:b("MessengerWebEntryPoint").INBOX,responsive:!0,setHasScrolled:Z};h!==void 0&&(c.selectedThreadKey=h);e=j.jsx(b("MWCMBlendedThreadListLazy.bs").make,c)}else f=1;if(f===1)if(b("cr:3472")==null){c={parentThreadKey:T,header:a,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,onClose:W,responsive:!0,preamble:P,lsEntryPoint:"inboxThreadList",onClickNestedFolderThread:J,gridLabel:X,setHasScrolled:Z};h!==void 0&&(c.selectedThreadKey=h);e=j.jsx(b("MWThreadList.bs").make,c)}else{f={parentThreadKey:T,header:a,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,onClose:W,responsive:!0,preamble:P,lsEntryPoint:"inboxThreadList",onClickNestedFolderThread:J,gridLabel:X,setHasScrolled:Z};h!==void 0&&(f.selectedThreadKey=h);e=j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return j.jsx(b("cr:3472").make,{parentThreadKey:T})},children:j.jsx(b("MWThreadList.bs").make,f)})}return j.jsx(b("CometPagelet.react").Placeholder,{fallback:j.jsx(b("MWInboxLeftRailContentPlaceholder.react"),{}),name:"MWThreadList",children:e,className:(i||(i=b("stylex")))(l.threadListPagelet)})},[P,h,J,T]);O=j.jsxs(b("CometHeroInteractionWithDiv.react"),{children:[j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,x))+"00%) translateZ(1px)")},className:(i||(i=b("stylex")))(l.page,!p&&x!==0?l.pageHidden:!1,x===0?l.pageVisible:!1),children:j.jsx(b("MWLeftRailComponent.react"),{footer:b("gkx")("1817606")?j.createElement(b("MessengerThreadlistFooterDesktopAppLink.bs").make,{}):b("gkx")("1732")?j.createElement(b("MessengerThreadlistFooterOpenInAppLink.bs").make,{}):null,header:O,primaryNav:ba,search:Q,preamble:b("cr:3481")==null?null:j.jsx(b("cr:3481").make,{}),hasScrolled:Y[0]})}),a.map(function(a,c){return j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,(x-c|0)-1|0))+"00%) translateZ(1px)")},className:(i||(i=b("stylex")))(l.page,!p&&x!==(c+1|0)?l.pageHidden:!1,x===(c+1|0)?l.pageVisible:!1),children:j.createElement(a,{hidePage:G,pushPage:E,interactionID:B})},String(c))})],interactionUUID:V.current,interactionDesc:"CommunitiesTabOnInbox"});var $=b("useCurrentRoute")();j.useEffect(function(){!($==null)&&($.url==="/messages/requests"||$.url==="/messages/filtered")&&b("bs_curry")._1(H,void 0)},[$]);return j.jsx(b("CometTransientDialogProvider.react"),{children:j.jsx("div",{className:i(l.root,p?l.rootWithAnimations:!1),onTransitionEnd:t,children:b("cr:4097")==null?O:j.jsx(m.make,{children:O,activeIndex:x})})})}var G=b("cr:1047");c=c;f.$MWEncryptedBackupsThreadListNux$requireCond=b("cr:3481");f.mwEncryptedBackupsThreadListNux=d;f.styles=l;f.$MWThreadListKeyCommandContext$OR$null$requireCond=b("cr:4097");f.$MWInboxSecureContentSearch$requireCond=b("cr:1047");f.mWInboxSecureContentSearch=G;f.ThreadListPage=e;f.Marketplace=p;f.Jobs=r;f.MessageRequests=t;f.RestrictedAccounts=v;f.Hidden=x;f.ActiveContacts=z;f.ThreadSearchResults=B;f.MWInboxLeftRailContentPlaceholder=C;f.$UseMWLeftRailFullSearch$OR$null$requireCond=b("cr:3447");f.useMWLeftRailFullSearch=D;f.$MAWUnsupportedBrowsersNuxWrapper$DeferredForDisplay=E;f.DeferredMAWUnsupportedBrowsersNuxWrapper=a;f.$MWThreadListErrorState$requireCond=b("cr:3472");f.make=c},null);
__d("MWInboxLeftRailHeaderAuxiliary.bs",["fbt","MWInboxLeftRailHeaderIcons.bs","MWInboxRouteBuilder.bs","MWInboxSettingsMenuButton.bs","MWPSearchSystem.bs","MeetupExperiments","MessengerLSCreateVideoCallLink.react","TetraCircleButton.react","bs_caml_option","bs_curry","react","stylex","useCometPreloader","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={button:{marginStart:"j0k7ypqs"}},l=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildNewThreadURL,{}),m=b("MessengerLSCreateVideoCallLink.react");c={make:m};function n(a){}function a(a){var c=a.showMessageRequests,d=a.showHidden,e=a.showActiveContacts;a=a.showRestrictedAccounts;var f=b("useReStore")(),h=j.useCallback(function(a){return b("MWPSearchSystem.bs").makeAll(f)},[f]),o=b("useCometPreloader")("button_aggressive",n,h);return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(b("MWInboxSettingsMenuButton.bs").make,{children:function(a,c){return j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Settings.icon,label:g._("__JHASH__WT3u01jgr7W__JHASH__"),onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a,size:36,testid:"skytale-settings-button"})},showMessageRequests:c,showHidden:d,showActiveContacts:e,showRestrictedAccounts:a})}),b("MeetupExperiments").supportLinkCreation()?j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(m,{children:function(a){var c=a.ref,d={color:"primary",icon:a.icon,label:a.label,onPress:function(c){return b("bs_curry")._1(a.onPress,void 0)},size:36};c=c!==void 0?b("bs_caml_option").some(c):void 0;c!==void 0&&(d.ref=b("bs_caml_option").valFromOption(c));a.testid!==void 0&&(d.testid=a.testid);return j.jsx(b("TetraCircleButton.react"),d)}})}):null,j.jsx("div",{className:i(k.button),children:j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Compose.icon,label:g._("__JHASH__uhF6__U4Uqu__JHASH__"),onFocusIn:function(a){return b("bs_curry")._1(h,void 0)},onHoverIn:o[0],onHoverOut:o[1],size:36,testid:"skytale-new-thread-button",linkProps:{url:l}})})]})}d=a;f.styles=k;f.newThreadUrl=l;f.MessengerLSCreateVideoCallLink=c;f.emptyFunc=n;f.make=d},null);
__d("MWUseGlobalMuteUntil.bs",["ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_int64","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").fromTableAscending(c.table("notification_settings"))},[c])),b("bs_caml_int64").zero,function(a){return a.globalMuteUntil})}f.useGlobalMuteUntil=a},null);
__d("MWInboxRoot.bs",["fbt","BaseHeadingContext","BaseRow.react","BaseRowItem.react","CometLeftRailLayoutContext","CometLeftRailPrimaryContext","CometPlaceholder.react","CometRouterFocusRegion.react","CurrentEnvironment","FBID.bs","LS.bs","LSClearMessageSearchTable","LSMessageSearchType.bs","LSTransaction.bs","MWInboxLeftRail.bs","MWInboxMaster.bs","MWInboxMasterView.bs","MWPActor.bs","MWPConversationSearchContext.react","MWPVisibleMessageContext.bs","MWSetupPresenceReportingDeferred.bs","MWThreadListNewMessageState.bs","MWUseGlobalMuteUntil.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:557","gkx","promiseDone","react","stylex","usePrevious","useReStore"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={};d={Provider:c};e={};c={Provider:e};var k={container:{display:"alzwoclg",flexGrow:"cgu29s5g",minHeight:"fawcizw8",position:"om3e55n1",zIndex:"g4tp4svg"},contentArea:{display:"alzwoclg",flexDirection:"cqf1kptm",flexGrow:"cgu29s5g",minHeight:"fawcizw8",minWidth:"aeinzg81",position:"om3e55n1",zIndex:"g4tp4svg"},leftRail:{flexShrink:"jez8cy9q",minHeight:"fawcizw8",overflowAnchor:"sl4bvocy",width:"mm98tyaj",zIndex:"b0ur3jhr","@media (max-width: 900px)":{width:"f5ap8yob"}},leftRailForMessengerDotCom:{"@media (max-width: 900px)":{width:"f76nr8pf"}},mainContent:{display:"alzwoclg",minHeight:"fawcizw8"}};function l(a){var c=a.isConversationSearchVisible,d=a.setIsConversationSearchVisible,e=b("MWInboxMasterView.bs").useHook(void 0);a=b("usePrevious")(e);var f=a==null?void 0:b("bs_caml_option").some(a),g=b("useReStore")(),h=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(g.table("message_search_queries")),{hd:b("LSMessageSearchType.bs").thread,tl:0})},[g])));j.useEffect(function(){!h&&b("bs_caml_obj").caml_notequal(e,f)&&(b("bs_curry")._1(d,function(a){return!1}),b("promiseDone")(b("LSTransaction.bs").run(g,function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,b("LS.bs").make(a))},"readWrite"),void 0,void 0))},[e,h,g,d,f]);var l=b("MWPActor.bs").useActor(void 0),m=b("MWUseGlobalMuteUntil.bs").useGlobalMuteUntil(void 0);j.useEffect(function(){!(b("cr:557")==null)&&b("CurrentEnvironment").messengerdotcom&&b("bs_curry")._2(b("cr:557").updateMute,b("FBID.bs").ofStringExn(b("bs_int64").to_string(l)),b("bs_caml_int64").to_float(m))},[l,JSON.stringify(m)]);a=j.useContext(b("BaseHeadingContext"));return j.jsx("div",{className:(i||(i=b("stylex")))(k.contentArea),children:j.jsx(b("CometRouterFocusRegion.react"),{children:j.jsx(b("CometLeftRailLayoutContext").Provider,{value:!0,children:j.createElement(b("BaseHeadingContext").Provider,{value:a+1|0,children:j.jsx(j.Fragment,{children:j.jsx(b("MWInboxMaster.bs").make,{isConversationSearchVisible:c,setIsConversationSearchVisible:d})})})})})})}e={make:l};function a(a){a=a.queries;var c=j.useState(function(){return!1}),d=c[1],e=b("MWInboxMasterView.bs").useHook(void 0),f;if(typeof e==="number")f="";else{e=e._0;f=e===0?g._("__JHASH__xW1zyGIHRCo__JHASH__"):""}e=j.jsx(b("MWThreadListNewMessageState.bs").Provider.make,{children:j.jsx(b("MWPVisibleMessageContext.bs").Provider.make,{children:j.jsx(b("MWPConversationSearchContext.react").MWPConversationSearchContext,{children:j.jsx(j.Fragment,{children:j.jsx(b("BaseRow.react"),{align:"start",children:j.jsxs(b("CometLeftRailPrimaryContext").Provider,{value:!1,children:[j.jsx(b("BaseRowItem.react"),{"aria-label":"",children:j.jsx(b("MWInboxLeftRail.bs").make,{setIsConversationSearchVisible:d,queries:a}),role:"navigation",xstyle:[k.leftRail,b("CurrentEnvironment").messengerdotcom&&b("gkx")("571")?k.leftRailForMessengerDotCom:!1]}),j.jsx(b("BaseRowItem.react"),{"aria-label":f,expanding:!0,children:j.jsx(b("CometPlaceholder.react"),{children:j.jsx(l,{isConversationSearchVisible:c[0],setIsConversationSearchVisible:d}),fallback:null}),role:"main",xstyle:[k.mainContent]})]}),xstyle:[k.container]})})})})});return j.jsxs(j.Fragment,{children:[j.jsx(b("MWSetupPresenceReportingDeferred.bs").make,{}),e]})}a=a;f.CometLeftRailPrimaryContext=d;f.CometLeftRailLayoutContext=c;f.styles=k;f.$MessengerNotificationsWriter$requireCond=b("cr:557");f.Content=e;f.make=a},null);
__d("MWInboxRoot.re",["MWInboxRoot.bs"],function(a,b,c,d,e,f){a=b("MWInboxRoot.bs").Content.make;f.Content_make=a;c=b("MWInboxRoot.bs").make;f.make=c;d=b("MWInboxRoot.bs").Content;f.Content=d},null);
__d("MWLSInbox.react",["CometErrorBoundary.react","FBLogger","LSPlatformClientProviderWithDeferredLoadingStrategy.re","LSPlatformConfig.re","LSPlatformMessengerConfig.re","MWInbox.re","MWInboxPlaceholder.react","MWInboxRoot.re","cr:1619","cr:2655","deferredLoadComponent","react","requireDeferred"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=(e=b("cr:2655"))!=null?e:{make:function(){return null}};var i=e.make,j=c("deferredLoadComponent")(c("requireDeferred")("MWUncaughtErrorState.react").__setRef("MWLSInbox.react")),k=function(a){return h.jsx(j,{error:a})},l=function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("uncaught exception in MWLSInbox. Error:"+a.message)};function a(a){var e,f=a.props.routeProps;a=a.queries;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometErrorBoundary.react"),{fallback:k,onError:l,children:h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.re").configEagerlyLoaded,children:h.jsxs(d("LSPlatformClientProviderWithDeferredLoadingStrategy.re").make,{placeholder:h.jsx(d("MWInboxPlaceholder.react").MWInboxPlaceholder,{}),children:[h.jsx(i,{}),h.jsx(d("MWInbox.re").make,{queries:a,refParam:(e=f.ref_param)!=null?e:void 0,threadKey:(e=f.thread_key)!=null?e:void 0,children:h.jsx(d("MWInboxRoot.re").make,{queries:a})})]})})}),h.jsx(c("CometErrorBoundary.react"),{children:b("cr:1619")?h.jsx(b("cr:1619"),{}):null})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("MWTetraInboxLeftRailHeader.bs",["fbt","CometLeftRailHeader.react","MWInboxLeftRailHeaderAuxiliary.bs","bs_caml_option","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.xstyle,d=a.showMessageRequests,e=a.showHidden,f=a.showActiveContacts;a=a.showRestrictedAccounts;d={auxiliary:i.jsx(b("MWInboxLeftRailHeaderAuxiliary.bs").make,{showMessageRequests:d,showHidden:e,showActiveContacts:f,showRestrictedAccounts:a}),title:g._("__JHASH__UqCAjgG6ioY__JHASH__")};c!==void 0&&(d.xstyle=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometLeftRailHeader.react"),d)}c=a;f.make=c},null);
__d("MessengerNotificationsWriter",["FBLogger"],function(a,b,c,d,e,f,g){"use strict";var h="mw_notifications_db",i="users_mute";function j(a,b){return{isMuted:b,userId:a}}function a(a,b){var d,e=self.indexedDB.open(h);e.onupgradeneeded=function(){var b=e.result,c=b.createObjectStore(i,{keyPath:"userId"});c.transaction.oncomplete=function(c){c=b.transaction(i,"readwrite").objectStore(i);c=c.add({isMuted:0,userId:a});c.onsuccess=function(){}}};e.onsuccess=function(){d=e.result;var f=d.transaction([i],"readwrite").objectStore(i),g=f.get(a);g.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to get value in db")};g.onsuccess=function(d){d=babelHelpers["extends"]({},d.target.result,j(a,b));d=f.put(d);d.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to write new mute value to db")};d.onsuccess=function(a){}}};e.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to create db")}}g.updateMute=a},98);
__d("MessengerNotificationsWriter.bs",["MessengerNotificationsWriter"],function(a,b,c,d,e,f){"use strict";function a(a,c){b("MessengerNotificationsWriter").updateMute(a,c)}f.updateMute=a},null);
__d("MWInboxContextSwitcher.bs",["MWInboxContextSwitcherCond.react"],function(a,b,c,d,e,f){"use strict";a=b("MWInboxContextSwitcherCond.react");f.make=a},null);