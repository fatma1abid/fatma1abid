if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometDialogFooterContainer.react",["CometColumn.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={root:{"@media (max-width: 679px)":{backgroundColor:"dk3gnfrs",borderBottomEndRadius:"e3cfed34",borderBottomStartRadius:"r7efv95k",bottom:"lfh8fnrc",boxShadow:"bck3hgxh",position:"bism85qq"}}};function a(a){a=a.children;return h.jsx(c("CometColumn.react"),{paddingHorizontal:16,xstyle:i.root,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometDialogMetaTextItem.react",["CometColumnItem.react","TetraText.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.meta;a=a.metaPosition;a=a===void 0?"above":a;var d=b!=null&&a==="above";a=b!=null&&a==="below";return h.jsx(c("CometColumnItem.react"),{align:"start",paddingTop:a?0:12,paddingVertical:a?16:0,children:h.jsx(c("TetraText.react"),{align:d?"start":"center",color:"secondary",type:"body3",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometFeedUnitLoadingIndicatorMask.react",["CometProgressIndicator.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"b0ur3jhr ekq1a7f9 myo4itp8 s8sjc6am jcxyg2ei cqf1kptm on4d8346 alzwoclg z6erz7xo j98654j2 i85zmo3j",children:h.jsx(c("CometProgressIndicator.react"),{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("EventListenerImplForCacheStorage",["cr:1351741"],function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1351741")},98);
__d("CacheStorage",["ErrorGuard","EventListenerImplForCacheStorage","ExecutionEnvironment","FBJSON","WebStorage","emptyFunction","err","killswitch"],function(a,b,c,d,e,f,g){var h="_@_",i="3b",j="CacheStorageVersion",k={length:0,getItem:c("emptyFunction"),setItem:c("emptyFunction"),clear:c("emptyFunction"),removeItem:c("emptyFunction"),key:c("emptyFunction")};a=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=c("WebStorage").getLocalStorage())!=null?b:k)||this}b.available=function(){return!!c("WebStorage").getLocalStorage()};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=c("WebStorage").getSessionStorage())!=null?b:k)||this}b.available=function(){return!!c("WebStorage").getSessionStorage()};return b}(a);var l=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),m={memory:l,localstorage:b,sessionstorage:e};g=function(){function a(a,b){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;b&&(this._key_prefix=b);a==="AUTO"||!a?b="memory":b=a;b&&(!m[b]||!m[b].available()?(c("ExecutionEnvironment").canUseDOM,this._backend=new l()):this._backend=new m[b]());a=this.useBrowserStorage();a&&c("EventListenerImplForCacheStorage").listen(window,"storage",this._onBrowserValueChanged.bind(this));b=a?this._backend.getStore().getItem(j):this._backend.getStore()[j];b!==i&&(c("killswitch")("CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS")?this.clear():this.clearOwnKeys())}var b=a.prototype;b.useBrowserStorage=function(){return this._backend.getStore()===c("WebStorage").getLocalStorage()||this._backend.getStore()===c("WebStorage").getSessionStorage()};b.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};b._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};b.keys=function(){var a=this,b=[];c("ErrorGuard").guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};b.set=function(b,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=h+e:!f?(g={__t:Date.now(),__v:e},g=d("FBJSON").stringify(g)):g=d("FBJSON").stringify(e);f=this._backend;e=this._key_prefix+b;b=!0;var i=null;while(b)try{i=null,f.set(e,g),b=!1}catch(a){i=a;var j=f.keys().length;this._evictCacheEntries();b=f.keys().length<j}if(i!==null){this._exception=i;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};b.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};b.getLastSetException=function(){return this._exception};b.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};b._evictCacheEntries=function(){var b=[],c=this._backend;c.keys().forEach(function(e){if(e===j)return;var g=c.get(e);if(g===void 0){c.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=d("FBJSON").parse(g,f.id)}catch(a){c.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&b.push([e,g.__t])});b.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(b.length/2);e++)c.remove(b[e][0])};b.get=function(b,e){var g;if(this._backend){c("ErrorGuard").applyWithGuard(function(){g=this._backend.get(this._key_prefix+b)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(h.length);else try{g=d("FBJSON").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(b,g));return g};b.remove=function(a){this._backend&&c("ErrorGuard").applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};b._setVersion=function(){var a=this;c("ErrorGuard").applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(j,i):a._backend.getStore()[j]=i},this,[],{name:"CacheStorage:setVersion"})};b.clear=function(){this._backend&&(c("ErrorGuard").applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};b.clearOwnKeys=function(){this._backend&&(c("ErrorGuard").applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(m)};a._hasMagicPrefix=function(a){return a.substr(0,h.length)===h};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();g._persistentWritesDisabled=!1;f.exports=g},34);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","FBJSON"],function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter2=b;e.$CrossWindowEventEmitter1=new(c("CacheStorage"))("localstorage",b+":");e.$CrossWindowEventEmitter1.addValueChangeCallback(function(b,c,f){c=b.split(":")[1];try{b=d("FBJSON").parse(f)}catch(a){b=void 0}if(b&&b.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),c].concat(b.__v))}});return e}var e=b.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter1.set(a,c)};return b}(c("EventEmitter"));g["default"]=a},98);
__d("isFastRefreshEnabledForCurrentDomain",[],function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a},66);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744057");c=b("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e.exports=c},null);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744058");c=b("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e.exports=c},null);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744059");c=b("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e.exports=c},null);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744060");c=b("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e.exports=c},null);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")},null);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],function(a,b,c,d,e,f){var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null;function a(){F().set(k,x())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function x(){t=t||F().get(k)||0;return t}function y(){v||(u=F().get(l),v=!0);var a=Date.now();(!u||a-i>x())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),F().set(l,u));return u}function z(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function A(){return{locale:navigator.language}}function B(a,b,c,d,e,f,g){var h=g!=null&&g!=0?g:Date.now();t=g!=null&&g!=0?Date.now():h;g=b!=null&&b!=""?b:p;return{name:a,time:h/1e3,module:g,obj_type:d,obj_id:e,uuid:f,extra:c}}function C(a,b,c){return B("content",null,{flags:b},null,null,a,c)}function D(a){var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(C(c,1,d[1]));a.push(C(c,2,d[2]));a.push(C(c,3,d[3]))}}}function E(a,c){D(a);if(a.length===0)return;o&&a.push(B("counters",null,m));var d=b("Banzai").BASIC;c==="vital"&&(d=b("Banzai").VITAL);var e=b("MarauderConfig").gk_enabled;s===0&&e&&(a.push(B("device_status",null,A())),d={delay:5e3});c==="signal"&&(d={signal:!0});e&&Math.random()<.01&&a.push(B("device_info",null,z()));if(r!==null)for(var c=0;c<a.length;c++){e=a[c];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,device_id:void 0,log_type:g,seq:s++,session_id:y()};c=F().get("device_id");c&&(e.device_id=c);m={};o=!1;b("Banzai").post(j,e,d)}function F(){w||(w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function G(b,a,c,d,f,g,h,i){E([B(b,a,c,d,f,g,h)],i)}function H(a,b){p!==b&&(n.push(B(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,H(a,b))}function f(a,b,c){G(b?"show_module":"hide_module",a,c)}function I(a){p=a}function J(){return p}function K(a){r===null&&(r=a,a!==null&&(E(n),n=[]))}e.exports={count:c,log:G,navigateTo:d,navigateWithinSession:H,toggleModule:f,setUUID:K,setNavigationModule:I,getNavigationModule:J}},null);
__d("MqttEnv",["killswitch"],function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqtt_enable_long_polling_after_ws_success:14,mqttweb_global_connection_counter:15});d=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}window.clearTimeout(a)};a.setTimeout=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return this.$4!=null?this.$4.apply(null,arguments):window.setTimeout.apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.killswitch=function(a){return this.$7!=null?this.$7(a):c("killswitch")(a)};a.createSocket=function(a,b){return this.$8!=null?this.$8(a,b):new WebSocket(a)};a.scheduleCallback=function(a){return this.$9!=null?this.$9(a):a()};a.scheduleLoggingCallback=function(a){return this.$10!=null?this.$10(a):a()};a.configRead=function(a,b){return this.$11!=null?this.$11(a,b):b};a.configWrite=function(a,b){this.$12!=null&&this.$12(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null,this.$12=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k,l){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=l,this.$8=g,this.$9=h,this.$10=i,this.$11=j,this.$12=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new d();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a},98);
__d("IrisSubscribeChecker",["MqttEnv"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance();this.$2=null;this.$3=!1;this.$4=!1;this.$5=!1;this.$6=!0;this.$7=0;this.$8=a;if(typeof window!=="undefined"){a=window.location.hostname;(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")&&(this.$6=!1)}}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();f.exports=a},34);
__d("MqttConnectionHookCollection",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a},66);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuid"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuid")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b},98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a},98);
__d("MqttProtocolUtils",["MqttEnv"],function(a,b,c,d,e,f,g){function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{value:c,offset:b}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l},98);
__d("MqttUtils",["MqttEnv"],function(a,b,c,d,e,f,g){"use strict";var h={endpointWithSessionId:function(a,b){return h.endpointWithExtraParameter(a,"sid",b.toString())},endpointWithExtraParameters:function(a,b){var c=a;b.forEach(function(a,b,d){c=h.endpointWithExtraParameter(c,b,a)});return c},endpointWithExtraParameter:function(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c},generateSessionId:function(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)},promiseDone:function(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})},promiseDoneWithTimeout:function(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);h.promiseDone(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})},sprintf:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})},hasWSSupport:function(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype},getWSAvailability:function(){var b="";if("WebSocket"in a&&a.WebSocket!==null)b+="W";else return"none";"CLOSING"in a.WebSocket.prototype&&(b+="C");return b}};f.exports=h},34);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],function(a,b,c,d,e,f,g){var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{wireMessage:null,position:e};b=i.offset;i=b+i.value;if(i>a.length)return{wireMessage:null,position:e};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{wireMessage:j,position:i}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=i.length+3;b+=d("MqttProtocolUtils").UTF8Length(this.clientId)+2;b+=d("MqttProtocolUtils").UTF8Length(this.connectOptions.userName)+2;var c=d("MqttProtocolUtils").encodeMultiByteInt(b);b=new ArrayBuffer(1+c.length+b);var e=new Uint8Array(b);e[0]=a;a=1;e.set(c,1);a+=c.length;e.set(i,a);a+=i.length;c=2|128;e[a++]=c;a=d("MqttProtocolUtils").writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),e,a);a=d("MqttProtocolUtils").writeString(this.clientId,d("MqttProtocolUtils").UTF8Length(this.clientId),e,a);a=d("MqttProtocolUtils").writeString(this.connectOptions.userName,d("MqttProtocolUtils").UTF8Length(this.connectOptions.userName),e,a);return b};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString;b={Base:b,PubAckUnsubAck:n,Ping:k,ConnAck:m,Connect:f,Disconnect:e,Subscription:o,Publish:q};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.WireMessage=b},98);
__d("MqttTypes",[],function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d},66);
__d("MqttProtocolClient",["MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","qex"],function(a,b,c,d,e,f,g){"use strict";var h=30,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectionLost,i=g.onConnectFailure;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){h(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){i(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={userName:"",mqttVersion:3,getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,onConnectSuccess:function(a){},onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a,b){}};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b,e=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);b=(b=c("qex")._("660"))!=null?b:h;this.$7=d("MqttEnv").Env.setTimeout(function(){e.$9.bumpCounter("protocol.error.connect.timeout"),e.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},b*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){e.setConnected(!0),e.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),e.$11=e.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(e.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){e.$9.bumpCounter("protocol.error.onmessage.type");e.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);e.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(e.$10,a),e.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete e.$10,e.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var b=a.messages;e.$10=a.remaining;for(var a=0;a<b.length;a++)e.handleMessage(b[a])}catch(a){e.$10=null,e.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),e.$9.bumpCounter("protocol.error.onmessage.parse"),e.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){e.$9.bumpCounter("protocol.error.socket"),e.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error"),e.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR)};this.$6.onclose=function(a){e.$9.bumpCounter("protocol.socket.close"),a.wasClean||e.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),e.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,b){return e.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,b)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a,b){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,d("MqttProtocolCodec").createMessageWithString(b),c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered("",g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a},98);
__d("MqttPublishListener",[],function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a},66);
__d("MqttUserName",["gkx"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h,i,j,k){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),this.$1=a,this.$2=b,this.$3=d,this.$4=e,this.$5=f,this.$6=g,this.$7=c("gkx")("1166607")?!1:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k}var b=a.prototype;b.gen=function(a,b,d,e){e===void 0&&(e=[]);var f=c("gkx")("1166607")?!1:this.$7;a={u:this.$1,s:a,cp:this.$3,ecp:this.$2,chat_on:this.$6,fg:f,d:this.$4,ct:this.$10,mqtt_sid:"",aid:this.$5,st:b,pm:d,dc:"",no_auto_fg:!0,gas:this.$8,pack:e,php_override:this.$9,p:this.$11};return JSON.stringify(a)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a},98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","NetworkStatus","Promise","err","qex"],function(a,b,c,d,e,f,g){"use strict";var h=10,i=1,j=1,k=64,l=3,m="publish",n="subscribe",o="unsubscribe",p=function(a){},q=18e4,r=5*1e3,s=15,t=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=h;this.$21=h;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,d=a.onStateChange,e=a.onJSError,f=a.onMessageReceived,g=a.endpoint,i=a.mqttUserName,j=a.subscribedTopics;a=a.extraConnectMessageProvider;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=d;this.$3=f;this.$5=g;this.$6=i;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=e||p;j&&j.forEach(function(a){return b.$17.add(a)});this.$4=a;this.$20=(d=c("qex")._("656"))!=null?d:h;this.$21=(f=c("qex")._("657"))!=null?f:h;this.$28();this.$29()};e.shutdown=function(a){this.$30(a),this.$31("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(n)&&this.$32(a);return!0};e.publish=function(a,e,f,g){var h={resolve:function(){},reject:function(a){}};g!=null&&(h.listener=g);var i=new(b("Promise"))(function(a,b){h.resolve=a,h.reject=b}),j=this.ensureConnected(m);!j?(g==null?void 0:g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),h.reject(c("err")("Client disconnected"))):this.$33(a,e,f,h);return i};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(o)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.onWindowUnload=function(){var a=this;this.publish("/browser_close","{}",0)["catch"](function(){a.$10.bumpCounter("on_window_unload.browser_close_publish_failed")})};e.$30=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(a){var b=this;a===void 0&&(a=!1);if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var e=Date.now(),f=this.$10.getBrowserConnectivity();this.$9=c("MqttUtils").generateSessionId();var g=Array.from(this.$17),h=c("MqttUtils").endpointWithSessionId(this.$5,this.$9);h=c("MqttUtils").endpointWithExtraParameter(h,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(h);var i=this.$37(),j=i.map(function(a){return a.topic});h=this.$6.gen(this.$9,g,i);this.$7!=null&&(this.$13+=1,this.$7.connect({userName:h,mqttVersion:3,getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,onConnectFailure:function(c,d,h){return b.$40(d,e,b.$18,g,j,a,f,c,h)},onConnectSuccess:function(c){return b.$41(e,b.$18,g,j,a,f,c)},onConnection:function(){return b.$42(i,g)},onConnectionLost:function(a,c){return b.$43(a,c)},onMessageArrived:function(a,c,d){return b.$44(a,c,d)},onMessageDelivered:function(a,c){return b.$45(a,c)}}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),a&&this.$10.bumpCounter("protocol.fastreconnectattempt"),this.$27.onConnectAttempt())}catch(b){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,e,this.$18,g,[],a,f,null,14,"init error - "+b.message),b&&this.$10.logErrorWarn(b,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",b),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;a=a.map(function(a){a.messageId=b--;return a});return a};e.$32=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("_doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("_doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{b=this.$7.publish(a,b,c);this.$10.bumpCounter("protocol.publish");var f=b!=null?b:"null";this.$10.debugTrace("_doPublish","publish "+a+" with messageId:"+f+" qos:"+c);this.$27.onPublish(a);(f=e.listener)==null?void 0:f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);b!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(b,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$30(d("MqttTypes").MqttErrors.RECONNECT);this.$31("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;if(a==null){var e;e=(e=c("qex")._("130"))!=null?e:i;a=e*Math.pow(2,this.$12)}a=Math.max(a,j);e=(e=c("qex")._("131"))!=null?e:k;a=Math.min(a,e);e=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("_scheduleReconnect","Reconnect in "+e+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},e);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>r,c=this.$12>s;(b||c)&&(this.$12=0);this.$16!==0&&a<=r&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j,k){a?this.$14++:this.$15++;var l=Date.now();this.$10.eventLogConnect({sessionID:this.$9,connectionStatus:a,connectionState:this.mqttStateFromConnectionState(this.$11),ackReceived:b,duration:l-c,total_duration:l-d,hostname:this.$5,attemptNumber:this.$13,successTotal:this.$14,failTotal:this.$15,subscribedTopics:e,publishes:f,errorCode:j,errorMessage:k,isFastReconnect:g,osConnectivity:h,messageSizeBytes:i});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h,i){var j=a.mqttError;i=i!=null?j.errorMessage+" - "+i:j.errorMessage;this.$10.debugTrace("connect","Connect failed "+i);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");f&&this.$10.bumpCounter("protocol.fastreconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,h,j.errorCode,i);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===t){this.$48(q);return}}this.$48()};e.$42=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$41=function(a,b,c,d,e,f,g){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),e&&this.$10.bumpCounter("protocol.fastreconnectsuccess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f,g),this.$50(c),this.$16=Date.now(),this.$23=0};e.$43=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({sessionID:this.$9,errorCode:a.errorCode,errorMessage:b,duration:Date.now()-this.$16})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a,b){this.$10.bumpCounter("protocol.onmessagedelivered");a=b!=null?b:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+a+"}");if(b==null)return;a=this.$24.get(b);if(a==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](b);(b=a.listener)==null?void 0:b.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);a.resolve();this.$10.bumpCounter("publish.ack_received")};e.$31=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.$29=function(){var a=this;c("NetworkStatus").onChange(function(b){b=b.online;if(b&&a.$11==="Disconnected"){b=a.$51();b&&(a.$22!=null&&(d("MqttEnv").Env.clearTimeout(a.$22),a.$22=null),a.$28(!0))}})};e.$51=function(){var a;a=(a=c("qex")._("64"))!=null?a:!1;if(a&&this.$23<l){this.$23++;return!0}return!1};return a}();g["default"]=a},98);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttPublishTimeoutConfig","MqttTypes","MqttUserName","MqttUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","qex","requireDeferred"],function(a,b,c,d,e,f,g){"use strict";var h=c("MqttPublishTimeoutConfig").mqttPublishTimeoutMs||60*1e3;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;a=a.pageId;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){var e=d("MqttEnv").Env.killswitch("MQTT_WS_FORCE_LONG_POLLING");if(e){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!c("MqttUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}}this.$10.run({onStateChange:function(a){b.$20(a)},onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},endpoint:this.$1,mqttUserName:this.$12,subscribedTopics:a,extraConnectMessageProvider:function(){return b.$23()}});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$10.onWindowUnload(),a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,e){e===void 0&&(e={qos:1,skipBuffer:!1});var f;e.qos===0?f=this.$26(a,b,e.listener):f=this.$27(a,b,e);c("MqttUtils").promiseDone(f,function(){},function(a){(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return f};e.$26=function(a,b,c){return this.$28(a,b,0,c,1,null)};e.$27=function(a,c,e){var f={resolve:function(){},reject:function(a){}},g=new(b("Promise"))(function(a,b){f.resolve=a,f.reject=b}),h=d("MqttEnv").Env.random();a={topic:a,payload:c,options:e,ack:f,publishToken:h,timeoutId:null,attempt:0,startTime:Date.now()};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(a);(c=e.listener)==null?void 0:c.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$29(a);else{a.timeoutId=this.$30(h);this.$15.set(h,a);(c=e.listener)==null?void 0:c.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$31(a)}return g};e.$29=function(a){a.attempt+=1,c("MqttUtils").promiseDone(this.$28(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$31=function(a){var b=this;a.attempt+=1;c("MqttUtils").promiseDone(this.$28(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$32(a)},function(a){})};e.$28=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(j=this.$13.publish(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(j=this.$10.publish(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({sessionID:i.$10.getSessionId(),topic:a,qos:e,payloadSizeBytes:b.length*2,success:!0,protocol:k,errorMessage:null,connectionState:l,thisAttemptStartTime:m,firstAttemptStartTime:h,attempt:g})},function(c){i.$11.eventLogOutgoingPublish({sessionID:i.$10.getSessionId(),topic:a,qos:e,payloadSizeBytes:b.length*2,success:!1,protocol:k,errorMessage:c!=null?c.toString():null,connectionState:l,thisAttemptStartTime:m,firstAttemptStartTime:h,attempt:g})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){this.$3.push(a)};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$33=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$30=function(a){var b,e=this;b=(b=c("qex")._("37"))!=null?b:h;b=d("MqttEnv").Env.setTimeout(function(a){var b=e.$15.get(a);if(!b)return;var d=b.topic;e.$11.bumpCounter("publish_timeout."+d);e.$11.debugTrace("publish_timeout","Timeout publishing topic: "+d+" publishToken: "+a);e.$33(a);b.ack.reject(c("err")("Publish Timed Out"))},b,a);return b};e.$32=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$33(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({sessionID:this.$10.getSessionId(),topic:a,connectionState:this.getConnectionState(),qos:c,payloadSizeBytes:b.payloadString.length*2});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;try{g(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}}g=this.$9.get(a);this.$11.eventLogIncomingPublish({sessionID:this.$10.getSessionId(),topic:a,connectionState:this.getConnectionState(),qos:c,payloadSizeBytes:b.payloadBytes.length});if(!g)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;try{a(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$34(a)};e.$35=function(a){this.$34(a)};e.$34=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};e.$36=function(){var a=this;this.$14.forEach(function(b){a.$29(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$31(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$20=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$36(),this.$19("_changeState","Connection state = "+a),this.$37(a,this.$7)};e.$38=function(a,b){this.$13&&this.$13.canPublish()&&this.$36(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$37(this.$6,a)};e.$37=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$39(c))};e.$39=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};e.$23=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$23()},function(b){a.$35(b)},function(b,c){a.$38(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};return a}();f.exports=a},34);
__d("MqttLogger",["ChannelClientID","FBLogger","Log","LogHistory","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random","gkx"],function(a,b,c,d,e,f,g){"use strict";var h="mqtt_client",i=100,j="WEBSOCKET",k=null,l={CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",CLIENT_ERROR:"mqtt_client_error",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},m={CONNECT:"connect",DISCONNECT:"disconnect",OUTGOING_PUBLISH:"outgoing_publish",INCOMING_PUBLISH:"incoming_publish"};a=function(){a.getInstance=function(){k||(k=new a());return k};function a(){this.$1=d("LogHistory").getInstance(h),this.$2=0,this.$3=c("gkx")("778292"),this.$4=Date.now(),this.$5=c("ChannelClientID").getID(),this.$7(),this.$6=d("MqttGlobalStreamCounter").getInstance(),this.$6.isEnabled()||(this.$6=null)}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.sessionID,d=a.connectionStatus,e=a.connectionState,f=a.ackReceived,g=a.duration,h=a.total_duration,i=a.hostname,k=a.attemptNumber,n=a.successTotal,o=a.failTotal;a.subscribedTopics;a.publishes;var p=a.isFastReconnect,q=a.osConnectivity;a.errorCode;var r=a.errorMessage;a=a.messageSizeBytes;d=d?"success":"failed";this.bumpCounter(l.CONNECT+"."+d);d=n/(n+o);n=q&&this.getBrowserConnectivity();var s={event_type:m.CONNECT,acked:f,attempt_number:k.toString(),connection_state:e,client_type:j,duration:g.toString(),total_duration:h.toString(),error:r,session_id:b.toString(),os_connectivity:n,payload_size:a==null?void 0:a.toString(),extra_data:{device_id:this.$5,connect_success_rate:d.toString(),hostname:i,fast:p?"1":"0"},ws_count:(o=this.$6)==null?void 0:o.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return s})})};b.eventLogPull=function(a){var b=a.pullEventName,c=a.sessionID,e=a.status,f=a.duration,g=a.hostname;a=a.errorMessage;c={device_id:this.$5,session_id:c,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),href:window.location.hostname,connection_status:e,duration:f,hostname:g,error_message:a};this.$9(b,c)};b.eventLogPullFinish=function(a){var b=a.pullEventName,c=a.sessionID,e=a.duration,f=a.errorMessage,g=a.publishReceived;a=a.publishSent;c={device_id:this.$5,session_id:c,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),href:window.location.hostname,duration:e,error_message:f,publish_received:g,publish_sent:a};this.$9(b,c)};b.eventLogDisconnect=function(a){var b=a.sessionID;a.errorCode;var d=a.errorMessage;a=a.duration;this.bumpCounter(l.DISCONNECT);var e={event_type:m.DISCONNECT,connection_state:"Disconnected",client_type:j,duration:a.toString(),error:d,session_id:b.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5},ws_count:(a=this.$6)==null?void 0:a.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return e})})};b.eventLogOutgoingPublish=function(a){var b=a.sessionID,d=a.topic,e=a.qos,f=a.payloadSizeBytes,g=a.success,h=a.protocol,i=a.errorMessage,k=a.connectionState,n=a.thisAttemptStartTime,o=a.firstAttemptStartTime;a=a.attempt;this.bumpCounter(l.PUBLISH+"."+d);var p=Date.now(),q={event_type:m.OUTGOING_PUBLISH,session_id:b.toString(),topic:d,client_type:j,connection_state:k,qos:e.toString(),acked:e===1?g:null,duration:(p-n).toString(),total_duration:o!=null?(p-o).toString():null,error:i,payload_size:f.toString(),attempt_number:a.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5,protocol:h}};this.$8(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return q})})};b.eventLogIncomingPublish=function(a){var b=a.sessionID,d=a.topic,e=a.connectionState,f=a.qos;a=a.payloadSizeBytes;var g={event_type:m.INCOMING_PUBLISH,session_id:b.toString(),topic:d,client_type:j,connection_state:e,qos:f.toString(),payload_size:a.toString(),os_connectivity:this.getBrowserConnectivity(),extra_data:{device_id:this.$5}};b=d=="/webrtc"||d=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return g})},50,b)};b.logError=function(a,b){var e=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(h).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){var e=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(h).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(i))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&d("ODS").bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,i),d("ODS").bumpEntityKey(2966,"mqtt_ws_client",a,i)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==l.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,e){c("gkx")("762")&&b!==0?e=e||d("Random").coinflip(b):e=!0;e&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return window.navigator&&window.navigator.onLine!==void 0?window.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(window.navigator&&window.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a},98);
__d("MqttEnvInitializer",["CurrentUser","MqttEnv","MqttLogger","Random","WebStorage","clearTimeout","gkx","qex","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g){"use strict";var h="mqtt:",i={genGk:function(a){var b;switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("832242");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return c("gkx")("4984");case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("945829");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("1001007");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("1066746");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("968609");case d("MqttEnv").MqttGkNames.mqtt_enable_long_polling_after_ws_success:return(b=c("qex")._("120"))!=null?b:!1;case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("2795");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}},initialize:function(){d("MqttEnv").Env.initialize(c("Random").random,c("CurrentUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},i.genGk,null,null,null,function(a,b){var d=c("WebStorage").getLocalStorage();if(d){d=d.getItem(h+a);if(d!=null)return d}return b},function(a,b){var d=c("WebStorage").getLocalStorage();d&&(b==null?d.removeItem(h+a):c("WebStorage").setItemGuarded(d,h+a,b))})}};f.exports=i},34);/*FB_PKG_DELIM*/
__d("LSTruncateTableAndSetShowError",[],function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(a){return b.fe(b.db.table(115).fetch(),function(a){return a["delete"]()})},function(c){return b.db.table(115).add({statusId:void 0,timestampMs:b.i64.of_float(Date.now()),errorShouldBeShown:a[0]})}])},function(a){return b.resolve(c)}])}e.exports=a},null);
__d("LSDeleteAllAndInsertConnectivityStatus",["LSTruncateTableAndSetShowError"],function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[];return c.seq([function(d){return c.seq([function(a){return c.fe(c.db.table(114).fetch(),function(a){return a["delete"]()})},function(b){return c.db.table(114).add({statusId:void 0,timestampMs:c.i64.of_float(Date.now()),internetConnectionState:a[0]})},function(d){return c.sp(b("LSTruncateTableAndSetShowError"),c.i64.neq(a[0],[0,1]))}])},function(a){return c.resolve(d)}])}e.exports=a},null);
__d("MDSRowContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(null);g["default"]=b},98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={4:{paddingEnd:"pdnn8mpk",paddingStart:"f1iqohp5"},8:{paddingEnd:"fzd7ma4j",paddingStart:"lcfup58g"},12:{paddingEnd:"i5oewl5a",paddingStart:"nnzkd6d7"},16:{paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze"},24:{paddingEnd:"aesu6q9g",paddingStart:"e4ay1f3w"},32:{paddingEnd:"r227ecj6",paddingStart:"gt60zsk1"}},k={4:{paddingBottom:"rt9i6ysf",paddingTop:"ngbj85sm"},8:{paddingBottom:"o9wcebwi",paddingTop:"d2hqwtrz"},12:{paddingBottom:"bmgto6uh",paddingTop:"f9xcifuu"},16:{paddingBottom:"r5g9zsuq",paddingTop:"q46jt4gp"},24:{paddingBottom:"rj2hsocd",paddingTop:"s1m0hq7j"},32:{paddingBottom:"ez8dtbzv",paddingTop:"g4qalytl"}};function a(a,b){var d;d=(d=i(c("MDSRowContext")))!=null?d:{};var e=d.spacingHorizontal;d=d.spacingVertical;var f=a.fallback,g=a.placeholder,m=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","placeholder"]);if(g!==void 0){a.placeholder;var n=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);return h.jsx(c("CometPlaceholder.react"),{fallback:g!=null?h.jsx(l,babelHelpers["extends"]({},n,{ref:b,children:g})):null,children:h.jsx(l,babelHelpers["extends"]({},n,{ref:b}))})}if(f!==void 0){a.fallback;var o=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return f===null?h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))}):h.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return h.jsx(l,babelHelpers["extends"]({},o,{ref:b,children:typeof f==="function"?f(a,c):f}))},children:h.jsx(l,babelHelpers["extends"]({},o,{ref:b}))})}return h.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},m,{ref:b,useDeprecatedStyles:m.useDeprecatedStyles,xstyle:[j[e],k[d],m.xstyle],children:h.jsx(c("MDSRowContext").Provider,{value:null,children:m.children})}))}a.displayName=a.name+" [from "+f.id+"]";var l=h.forwardRef(a);b=l;g["default"]=b},98);
__d("MDSRow.react",["BaseRow.react","CometColumnContext","CometColumnItem.react","MDSRowContext","MDSRowItem.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k={4:{paddingEnd:"fzd7ma4j",paddingStart:"lcfup58g"},8:{paddingEnd:"b0eko5f3",paddingStart:"fwlpnqze"},10:{paddingEnd:"ejhi0i36",paddingStart:"qbvjirod"},12:{paddingEnd:"aesu6q9g",paddingStart:"e4ay1f3w"},16:{paddingEnd:"r227ecj6",paddingStart:"gt60zsk1"}},l={0:{paddingTop:"srn514ro"},4:{paddingTop:"d2hqwtrz"},8:{paddingTop:"q46jt4gp"},10:{paddingTop:"pvreidsc"},12:{paddingTop:"s1m0hq7j"},16:{paddingTop:"g4qalytl"},20:{paddingTop:"h6ft4zvz"}},m={4:{paddingBottom:"o9wcebwi",paddingTop:"d2hqwtrz"},8:{paddingBottom:"r5g9zsuq",paddingTop:"q46jt4gp"},10:{paddingBottom:"n68fow1o",paddingTop:"pvreidsc"},12:{paddingBottom:"rj2hsocd",paddingTop:"s1m0hq7j"},16:{paddingBottom:"ez8dtbzv",paddingTop:"g4qalytl"}},n={4:{marginEnd:"h42m8szp",marginStart:"mz2m4c71"},8:{marginEnd:"hnay576k",marginStart:"rng1terr"},10:{marginEnd:"ohomgobn",marginStart:"nzyclvq3"},12:{marginEnd:"nuznn79q",marginStart:"snu7ymun"},16:{marginEnd:"h0zv973x",marginStart:"dy70pwuf"},24:{marginEnd:"akaltfrc",marginStart:"p0o65fsq"},32:{marginEnd:"esps6im3",marginStart:"t6achhyv"}},o={4:{marginBottom:"cxjz07vn",marginTop:"cfq9uazq"},8:{marginBottom:"mtzt5fvk",marginTop:"mmwt03ec"},10:{marginBottom:"siwo0mpr",marginTop:"gu5uzgus"},12:{marginBottom:"ktovzxj4",marginTop:"g1smwn4j"},16:{marginBottom:"kzdo7wvt",marginTop:"osvssn79"},24:{marginBottom:"r2peccw7",marginTop:"iuqoo4w4"},32:{marginBottom:"i1n1lj7b",marginTop:"se2chdl4"}};function a(a,b){var d=i(c("CometColumnContext")),e=i(c("MDSRowContext")),f=(d==null?void 0:d.paddingHorizontal)!=null?0:12,g=(d==null?void 0:d.spacing)!=null?0:16,p=a.children,q=a.paddingHorizontal;f=q===void 0?f:q;q=a.paddingVertical;q=q===void 0?0:q;var r=a.paddingTop;g=r===void 0?a.paddingVertical==null?g:null:r;r=a.spacing;r=r===void 0?12:r;var s=a.spacingHorizontal,t=s===void 0?r:s;s=a.spacingVertical;var u=s===void 0?r:s;r=a.xstyle;s=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=j(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=h.jsx(c("BaseRow.react"),babelHelpers["extends"]({},s,{ref:b,xstyle:[k[f],m[q],g!=null&&l[g],n[t],o[u],r],children:h.jsx(c("MDSRowContext").Provider,{value:a,children:p})}));if(e!=null)return h.jsx(c("MDSRowItem.react"),{expanding:s.expanding,children:b});return d!=null?h.jsx(c("CometColumnItem.react"),{expanding:s.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);d=e;g["default"]=d},98);
__d("MWChatConfirmTabCloseDialog.bs",["fbt"],function(a,b,c,d,e,f,g){"use strict";a={body:g._("__JHASH__BpxPpP9rp8f__JHASH__"),confirm:g._("__JHASH__IRN53cEfYnc__JHASH__"),title:g._("__JHASH__56tk0437PKy__JHASH__")};f.content=a},null);
__d("JSMap.bs",["bs_belt_Option","bs_caml_option","bs_curry"],function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt((a.has(c)?a:a.set(c,b("bs_curry")._1(d,void 0))).get(c)))}f.getOrMake=a},null);
__d("MWChatEphemeralMediaTemporarySeenState.bs",["JSMap.bs","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=new Map();function a(a,c){a=b("JSMap.bs").getOrMake(i,a,function(a){return new Set()});a.add(c)}function c(a,b){a=i.get(a);if(a==null)return!1;else return a.has(b)}function j(a){i["delete"](a)}function d(a){h.useEffect(function(){return function(b){return j(a)}},[a])}f.markSeenThisSession=a;f.isSeenThisSession=c;f.endSession=j;f.useEndSessionOnDismount=d},null);
__d("MWV2ComposerHasContentContext.bs",["react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({hasContentRef:void 0,shouldClearDraftMessageRef:void 0});function a(a){a=a.children;var b=h.useRef(!1),c=h.useRef(!1),d=h.useMemo(function(){return{hasContentRef:b,shouldClearDraftMessageRef:c}},[b,c]);return h.createElement(i.Provider,{value:d,children:a})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c},null);
__d("UseMWV2CloseTab.bs",["MWChatConfirmTabCloseDialog.bs","MWChatEphemeralMediaTemporarySeenState.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWV2ComposerHasContentContext.bs","bs_curry","bs_int64","react","useCometConfirmationDialog","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")(),e=b("MWChatStateV2.bs").useDispatch(void 0),f=b("useCometConfirmationDialog")(),g=b("MWV2ComposerHasContentContext.bs").useContext(void 0),i=g.shouldClearDraftMessageRef,j=g.hasContentRef;return h.useCallback(function(d){var g=function(d){a!==void 0&&b("MWChatEphemeralMediaTemporarySeenState.bs").endSession(b("bs_int64").to_string(a.threadKey));return b("bs_curry")._1(e,b("MWChatStateActions.bs").closeTab(Date.now(),c.tabId))};if(a!==void 0&&j!==void 0&&j.current)return b("bs_curry")._3(f,b("MWChatConfirmTabCloseDialog.bs").content,function(a){i!==void 0&&(i.current=!0);return g(void 0)},function(a){if(i!==void 0){i.current=!1;return}});else return g(void 0)},[a,c,d,e,f,j,i])}f.useHook=a},null);
__d("MWChatFocusComposerContext.bs",["react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({focusComposer:void 0,setFocusComposer:function(a){}});function a(a){a=a.children;var b=h.useRef(void 0),c=b.current,d=h.useMemo(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return h.createElement(i.Provider,{value:d,children:a})}c=a;f.context=i;f.provider=c},null);
__d("MercuryFilters.bs",[],function(a,b,c,d,e,f){"use strict";var g="draft",h="unread";function a(a){return[h,g]}function b(a){if(a===h)return!0;else return a===g}c="all";d="groups";e="named";var i="unnamed",j="WORK_UNSYNCED_CHAT";f.all=c;f.draft=g;f.unread=h;f.groups=d;f.named=e;f.unnamed=i;f.unsyncedChat=j;f.getSupportedFilters=a;f.isSupportedFilter=b},null);
__d("MercuryTypeaheadConstants",[],function(a,b,c,d,e,f){a=Object.freeze({COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:8,COMPOSER_GUEST_MAX:6,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_NON_FRIENDS_EXTRA_FETCH:3,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_USERS_MAX:13,COMPOSER_WM_MAX:23,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",GUEST_USER_TYPE:"guest",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",MESSAGE_TYPE:"message",WORKPLACE_BOT_CATEGORY_TYPE:"WORKPLACE_BOT",VALID_EMAIL:"^([A-Z0-9._%+-]+@((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._%+-]+[A-Z0-9._%+-]*)|([A-Z0-9._%+-]+[A-Z._%+-]+[A-Z0-9._%+-]*))@(?:facebook\\.com))$"});f["default"]=a},66);
__d("bs_js_json",["bs_caml_option"],function(a,b,c,d,e,f){"use strict";function a(a){var b=typeof a;if(b==="string")return{TAG:0,_0:a};else if(b==="number")return{TAG:1,_0:a};else if(b==="boolean")if(a===!0)return 1;else return 0;else if(a===null)return 2;else if(Array.isArray(a))return{TAG:3,_0:a};else return{TAG:2,_0:a}}function c(a,b){switch(b){case 0:return typeof a==="string";case 1:return typeof a==="number";case 2:if(a!==null&&typeof a==="object")return!Array.isArray(a);else return!1;case 3:return Array.isArray(a);case 4:return typeof a==="boolean";case 5:return a===null}}function d(a){if(typeof a==="string")return a}function e(a){if(typeof a==="number")return a}function g(a){if(typeof a==="object"&&!Array.isArray(a)&&a!==null)return b("bs_caml_option").some(a)}function h(a){if(Array.isArray(a))return a}function i(a){if(typeof a==="boolean")return a}function j(a){if(a===null)return null}var k=function(a){a=[a];var b=[{kind:0,i:0,parent:a}];while(b.length!==0){var c=b[b.length-1];c.kind===0?(c.val=c.parent[c.i],++c.i===c.parent.length&&b.pop()):b.pop();var d=c.val;if(typeof d==="object")if(Array.isArray(d)&&d.length!==0)b.push({kind:0,i:0,parent:d,val:void 0});else for(var e in d){if(e==="RE_PRIVATE_NONE"){c.kind===0?c.parent[c.i-1]=void 0:c.parent[c.i]=void 0;continue}b.push({kind:1,i:e,parent:d,val:d[e]})}}return a[0]};function l(a){return function(a){a=JSON.stringify(a,function(a,b){return b===void 0?{RE_PRIVATE_NONE:!0}:b});if(a===void 0)throw new TypeError("output is undefined");return a}(a)}function m(a){return k(JSON.parse(a))}f.classify=a;f.test=c;f.decodeString=d;f.decodeNumber=e;f.decodeObject=g;f.decodeArray=h;f.decodeBoolean=i;f.decodeNull=j;f.deserializeUnsafe=m;f.serializeExn=l},null);
__d("MWInboxURIState.bs",["CurrentEnvironment","MAWGating.bs","MWCMThreadTypes.bs","MercuryFilters.bs","MercuryIDs","MercuryTypeaheadConstants","MessengerURIConstants","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","URI","bs_belt_Option","bs_caml_array","bs_caml_exceptions","bs_caml_format","bs_caml_option","bs_curry","bs_js_json","bs_js_null_undefined","cr:1369","cr:2299","gkx","qex","react","useCurrentRoute","useGroupThreadViewParams","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");d={};var j=b("bs_caml_exceptions").create("MWInboxURIState.NonMessengerState"),k="/?$";function l(a){a=a.match(new RegExp(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));return b("bs_belt_Option").map(a===null?void 0:b("bs_caml_option").some(a),function(a){return decodeURIComponent(b("bs_caml_array").get(a,1))})}function m(a){a=a.match(new RegExp(b("MessengerURIConstants").FOLDERS_PATH+("/([^/]+)"+(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"))));return b("bs_belt_Option").map(a===null?void 0:b("bs_caml_option").some(a),function(a){return decodeURIComponent(b("bs_caml_array").get(a,1))})}var n=b("qex")._("1507")===!0,o=b("CurrentEnvironment").instagramdotcom?b("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:b("CurrentEnvironment").facebookdotcom?b("MessengerURIConstants").FACEBOOK_PREFIX:"";function p(a){a=new(h||(h=b("URI")))(a.url);var c=a.getPath();a=a.getQueryData();var d=b("gkx")("1300945"),e=new RegExp("^"+(o+"(/|$)")),f=b("bs_belt_Option").isSome(a.story_id);if(b("CurrentEnvironment").facebookdotcom&&!(e.test(c)||d&&c==="/"&&!f))throw{RE_EXN_ID:j,Error:new Error()};d=c.replace(e,"/");f=a.filter;c=a.fbid;e=a.qa;var g=a.sa,i=a.t,p=a.threadIDs;a=a.id;try{p=b("bs_belt_Option").map(p,function(a){return JSON.parse(a)});p!==void 0&&b("bs_belt_Option").map(b("bs_js_json").decodeArray(b("bs_caml_option").valFromOption(p)),function(a){return a.reduce(function(a,c){c=b("bs_js_json").decodeString(c);if(b("MercuryIDs").isValidThreadID(b("bs_js_null_undefined").fromOption(b("bs_belt_Option").map(c,function(a){return a}))))return a.concat([c]);else return a},[])})}catch(a){}if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").PEOPLE_PATH)))))p=1;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").PAYMENT_PATH)))))p=2;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").SEARCH_PATH)))))if(n)if(e!==void 0)p=4;else if(g!==void 0&&i!==void 0){e=b("bs_caml_option").valFromOption(i);p=e===b("MercuryTypeaheadConstants").FRIEND_TYPE||e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?5:e===b("MercuryTypeaheadConstants").PAGE_TYPE?6:e===b("MercuryTypeaheadConstants").THREAD_TYPE?7:3}else p=3;else p=3;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_GROUP_VIEW)))))p=7;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_CHAT_VIEW)))))p=5;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_UNREAD_VIEW)))))p=8;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW)))))p=9;else if(d==="/read/")p={_0:c!==void 0?{TAG:0,_0:b("bs_caml_format").caml_int64_of_string(c)}:void 0};else{if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+(b("MessengerURIConstants").COMPOSE_SUBPATH+k))))))g=[0,void 0,void 0];else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+(b("MessengerURIConstants").PAYMENT_PATH+b("MessengerURIConstants").PAYMENT_PAY_PATH))))))g=a!==void 0?[1,a,void 0]:[2,void 0,void 0];else{i=l(d);try{e=b("bs_belt_Option").map(i,b("bs_caml_format").caml_int64_of_string)}catch(a){e=void 0}c=e!==void 0?[{TAG:0,_0:e},i]:[void 0,void 0];a=m(d);g=[c[0],c[1],a]}p={_0:g[0]}}b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").FILTERED_REQUESTS_PATH))))||(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").ARCHIVED_PATH))))||(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").MESSAGE_REQUESTS_PATH))))||b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").FOLDERS_PATH))))));b("bs_belt_Option").mapWithDefault(f,!1,b("MercuryFilters.bs").isSupportedFilter)&&b("bs_belt_Option").getExn(f);return p}var q=b("cr:1369")==null?void 0:b("bs_caml_option").some(b("cr:1369"));function r(a){if(!(b("cr:2299")==null)&&!b("MAWGating.bs").isOccamadillo(void 0))return b("bs_curry")._1(b("cr:2299").isThreadId,a);else return!1}var s=b("gkx")("1950")||b("gkx")("6975");function t(a){if(a!==void 0&&b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType))return!0;else return!1}function u(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("bs_belt_Option").mapWithDefault(a,b("SortedAsyncIterable.bs").empty(void 0),function(a){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a,tl:0})})},[c,JSON.stringify(a)]))}function a(a){return new(h||(h=b("URI")))(a.substring(o.length)).getPath().split("/")}function c(a){a=a==null?void 0:b("bs_caml_option").some(a);var c=b("useCurrentRoute")(),d=b("useGroupThreadViewParams")();try{a=b("bs_belt_Option").map(a,b("bs_caml_format").caml_int64_of_string)}catch(b){a=void 0}var e=u(a);if(!(d==null))return{_0:{TAG:0,_0:b("bs_caml_format").caml_int64_of_string(d.threadKey)}};if(c==null)return 0;d=new(h||(h=b("URI")))(c.url).getPath();if(!d.startsWith(o)&&!d.startsWith(b("MessengerURIConstants").GROUPS_PATH))throw{RE_EXN_ID:j,Error:new Error()};d=c.url.substring(o.length);var f;if(b("cr:1369")==null)f=void 0;else{var g=b("bs_curry")._1(q.getMostRecentSecureThreadKey,void 0);f=g!==void 0?g:void 0}g=new h(d).getPath().split("/");var i;if(a!==void 0){if(g.length!==4)d=2;else{var k=g[0];if(k===""){k=g[1];if(k==="e2ee"){k=g[2];if(k==="t"&&f===void 0){if(b("MAWGating.bs").isOccamadillo(void 0))return{_0:{TAG:1,_0:a}};d=2}else d=2}else d=2}else d=2}if(d===2){if(r(a))return p(c);k=t(e);if(k&&!s)return 0;else return{_0:{TAG:0,_0:a}}}}else{d=g.length;if(d>=4)return p(c);switch(d){case 0:return p(c);case 1:e=g[0];if(e!=="")return p(c);if(f===void 0)return p(c);i=f;break;case 2:k=g[0];a=g[1];switch(a){case"":if(f===void 0)return p(c);i=f;break;case"new":return{_0:0};default:if(k!=="")return p(c);d=g[1];if(d!=="t")return p(c);if(f===void 0)return p(c);i=f}break;case 3:e=g[1];if(e!=="t")return p(c);a=g[2];if(a==="")return p(c);try{k=b("bs_caml_format").caml_int64_of_string(a)}catch(a){k=void 0}if(k!==void 0&&!r(k))return{_0:{TAG:0,_0:k}};else return 0}}return{_0:{TAG:1,_0:b("bs_caml_format").caml_int64_of_string(i)}}}f.MessagingTag=d;f.NonMessengerState=j;f._getFolderID=m;f.isSearchRefactor=n;f.prefix=o;f.parseURI_DEPRECATED=p;f.$MAWSessionStorage$requireCondXplat=b("cr:1369");f.$MAWThreadId$requireCondXplat=b("cr:2299");f.useThread=u;f.getRouteTokens=a;f.useState=c},null);
__d("MWInboxProvider.bs",["MWInboxURIState.bs","bs_js_null_undefined","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var c=a.children;a=a.threadKey;a=b("bs_js_null_undefined").fromOption(a);a=b("MWInboxURIState.bs").useState(a);return h.createElement(i.Provider,{value:a,children:c})}c=a;f.context=i;f.make=c},null);
__d("MWInboxPassiveContext.bs",["MWInboxProvider.bs","bs_curry","bs_int64","react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}e={isPassive:!1,setIsPassive:a};var i=h.createContext(e);function c(a){var c=a.children,d=a.isPassive,e=a.setIsPassive;a=h.useContext(b("MWInboxProvider.bs").context);var f;if(typeof a==="number")f="";else{a=a._0;f=a!==void 0&&!(typeof a==="number"||a.TAG!==0)?b("bs_int64").to_string(a._0):""}h.useEffect(function(){b("bs_curry")._1(e,function(a){return!1})},[f]);a=h.useMemo(function(){return{isPassive:d,setIsPassive:e}},[d]);return h.createElement(i.Provider,{value:a,children:c})}a={make:c};function d(a){return h.useContext(i)}f.Provider=a;f.useContext=d},null);
__d("MWChatTabFocusHandler.bs",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext.bs","MWInboxPassiveContext.bs","bs_caml_js_exceptions","bs_caml_option","bs_curry","bs_js_exn","gkx","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{height:"pytsy3co",":focus":{outline:"th8rvtx1"}}};function k(a){try{return document.activeElement.getAttribute("data-release-focus-from")==="CLICK"}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID===b("bs_js_exn").$$Error)return!1;throw a}}function a(a){var c=a.onEscape,d=a.onFocus,e=a.onBlur,f=a.xstyle;a=a.children;c=c!==void 0?c:function(a){};var g=d!==void 0?d:function(a){},l=e!==void 0?e:function(a){};d=f!==void 0?b("bs_caml_option").valFromOption(f):!1;var m=i.useRef(null);e=b("MWInboxPassiveContext.bs").useContext(void 0);var n=e.setIsPassive;f=i.useContext(b("MWChatFocusComposerContext.bs").context);var o=f.focusComposer;e=i.useCallback(function(a){a=m.current;if(!(a==null)&&o!==void 0&&window.getSelection().toString()===""&&(a===document.activeElement||k(void 0)))return b("bs_curry")._1(o,void 0)},[m,o]);return i.jsx(b("FocusWithinHandler.react"),{onFocusWithin:function(a){a.target.getAttribute("data-prevent_chattab_focus")==null&&b("bs_curry")._1(g,void 0);var c=m.current;!(c==null)&&o!==void 0&&c===a.target&&b("bs_curry")._1(o,void 0);if(b("gkx")("6531"))return b("bs_curry")._1(n,function(a){return!1})},onBlurWithin:function(a){return b("bs_curry")._1(l,void 0)},children:i.jsx(b("CometHideLayerOnEscape.react"),{onHide:c,children:i.jsx("div",{onClick:e,tabIndex:-1,className:(h||(h=b("stylex")))(j.root,d),ref:m,children:a})})})}c=a;f.styles=j;f.getShouldTakeFocusFromActiveElement=k;f.make=c},null);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],function(a,b,c,d,e,f,g){function a(a){return c("isFacebookURI")(a)&&a.getPath().startsWith("/messages")}g["default"]=a},98);
__d("MWCMUseShouldGoToFullScreenChat.bs",["URI","isFacebookMessengerInboxURI","isMessengerDotComURI"],function(a,b,c,d,e,f){"use strict";var g;function a(a){a=b("isMessengerDotComURI")(new(g||(g=b("URI")))(window.location.href));var c=b("isFacebookMessengerInboxURI")(new g(window.location.href));if(a)return!0;else return c}f.useHook=a},null);
__d("MWThreadKey.bs",["bs_int64","react","unrecoverableViolation"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var c=a.id;a=a.children;var d=b("bs_int64").to_string(c),e=h.useMemo(function(){return c},[d]),f=h.useContext(i);if(f!==void 0)return b("unrecoverableViolation")("You can't nest MWThreadKey in another MWThreadKey. This will cause SEVs as things might think they're in the wrong thread","messenger_web_product");else return h.jsx(i.Provider,{value:e,children:a},d)}function c(a){return h.useContext(i)}function d(a){a=h.useContext(i);if(a!==void 0)return a;else return b("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_product")}e=a;f.make=e;f.useIdMemoized=c;f.useIdMemoizedExn=d},null);
__d("MWLSMarkThreadAsRead.bs",["LS.bs","LSOptimisticMarkThreadReadV2","LSTransaction.bs","MWInboxPassiveContext.bs","MWThreadKey.bs","ReQL.bs","ServerTime","bs_caml_int64","bs_caml_obj","bs_curry","gkx","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("MWInboxPassiveContext.bs").useContext(void 0);var e=a.setIsPassive;return h.useCallback(function(a){b("gkx")("6531")&&b("bs_curry")._1(e,function(a){return!1}),b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:d,tl:0})).then(function(c){c=c!==void 0?[c.lastActivityTimestampMs,c.lastReadWatermarkTimestampMs]:[void 0,void 0];if(b("bs_caml_obj").caml_greaterthan(c[0],c[1]))return b("LSOptimisticMarkThreadReadV2")(d,b("bs_caml_int64").of_float(b("ServerTime").getMillis()),b("LS.bs").make(a));else return window.Promise.resolve(void 0)})},"readWrite"),void 0,void 0)},[d,c])}f.useHook=a},null);
__d("MWLSThread.bs",["ReQL.bs","ReQLSubscription.bs","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a,tl:0})},[c,JSON.stringify(a)]))}function c(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a,tl:0})},[c,JSON.stringify(a)]))}f.useThread=a;f.useThreadExn=c},null);
__d("MWLSThreadIsPinned.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("pinned_threads")),{hd:d,tl:0})},[c,d])),!1,function(a){return!0})}f.useHook=a},null);
__d("MessengerMuteUtils.bs",["fbt","DateStrings","MWCMThreadTypes.bs","bs_caml_int64","formatDate"],function(a,b,c,d,e,f,g){"use strict";function a(a){if(a<=0)if(a===-1)return g._("__JHASH__Qqz4BaNxhpZ__JHASH__");else return;if(a<86401)return;var c=new Date(a*1e3).getDay(),d=c===new Date().getDay(),e=c===new Date().getDay()+1;if(e)return g._("__JHASH__oudW1xi6NTV__JHASH__",[g._param("time",b("formatDate")(a,"g:ia"))]);else if(d)return g._("__JHASH__so9VkYDJtTA__JHASH__",[g._param("time",b("formatDate")(a,"g:ia"))]);else return g._("__JHASH__8p1YQCn8sSf__JHASH__",[g._param("time",b("formatDate")(a,"g:ia")),g._param("weekday name",b("DateStrings").getWeekdayName(c))])}function c(a){if(a)return g._("__JHASH__vpk4cwy2c0D__JHASH__");else return g._("__JHASH__eAj1-l7LtAU__JHASH__")}function d(a,b){if(a===void 0)return g._("__JHASH__f_P00nfKfsd__JHASH__");switch(a){case 0:return g._("__JHASH__y6CbIpxcfjc__JHASH__");case 1:return g._("__JHASH__KZVYUin3ZRV__JHASH__");case 2:return g._("__JHASH__3siRtUcKeun__JHASH__")}}function e(a){var c=a.muteCallsExpireTimeMs,d=a.muteExpireTimeMs;if(b("MWCMThreadTypes.bs").isUnjoinedCMThread(a.threadType))return 0;a=Math.min(b("bs_caml_int64").to_float(d),b("bs_caml_int64").to_float(c));d=Math.max(b("bs_caml_int64").to_float(d),b("bs_caml_int64").to_float(c));if(a===-1)return-1;else return d}var h=0,i=-1;f.mutedUntilLabel=a;f.muteActionLabel=c;f.muteDialogTitle=d;f.unmutedMs=h;f.mutedPermanentlyMs=i;f.calcMuteUntilMs=e},null);
__d("LSThreadRtcRoomState.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.noRoom=a;f.noOngoingCall=c;f.ongoingCall=d;f.ongoingAudioRoomCall=e},null);
__d("LSThreadRtcRoomThreadUseCase.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];f.roomChat=a;f.threadToRoom=c;f.groupThreadInvite=d;f.learningSpace=e},null);
__d("MWLSGetLearningSpaceRoomOnThread.bs",["LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadRtcRoomState.bs","LSThreadRtcRoomThreadUseCase.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_obj","qex","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").isLearningSpaceChat,a),e=JSON.stringify(a.threadKey);e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(c.table("rtc_rooms_on_threads")),{hd:a.threadKey,tl:0})},[c,e]));e=b("bs_belt_Option").flatMap(e,function(a){if(b("bs_caml_obj").caml_equal(a.roomThreadUseCase,b("LSThreadRtcRoomThreadUseCase.bs").learningSpace)&&b("bs_caml").i64_eq(a.roomState,b("LSThreadRtcRoomState.bs").ongoingCall)&&b("qex")._("1542")===!0)return a.roomUrl});var f=b("bs_belt_Option").isSome(e);return[d,e,f]}f.useHook=a},null);
__d("LSRtcCallState.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.noOngoingCall=a;f.audioGroupCall=c;f.videoGroupCall=d},null);
__d("RTCCallState.bs",["LSRtcCallState.bs","MessagingThreadType.bs","bs_caml","bs_int64","recoverableViolation"],function(a,b,c,d,e,f){"use strict";function g(a){if(a===b("MessagingThreadType.bs").group)return!0;else return a===b("MessagingThreadType.bs").tincanGroupDisappearing}function a(a,c){if(b("bs_caml").i64_eq(a,b("LSRtcCallState.bs").noOngoingCall))return"NO_ONGOING_CALL";else if(b("bs_caml").i64_eq(a,b("LSRtcCallState.bs").audioGroupCall))if(g(c))return"AUDIO_GROUP_CALL";else return"AUDIO_1TO1_CALL";else if(b("bs_caml").i64_eq(a,b("LSRtcCallState.bs").videoGroupCall))if(g(c))return"VIDEO_GROUP_CALL";else return"VIDEO_1TO1_CALL";else{b("recoverableViolation")("Unknown RTCCallState: "+(b("bs_int64").to_string(a)+("L and threadType combination: "+(b("bs_int64").to_string(c)+"L"))),"messenger_web_product");return"NO_ONGOING_CALL"}}f.ofLsRtcCallState=a},null);
__d("MWThreadListSupportedThreadTypes.bs",["MAWGating.bs","MessagingThreadType.bs","gkx"],function(a,b,c,d,e,f){"use strict";c=[(a=b("MessagingThreadType.bs")).oneToOne,a.group,a.marketplace,a.folder,a.room].concat(b("MAWGating.bs").isArmadillo(void 0)&&b("MAWGating.bs").isMobileTLCOverride(void 0)===!1?[b("MessagingThreadType.bs").secureMessageOverWaOneToOne,b("MessagingThreadType.bs").secureMessageOverWaGroup]:[],b("gkx")("1950")?[b("MessagingThreadType.bs").communityGroup,b("MessagingThreadType.bs").communityGroupUnjoined]:[]);f.supportedThreadTypes=c},null);
__d("MWIsXacGroupThread.bs",["LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs"],function(a,b,c,d,e,f){"use strict";function a(a){return b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addXacUsers,a)}f.check=a},null);
__d("MWV2HeaderCloseButton.bs",["fbt","CometPressable.react","MWTooltip.react","bs_caml_option","react","stylex","useSetAttributeRef"],function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=g._("__JHASH__h_m7dC6Kxvx__JHASH__"),l={svg:{marginTop:"lydb6one",marginEnd:"ewco64xe",marginBottom:"nm038hv0",marginStart:"ms56khn7"}};function a(a){var c=a.onPress,d=a.color,e=a.label;a=a.testid;e=e!==void 0?e:k;var f=b("useSetAttributeRef")("data-prevent_chattab_focus","1");f={"aria-label":e,ref:f,onPress:c,overlayRadius:"50%",children:j.jsx("svg",{className:(i||(i=b("stylex")))(l.svg),width:"24px",height:"24px",viewBox:"0 0 24 24",children:j.jsxs("g",{strokeLinecap:"round",strokeWidth:"2",stroke:d,children:[j.jsx("line",{x1:"6",x2:"18",y1:"6",y2:"18"}),j.jsx("line",{x1:"6",x2:"18",y1:"18",y2:"6"})]})})};a!==void 0&&(f.testid=b("bs_caml_option").valFromOption(a));return j.jsx(b("MWTooltip.react"),{tooltip:e,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),f)})}c=a;f.defaultLabel=k;f.styles=l;f.make=c},null);
__d("MWV2HeaderContainer.bs",["MDSRow.react","bs_caml_option","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{position:"om3e55n1",display:"alzwoclg",flexShrink:"jez8cy9q",justifyContent:"sl27f92c",alignItems:"i85zmo3j",overflowX:"lq84ybu9",overflowY:"hf30pyar",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",backgroundColor:"lg77cbj3",height:"h7q9eq3y",zIndex:"j7qd3pol"},divider:{boxShadow:"s7ceg5uy"}};function a(a){var c=a.startContent,d=a.endContent,e=a.backgroundColor;a=a.divider;c=c!==void 0?b("bs_caml_option").valFromOption(c):null;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;a=a!==void 0?a:!0;var f={};e!==void 0&&(f.backgroundColor=e);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root,a?j.divider:!1),style:f,children:[i.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:c}),d]})}c=a;f.styles=j;f.make=c},null);
__d("MWV2IsTabFocusedContext.bs",["react"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){var b=a.children;a=a.isFocused;return h.createElement(i.Provider,{value:a,children:b})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c},null);
__d("MWV2TabContainer.bs",["MWChatFocusComposerContext.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTabFocusHandler.bs","UseMWV2CloseTab.bs","bs_curry","react","stylex"],function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={defaultHeight:{height:"m79goqhi","@media (min-height: 1280px)":{height:"h9ern7zs"}},fixedHeight:{height:"ikduhi8d"},tabContainer:{backgroundColor:"lg77cbj3",boxShadow:"fhpyej5c",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",fontSize:"k1z55t6l",lineHeight:"oog5qr5w",display:"alzwoclg",flexDirection:"cqf1kptm",width:"h74fxh6b",maxHeight:"og8d54zq",marginStart:"a60616oh"}};function a(a){var c=a.tab,d=a.thread,e=a.style,f=a.tabIndex,g=a.ariaBusy,k=a.ariaLabel,l=a.domRef,m=a.children;a=a.isFixedHeight;a=a!==void 0?a:!1;var n=b("MWChatStateV2.bs").useDispatch(void 0),o=b("UseMWV2CloseTab.bs").useHook(d,c);return i.jsx(b("MWChatFocusComposerContext.bs").provider,{children:i.jsx(b("MWChatTabFocusHandler.bs").make,{onEscape:function(a){return b("bs_curry")._1(o,void 0)},onFocus:function(a){return b("bs_curry")._1(n,b("MWChatStateActions.bs").focusTab(c.tabId))},onBlur:function(a){return b("bs_curry")._1(n,b("MWChatStateActions.bs").blurTab(void 0))},children:i.jsx("div",{className:(h||(h=b("stylex")))(j.tabContainer,a?j.fixedHeight:j.defaultHeight),style:e,tabIndex:f,"aria-busy":g,"aria-label":k,ref:l,"data-testid":"mwchat-tab",children:m})})})}c=a;f.styles=j;f.make=c},null);
__d("MWPThreadIsPage.bs",["LSContactType.bs","MWPActor.bs","ReQL.bs","ReQLSuspense","bs_caml","bs_caml_option","react","recoverableViolation","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var c=a.threadKey;a=a.children;var d=b("useReStore")(),e=b("MWPActor.bs").useActor(void 0),f=b("ReQLSuspense").useFirst(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0}))})},[d,c,e]);if(f!==void 0){f=b("bs_caml_option").valFromOption(f);f=f!==void 0?b("bs_caml").i64_eq(f.contactType,b("LSContactType.bs").page):!1}else f=!1;return h.createElement(i.Provider,{value:f,children:a})}function c(a){a=h.useContext(i);if(a!==void 0)return a;else{b("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_product");return!1}}d=a;f.make=d;f.useIsPage=c},null);
__d("MWPColorUtils.bs",["bs_belt_Option","bs_caml_array","bs_caml_int64","recoverableViolation"],function(a,b,c,d,e,f){"use strict";function g(a){a=b("bs_caml_int64").to_int32(a);var c=(a&16711680)>>>16,d=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(c)+(e(d)+e(a)))}function a(a,c,d){d=a.sort(function(a,c){return b("bs_caml_int64").to_int32(a.gradientIndex)-b("bs_caml_int64").to_int32(c.gradientIndex)|0}).map(function(a){return g(a.color)});a=d.length;if(a!==1){if(a!==0){a=b("bs_belt_Option").isSome(c);var e=[];c!==void 0&&e.push(b("bs_caml_array").get(d,0)+" calc(100vh - "+String(c.totalHeight)+"px + "+String(c.headerHeight)+"px)");for(var f=a?1:0,a=d.length-(a?2:1)|0;f<=a;++f)e.push(b("bs_caml_array").get(d,f));c!==void 0&&(e.push(d[d.length-1|0]+" calc(100% - "+String(c.footerHeight)+"px)"),e.push(d[d.length-1|0]));f=e.join(", ");return"linear-gradient("+f+")"}b("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}b("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}f.int64ToHex=g;f.gradient=a},null);
__d("LS.re",["LS.bs"],function(a,b,c,d,e,f){a=b("LS.bs").make;f.make=a},null);
__d("MqttState.bs",[],function(a,b,c,d,e,f){"use strict";a="Connected";b="Disconnected";c="Connecting";f.connected=a;f.disconnected=b;f.connecting=c},null);
__d("LSPlatformConnectionStatusContext.bs",["LS.bs","LSDeleteAllAndInsertConnectivityStatus","LSInternetConnectionState.bs","LSPersistedDbGating","LSTransaction.bs","MqttState.bs","bs_caml_array","bs_caml_option","bs_curry","cr:434","cr:4435","promiseDone","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){}a={status:b("MqttState.bs").connected,setStatus:a};var i=h.createContext(a);function c(a){var c=a.children,d=a.onConnectionStatusChange,e=b("useReStore")();a=h.useState(function(){return b("MqttState.bs").connected});var f=a[1],g=a[0];h.useEffect(function(){return d(function(a){return b("bs_curry")._1(f,function(b){return a})})},[]);h.useEffect(function(){(g===b("MqttState.bs").connected||g===b("MqttState.bs").disconnected)&&b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSDeleteAllAndInsertConnectivityStatus")(g===b("MqttState.bs").connected?b("LSInternetConnectionState.bs").connected:b("LSInternetConnectionState.bs").notConnected,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[e,g]);a=h.useCallback(function(a){return b("bs_curry")._1(f,function(b){return a})},[f]);a={status:g,setStatus:a};return h.createElement(i.Provider,{value:a,children:c})}function d(a){return h.useContext(i)}var j=b("cr:4435")==null?void 0:b("bs_caml_option").some(b("cr:4435")),k=b("cr:434")==null?void 0:b("bs_caml_option").some(b("cr:434"));function e(a){a=h.useContext(i);var c=a.setStatus;return h.useMemo(function(){return function(a){if(!(b("cr:4435")==null)&&!(b("cr:434")==null)&&b("LSPersistedDbGating").oneMqttConnectionAcrossTabs){b("bs_curry")._1(b("cr:4435").hasLock,void 0)&&(b("bs_curry")._1(c,a),b("bs_curry")._2(b("cr:434").postMessage,"connection",[a]));return b("bs_curry")._2(b("cr:434").onEventReceive,"connection",function(a){if(!b("bs_curry")._1(b("cr:4435").hasLock,void 0))return b("bs_curry")._1(c,b("bs_caml_array").get(a,0))})}else return b("bs_curry")._1(c,a)}},[c])}c=c;f.emptyValue=a;f.context=i;f.make=c;f.useContext=d;f.$ReStoreDbLock$requireCond=b("cr:4435");f.appLock=j;f.$MWTabNotifier$requireCond=b("cr:434");f.tabNotifier=k;f.useStatusChangeHandler=e},null);
__d("MWPBumpEntityKey.bs",["CurrentUser","ODS"],function(a,b,c,d,e,f){"use strict";function g(a,c){b("ODS").bumpEntityKey(3185,a,c)}function a(a,c){var d=b("CurrentUser").getAppID();d=d==null?"unknown":d;return g(a,c+"."+d)}f.bumpEntityKey=g;f.bumpEntityKeyWithAppId=a},null);
__d("MWPBumpEntityKey.re",["MWPBumpEntityKey.bs","bs_curry"],function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("MWPBumpEntityKey.bs").bumpEntityKey,a,c);return a};f.bumpEntityKey=a;c=function(a,c){a=b("bs_curry")._2(b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId,a,c);return a};f.bumpEntityKeyWithAppId=c},null);
__d("MessengerThreadThemeGradientType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.messageBubbleOutbound=a;f.messageBubbleInbound=c;f.threadviewBackground=d;f.deliveryReceipt=e},null);
__d("MWPThreadTheme.bs",["LSInt64.bs","MWPColorUtils.bs","MessengerThreadThemeGradientType.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Array","react","useReStore"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={fbid:[45690,4245347893],themeIdx:[0,94],fallbackColor:[-1,4278224127],reverseGradiantsForRadial:!1,accessibilityLabel:"Default Blue",isDeprecated:!1},j=[],k={threadTheme:i,gradientColors:j};i={fbid:[45690,4245347893],themeIdx:[0,94],fallbackColor:[-1,4278224127],reverseGradiantsForRadial:!1,accessibilityLabel:"Default Blue",isDeprecated:!1};j=j;function a(a){}i={threadTheme:i,gradientColors:j,setPreviewId:a,previewId:void 0};var l=h.createContext(i);function m(a,c){var d=b("useReStore")(),e=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("thread_themes")),{hd:a,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(a)])),f=b("ReQLSubscription.bs").useArray(h.useMemo(function(){if(a!==void 0)return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("gradient_colors")),{hd:a,tl:0}),function(a){return b("LSInt64.bs").equal(a.type_,b("MessengerThreadThemeGradientType.bs").messageBubbleOutbound)});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(a)]));return h.useMemo(function(){if(e!==void 0)return{threadTheme:e,gradientColors:f};else return c},[e,f])}function c(a){var b=a.themeFbid,c=a.children;a=a.defaultTheme;a=a!==void 0?a:k;var d=h.useState(function(){}),e=d[1],f=d[0];d=h.useMemo(function(){if(f!==void 0)return f;else return b},[JSON.stringify(b),f]);var g=m(d,a);d=h.useMemo(function(){return{threadTheme:g.threadTheme,gradientColors:g.gradientColors,setPreviewId:e,previewId:f}},[g,e,JSON.stringify(f)]);return h.createElement(l.Provider,{value:d,children:c})}function d(a){return h.useContext(l)}function e(a){a=h.useContext(l);var c=b("bs_belt_Array").get(a.gradientColors,0);if(c!==void 0)return b("MWPColorUtils.bs").int64ToHex(c.color);else return b("MWPColorUtils.bs").int64ToHex(a.threadTheme.fallbackColor)}function n(a){a=h.useContext(l);var c=a.gradientColors;c=b("bs_belt_Array").get(c,c.length-1|0);if(c!==void 0)return b("MWPColorUtils.bs").int64ToHex(c.color);else return b("MWPColorUtils.bs").int64ToHex(a.threadTheme.fallbackColor)}function o(a){return a.gradientColors.length>1}j=c;f.mwDefaultTheme=k;f.defaultContextValue=i;f.context=l;f.make=j;f.useHook=d;f.useTop=e;f.useBottom=n;f.isGradient=o},null);
__d("MWPThreadsForThreadList.bs",["ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_int64"],function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(d!==void 0){a=b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")),{hd:c,tl:0}),{NAME:"greaterThan",VAL:{hd:b("bs_caml_int64").zero,tl:0}});c=d.minLastActivityTimestampMs;d=d.maxLastActivityTimestampMs;c=b("bs_caml").i64_neq(c,b("bs_caml_int64").zero)&&b("bs_caml").i64_neq(c,b("bs_caml_int64").one)?c:void 0;d=b("bs_caml").i64_neq(d,b("bs_caml_int64").zero)&&b("bs_caml").i64_neq(d,b("bs_caml_int64").one)?d:void 0;if(c!==void 0)if(d!==void 0)return b("ReQL.bs").bounds(a,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:c,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:d,tl:0}}]});else return b("ReQL.bs").bounds(a,{NAME:"greaterThanOrEqual",VAL:{hd:c,tl:0}});else if(d!==void 0)return b("ReQL.bs").bounds(a,{NAME:"lessThanOrEqual",VAL:{hd:d,tl:0}});else return a}else return b("SortedAsyncIterable.bs").empty(void 0)}f.createIterable=a},null);
__d("WebStorage.bs",["WebStorage","bs_caml_option"],function(a,b,c,d,e,f){"use strict";var g;function a(a){return(g||(g=b("WebStorage"))).getLocalStorage()}function c(a){return(g||(g=b("WebStorage"))).getSessionStorage()}function d(a){return b("bs_caml_option").nullable_to_opt((g||(g=b("WebStorage"))).getLocalStorage())}function e(a){return b("bs_caml_option").nullable_to_opt((g||(g=b("WebStorage"))).getSessionStorage())}function h(a,c,d){return(g||(g=b("WebStorage"))).setItemGuarded(a,c,d)}f.getLocalStorageExternal=a;f.getSessionStorageExternal=c;f.getLocalStorage=d;f.getSessionStorage=e;f.setItemGuarded=h},null);
__d("CommunityMessagingEnableState.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];f.enabled=a;f.disableRequested=c;f.disabling=d;f.disabled=e},null);
__d("FBGroupChatEventTypes",[],function(a,b,c,d,e,f){a=Object.freeze({ABOUT_COMMUNITY_CHATS_BOTTOM_SHEET_RENDERED:"about_community_chats_bottom_sheet_rendered",ACCEPT_INVITATION_BOTTOM_SHEET_RENDERED:"accept_invitation_bottom_sheet_rendered",ACCEPT_INVITATION_POPUP_RENDERED:"accept_invitation_popup_rendered",ACCEPT_TO_BE_ADMIN:"admin_invite_accept",ACCEPT_TO_BE_MODERATOR:"moderator_invite_accept",ADD_CHAT_SHEET_RENDERED:"add_chat_sheet_rendered",ADD_CHAT_TO_POST_BOTTOM_SHEET_RENDERED:"add_chat_to_post_bottom_sheet_rendered",ADD_EXISTING_CHAT_TO_NEW_POST:"add_existing_chat_to_new_post",ADD_EXISTING_CHAT_TO_POST:"add_existing_chat_to_post",ADD_MEMBER_AS_ADMIN_CONFIRMED:"admin_invite_confirmed",ADD_MEMBER_AS_ADMIN_INITIATED:"admin_invite_initiated",ADD_MEMBER_AS_MODERATOR_CONFIRMED:"moderator_invite_confirmed",ADD_MEMBER_AS_MODERATOR_INITIATED:"moderator_invite_initiated",ADD_NEW_CHAT_TO_NEW_POST:"add_new_chat_to_new_post",ADMOD_COPY_THREAD_LINK:"admod_copy_thread_link",AUDIO_CHANNEL_CREATE:"audio_channel_create",BOTTOM_SHEET_RENDERED:"bottom_sheet_rendered",BROADCAST_CHAT_QP_RENDERED:"broadcast_chat_qp_rendered",CANCEL_ADMIN_INVITE_INITIATED:"cancel_admin_invite_initiated",CANCEL_MODERATOR_INVITE_INITIATED:"cancel_moderator_invite_initiated",CHANNEL_LEVEL_MUTE_ALL_NOTIF:"channel_level_mute_all_notif",CHANNEL_LEVEL_UNMUTE_ALL_NOTIF:"channel_level_unmute_all_notif",CHANNEL_LIST_RENDERED:"channel_list_rendered",CHAT_CREATION_SHEET_RENDERED:"chat_creation_sheet_rendered",CHAT_CREATION_TEMPLATE_LIST_RENDERED:"chat_creation_template_list_rendered",CHAT_JOIN_ONBOARDING_BOTTOM_SHEET_RENDERED:"chat_join_onboarding_bottom_sheet_rendered",CHAT_JOIN_SHEET_RENDERED:"chat_join_sheet_rendered",CHAT_SUGGESTION_BANNER_VIEWED:"chat_suggestion_banner_viewed",CHAT_SUGGESTION_BOTTOM_SHEET_RENDERED:"chat_suggestion_bottom_sheet_rendered",CHOOSE_INVITE_ONLY_CHAT_TYPE:"choose_invite_only_chat_type",CHOOSE_STANDARD_CHAT_TYPE:"choose_standard_chat_type",CHOOSE_VIEW_ONLY_CHAT_TYPE:"choose_view_only_chat_type",CLICK_BROADCAST_CHAT_QP:"click_broadcast_chat_qp",CLICK_INVITE_ONLY_CHAT_QP:"click_invite_only_chat_qp",COMMUNITY_INVITE_LINK_RESET_FAILED:"community_invite_link_reset_failed",COMMUNITY_INVITE_LINK_RESET_SUCCEEDED:"community_invite_link_reset_succeeded",COMMUNITY_LEVEL_MUTE_ALL_NOTIF:"community_level_mute_all_notif",COMMUNITY_LEVEL_UNMUTE_ALL_NOTIF:"community_level_unmute_all_notif",CS_MEMBER_FORM_BACK_BUTTON_TAPPED:"cs_member_form_back_button_tapped",CS_MEMBER_FORM_CHANGE_IMAGE_TAPPED:"cs_member_form_change_image_tapped",CS_MEMBER_FORM_DESCRIPTION_FOCUSED:"cs_member_form_description_focused",CS_MEMBER_FORM_NAME_FOCUSED:"cs_member_form_name_focused",CS_MEMBER_FORM_RENDERED:"cs_member_form_rendered",CS_MEMBER_FORM_REVIEW_BUTTON_TAPPED:"cs_member_form_review_button_tapped",CS_MEMBER_FORM_SUBMIT_BUTTON_TAPPED:"cs_member_form_submit_button_tapped",CS_MEMBER_SUGGEST_BUTTON_TAPPED:"cs_member_suggest_button_tapped",CS_MEMBER_SUGGEST_MENU_ITEM_TAPPED:"cs_member_suggest_menu_item_tapped",DECLINE_INVITE_ERROR:"decline_invite_error",DECLINE_TO_BE_ADMIN:"admin_invite_decline",DECLINE_TO_BE_MODERATOR:"moderator_invite_decline",DESELECT:"deselect",DIRECT_INVITE_SHEET_NULL_STATE:"direct_invite_sheet_null_state",DIRECT_INVITE_SKIP_BUTTON_TAPPED:"direct_invite_skip_button_tapped",DIRECT_INVITE_SKIP_DISMISS_BUTTON_TAPPED:"direct_invite_skip_dismiss_button_tapped",DISMISS_CLICK:"dismiss_click",ENABLE_MEMBER_CHAT_ADMIN_APPROVAL:"enable_member_chat_admin_approval",ENABLE_MEMBER_CHAT_CREATION:"enable_member_chat_creation",INVITE_ACCEPTED:"invite_accepted",INVITE_DECLINED:"invite_declined",INVITE_ONLY_CHAT_QP_RENDERED:"invite_only_chat_qp_rendered",LEARN_MORE_BUTTON_CLICKED:"learn_more_button_clicked",MEMBER_CANNOT_CREATE_CHAT_SUGGESTION:"member_cannot_create_chat_suggestion",MEMBER_CHAT_SUGGESTION_CREATED:"member_chat_suggestion_created",MEMBER_CHAT_SUGGESTION_FAILED:"member_chat_suggestion_failed",MESSENGER_COMMUNITY_MESSAGING_NOT_ENABLED:"messenger_community_messaging_not_enabled",PRIMARY_CLICK:"primary_click",PRIVATE_TOGGLE_RENDERED:"private_toggle_rendered",QP_RENDERED:"qp_rendered",REMOVE_ADMIN_INITIATED:"remove_admin_initiated",REMOVE_MODERATOR_INITIATED:"remove_moderator_initiated",RENDER_CHANNEL_LIST:"render_channel_list",RENDER_CHAT_CREATION_SHEET:"render_chat_creation_sheet",RENDER_CHAT_MEMBERS:"render_chat_members",RENDER_CHAT_SUGGESTION_BOTTOM_SHEET:"render_chat_suggestion_bottom_sheet",RENDER_CREATE_MENU:"render_create_menu",RENDER_DIRECT_INVITE_SHEET:"render_direct_invite_sheet",RENDER_DIRECT_INVITE_SKIP_BOTTOM_SHEET:"render_direct_invite_skip_bottom_sheet",RENDER_GROUP_SETTINGS:"render_group_settings",RENDER_QP_BOTTOM_SHEET:"render_qp_bottom_sheet",RENDER_SUBMIT_CHAT_SUGGESTION_BOTTOM_SHEET:"render_submit_chat_suggestion_bottom_sheet",RENDER_SUGGESTED_GROUP_MEMBERS_LIST:"render_suggested_group_members_list",REPORT_CHANNEL_CATEGORY_TO_FB:"report_channel_category_to_fb",ROUTE_TO_MESSENGER_JOINED:"route_to_messenger_joined",ROUTE_TO_MESSENGER_UNJOINED:"route_to_messenger_unjoined",ROUTE_TO_MIB:"route_to_mib",SELECT:"select",SEND_DIRECT_INVITE:"send_direct_invite",SHARE_TO_COMMUNITY_CHAT_BOTTOM_SHEET_RENDERED:"share_to_community_chat_bottom_sheet_rendered",SHARE_TO_NEW_CHAT_BOTTOM_SHEET_RENDERED:"share_to_new_chat_bottom_sheet_rendered",SOUNDS_GOOD_BUTTON_CLICKED:"sounds_good_button_clicked",SUBMIT_CHAT_SUGGESTION_BOTTOM_SHEET_REDNERED:"submit_chat_suggestion_bottom_sheet_rendered",SUGGEST_CHAT:"suggest_chat",THREAD_JOIN:"thread_join",THREAD_OPEN:"thread_open",THREAD_SETTINGS_RENDERED:"thread_settings_rendered",THREAD_USER_COPY_INVITE_LINK:"thread_user_copy_invite_link",THREAD_USER_RESET_INVITE_LINK:"thread_user_reset_invite_link",UNKNOWN:"unknown",VIEW:"view",VIEW_CHATS_BUTTON_VIEWED:"view_chats_button_viewed",VIEW_ONLY_TYPE_RENDERED:"view_only_type_rendered"});f["default"]=a},66);
__d("FBGroupChatSourceTypes",[],function(a,b,c,d,e,f){a=Object.freeze({ABOUT_COMMUNITY_CHATS_BOTTOM_SHEET:"about_community_chats_bottom_sheet",ADD_CHAT_SHEET:"add_chat_sheet",ADD_CHAT_TO_POST_BOTTOM_SHEET:"add_chat_to_post_bottom_sheet",ADD_EXISTING_CHAT_BUTTON:"add_existing_chat_button",ADMIN_CHAT:"admin_chat",ADMIN_GROUP_MALL_UPSELL_BOTTOMSHEET:"admin_group_mall_upsell_bottomsheet",ADMIN_MEMBER_CHAT_INFO:"admin_member_chat_info",ADMIN_MEMBER_CHAT_INFO_DISMISS:"admin_member_chat_info_dismiss",ADMIN_ONBOARDING_UNIT:"admin_onboarding_unit",ADMIN_SETTINGS:"admin_settings",AUTO_CREATED_POST:"auto_created_post",AUTO_JOIN:"auto_join",BLENDED_THREADLIST_COMMUNITY_TAB:"blended_threadlist_community_tab",BLOCKED_USERS_IN_CHAT_DISMISS_BUTTON:"blocked_users_in_chat_dismiss_button",BLOCKED_USERS_IN_CHAT_JOIN_CHAT:"blocked_users_in_chat_join_chat",BLOCKED_USERS_IN_CHAT_LEAVE_BUTTON:"blocked_users_in_chat_leave_button",BLOCKED_USERS_IN_CHAT_OPEN_CHAT:"blocked_users_in_chat_open_chat",BLOCKED_USERS_IN_CHAT_STAY_BUTTON:"blocked_users_in_chat_stay_button",BOT_SETUP_BUTTON:"bot_setup_button",BOT_SETUP_THREAD_BANNER:"bot_setup_thread_banner",BROADCAST_CHAT_ADMIN_GROUP_MALL_UPSELL_BOTTOMSHEET:"broadcast_chat_admin_group_mall_upsell_bottomsheet",BROADCAST_CHAT_NOTIFS_OFF_THREAD_BANNER:"broadcast_chat_notifs_off_thread_banner",CANCEL_FORUM_PARTICIPATION:"cancel_forum_participation",CATEGORY_ADD_BUTTON:"category_add_button",CATEGORY_CREATE_ERROR:"category_create_error",CATEGORY_CREATE_SCREEN:"category_create_screen",CATEGORY_DELETE_ERROR:"category_delete_error",CATEGORY_MENU_POPOVER:"category_menu_popover",CATEGORY_NAME_TEXT_BOX:"category_name_text_box",CATEGORY_ROW:"category_row",CATEGORY_UPDATE_ERROR:"category_update_error",CATEGORY_UPDATE_SCREEN:"category_update_screen",CATEGORY_VIEW_CHAT_MENU_POPOVER:"category_view_chat_menu_popover",CATEGORY_VIEW_MENU_BUTTON:"category_view_menu_button",CATEGORY_VIEW_MENU_POPUP:"category_view_menu_popup",CHANGE_CHAT_NOTIFS_THREAD_BANNER:"change_chat_notifs_thread_banner",CHAT_CATEGORY:"chat_category",CHAT_CATEGORY_POPUP_ADD:"chat_category_popup_add",CHAT_CATEGORY_POPUP_DISMISS:"chat_category_popup_dismiss",CHAT_CATEGORY_POPUP_SELECT:"chat_category_popup_select",CHAT_CREATE_ERROR:"chat_create_error",CHAT_CREATION_TEMPLATE_LIST:"chat_creation_template_list",CHAT_DESCRIPTION_TEXT_BOX:"chat_description_text_box",CHAT_FULL_THREAD_BANNER:"chat_full_thread_banner",CHAT_IMAGE_COLOR:"chat_image_color",CHAT_IMAGE_COLOR_TAB:"chat_image_color_tab",CHAT_IMAGE_CUSTOMIZATION_BOTTOMSHEET:"chat_image_customization_bottomsheet",CHAT_IMAGE_CUSTOMIZATION_BUTTON:"chat_image_customization_button",CHAT_IMAGE_CUSTOMIZATION_POPUP:"chat_image_customization_popup",CHAT_IMAGE_EDIT_BUTTON:"chat_image_edit_button",CHAT_IMAGE_EDIT_DISMIS:"chat_image_edit_dismiss",CHAT_IMAGE_EMOJI:"chat_image_emoji",CHAT_IMAGE_EMOJI_SEARCH_BAR:"chat_image_emoji_search_bar",CHAT_IMAGE_EMOJI_TAB:"chat_image_emoji_tab",CHAT_IMAGE_PRESET_IMAGE:"chat_image_preset_image",CHAT_IMAGE_PREVIEW:"chat_image_preview",CHAT_IMAGE_PREVIEW_DISMISS:"chat_image_preview_dismiss",CHAT_JOIN_ERROR:"chat_join_error",CHAT_JOIN_ONBOARDING_BOTTOM_SHEET_GET_STARTED_BUTTON:"chat_join_onboarding_bottom_sheet_get_started_button",CHAT_JOIN_ONBOARDING_BOTTOM_SHEET_NOTIF_SETTINGS_BUTTON:"chat_join_onboarding_bottom_sheet_notif_settings_button",CHAT_NAME_TEXT_BOX:"chat_name_text_box",CHAT_ROOM_CREATE_BUTTON:"chat_room_create_button",CHAT_ROOM_CREATE_SCREEN:"chat_room_create_screen",CHAT_ROOM_UPDATE_SCREEN:"chat_room_update_screen",CHAT_ROW:"chat_row",CHAT_ROW_JOIN_BUTTON:"chat_row_join_button",CHAT_SUGGESTION_BANNER:"chat_suggestion_banner",CHAT_SUGGESTION_BOTTOM_SHEET:"chat_suggestion_bottom_sheet",CHAT_TYPE_POPUP_DISMISS:"chat_type_popup_dismiss",CHAT_TYPE_POPUP_SELECT:"chat_type_popup_select",CHATS_FULL_BANNER:"chats_full_banner",CHATS_INTRODUCTION_QP:"chats_introduction_qp",CHATS_RHC_CARD:"chats_rhc_card",COLLAPSE_BUTTON:"collapse_button",COMMUNITY_ALL_NOTIFICATIONS_BUTTON:"community_all_notifications_button",COMMUNITY_MENTIONS_AND_REPLIES_ONLY_NOTIFICATIONS_BUTTON:"community_mentions_and_replies_only_notifications_button",COMMUNITY_MUTE_NOTIFICATIONS_BOTTOMSHEET_DISMISS:"community_mute_notifications_bottomsheet_dismiss",COMMUNITY_MUTE_NOTIFICATIONS_BUTTON_SWITCH:"community_mute_notifications_button_switch",COMMUNITY_MUTE_NOTIFICATIONS_FOR_15_MINUTES:"community_mute_notifications_for_15_minutes",COMMUNITY_MUTE_NOTIFICATIONS_FOR_1_HOUR:"community_mute_notifications_for_1_hour",COMMUNITY_MUTE_NOTIFICATIONS_FOR_24_HOURS:"community_mute_notifications_for_24_hours",COMMUNITY_MUTE_NOTIFICATIONS_FOR_8_HOURS:"community_mute_notifications_for_8_hours",COMMUNITY_MUTE_NOTIFICATIONS_UNTIL_TURN_BACK_ON:"community_mute_notifications_until_turn_back_on",COMMUNITY_NO_NOTIFICATIONS_BUTTON:"community_no_notifications_button",COMMUNITY_NOTIF_SETTINGS:"community_notif_setting",COMMUNITY_NOTIFICATION_SETTING_ALERT_CANCEL_BUTTON:"community_notification_setting_alert_cancel_button",COMMUNITY_NOTIFICATION_SETTING_ALERT_OK_BUTTON:"community_notification_setting_alert_ok_button",COMMUNITY_NOTIFICATION_SETTINGS_BUTTON:"community_notification_settings_button",COMMUNITY_SUGGESTED_NOTIFICATIONS_BUTTON:"community_suggested_notifications_button",CONFIRM_CHAT_SUGGESTION_BOTTOM_SHEET:"confirm_chat_suggestion_bottom_sheet",COPY_LINK:"copy_link",COPY_LINK_BUTTON:"copy_link_button",COVER_PHOTO:"cover_photo",CREATE_ADD_PHOTO_BUTTON:"create_add_photo_button",CREATE_ADMOD_CHAT:"create_admod_chat",CREATE_BOTTOM_SHEET:"create_bottom_sheet",CREATE_BUTTON:"create_button",CREATE_CATEGORY:"create_category",CREATE_CHAT:"create_chat",CREATE_CHAT_BOTTOMSHEET:"create_chat_bottomsheet",CREATE_CHAT_BUTTON:"create_chat_button",CREATE_INVITE_ONLY_CHAT:"create_invite_only_chat",CREATE_MENU_BUTTON:"create_menu_button",CREATE_MENU_POPOVER:"create_menu_popover",CREATE_NEW_CHAT_BUTTON:"create_new_chat_button",DEFAULT_COLLECTION_DISPLAY_FILE_CLICKED:"default_collection_display_file_clicked",DEFAULT_COLLECTION_DISPLAY_LINK_CLICKED:"default_collection_display_link_clicked",DEFAULT_COLLECTION_DISPLAY_PHOTO_CLICKED:"default_collection_display_photo_clicked",DEFAULT_COLLECTION_DISPLAY_PHOTO_SAVED:"default_collection_display_photo_saved",DEFAULT_COLLECTION_DISPLAY_VIDEO_CLICKED:"default_collection_display_video_clicked",DEFAULT_COLLECTION_DISPLAY_VIDEO_SAVED:"default_collection_display_video_saved",DEFAULT_COLLECTION_THREAD_BANNER:"default_collection_thread_banner",DEFAULT_COLLECTION_VIEW_FILES_SELECTOR:"default_collection_view_files_selector",DEFAULT_COLLECTION_VIEW_LINKS_SELECTOR:"default_collection_view_links_selector",DEFAULT_COLLECTION_VIEW_MEDIA_SELECTOR:"default_collection_view_media_selector",DELETE_CATEGORY:"delete_category",DELETE_CHAT:"delete_chat",DIRECT_INVITE_DECLINE_BUTTON:"direct_invite_decline_button",DIRECT_INVITE_JOIN_BUTTON:"direct_invite_join_button",DIRECT_INVITE_POPUP:"direct_invite_popup",DIRECT_INVITE_REMINDER_THREAD_BANNER:"direct_invite_reminder_thread_banner",DIRECT_INVITE_SKIP_BOTTOMSHEET:"direct_invite_skip_bottomsheet",DISBALED_CHAT_DIALOG:"disabled_chat_dialog",DISMISS:"dismiss",DISMISS_BUTTON:"dismiss_button",DONE:"done",EDIT_CATEGORY:"edit_category",EDIT_CHAT:"edit_chat",EDIT_THREAD_NOTIFICATION_SETTINGS:"edit_thread_notification_settings",EDIT_UPDATE_PHOTO_BUTTON:"edit_update_photo_button",EVENT_PERMALINK_CHAT_BUMPER:"event_permalink_chat_bumper",EVENT_PERMALINK_CHAT_CARD:"event_permalink_chat_card",EVENT_PERMALINK_HOST_ONBOARDING_CARD:"event_permalink_host_onboarding_card",EVENT_PERMALINK_SUMMARY_ROW:"event_permalink_summary_row",EVENT_THREAD_BANNER:"event_thread_banner",EXPAND_BUTTON:"expand_button",FULL_CHATS_BOTTOMSHEET:"full_chats_bottomsheet",GET_STARTED_BUTTON:"get_started_button",GO_BACK_BUTTON:"go_back_button",GO_TO_CHAT_BUTTON:"go_to_chat_button",GO_TO_GROUP_MALL_BUTTON:"go_to_group_mall_button",GO_TO_SETTINGS_BUTTON:"go_to_settings_button",GROUP_CHALLENGE_TIMELINE_OVERFLOW_ACTION_BUTTON:"group_challenge_timeline_overflow_action_button",GROUP_CHAT_INISGHTS_MEMBERSHIP_POPUP:"group_chat_inisghts_membership_popup",GROUP_CHAT_INISGHTS_MEMBERSHIP_POPUP_DISMISS:"group_chat_inisghts_membership_popup_dismiss",GROUP_CHAT_INSIGHTS_BUTTON:"group_chat_insights_button",GROUP_CHAT_INSIGHTS_LAST_28_DAYS:"group_chat_insights_last_28_days",GROUP_CHAT_INSIGHTS_LAST_60_DAYS:"group_chat_insights_last_60_days",GROUP_CHAT_INSIGHTS_LAST_7_DAYS:"group_chat_insights_last_7_days",GROUP_CHAT_INSIGHTS_MEMBERSHIP_GRAPH:"group_chat_insights_membership_graph",GROUP_CHAT_INSIGHTS_MEMBERSHIP_PAGE:"group_chat_insights_membership_page",GROUP_CHAT_INSIGHTS_MEMBERSHIP_POPUP:"group_chat_insights_membership_popup",GROUP_CHAT_INSIGHTS_MEMBERSHIP_POPUP_DISMISS:"group_chat_insights_membership_popup_dismiss",GROUP_CHAT_INSIGHTS_MESSAGES_GRAPH:"group_chat_insights_messages_graph",GROUP_CHAT_INSIGHTS_MESSAGES_PAGE:"group_chat_insights_messages_page",GROUP_CHAT_INSIGHTS_MODERATION_POPUP:"group_chat_insights_moderation_popup",GROUP_CHAT_INSIGHTS_MODERATION_POPUP_DISMISS:"group_chat_insights_moderation_popup_dismiss",GROUP_CHAT_INSIGHTS_TOP_CONTRIBUTOR_POPUP:"group_chat_insights_top_contributor_popup",GROUP_CHAT_INSIGHTS_TOP_CONTRIBUTOR_ROW:"group_chat_insights_top_contributor_row",GROUP_MALL:"group_mall",GROUP_POST_THREAD_BANNER:"group_post_thread_banner",HOW_TO_DOWNLOAD_BUTTON:"how_to_download_button",INBOX_MENU_BUTTON:"inbox_menu_button",INBOX_MENU_POPUP:"inbox_menu_popup",INBOX_MORE_MENU_POPUP:"inbox_more_menu",INVITE_ALL_COMMENTERS_CHECKBOX:"invite_all_commenters_checkbox",INVITE_BUTTON:"invite_button",JOIN_ADMOD_CHAT:"join_admod_chat",JOIN_CHAT_BUTTON:"join_chat_button",JOIN_CHAT_POPUP:"join_chat_popup",LEARN_MORE_BUTTON:"learn_more_button",LEAVE_CHAT:"leave_chat",MANAGE_BUTTON:"manage_button",MANAGE_CATEGORY_MENU_BUTTON:"manage_category_menu_button",MANAGE_CATEGORY_MENU_POPOVER:"manage_category_menu_popover",MANAGE_CHAT_MENU_BUTTON:"manage_chat_menu_button",MANAGE_CHAT_MENU_POPOVER:"manage_chat_menu_popover",MANAGE_INBOX:"manage_inbox",MENTION:"mention",MUTE_THREAD_FOR_15_MINUTES:"mute_thread_for_15_minutes",MUTE_THREAD_FOR_1_HOUR:"mute_thread_for_1_hour",MUTE_THREAD_FOR_24_HOURS:"mute_thread_for_24_hours",MUTE_THREAD_FOR_8_HOURS:"mute_thread_for_8_hours",MUTE_THREAD_NOTIFICATIONS_TOGGLE:"mute_thread_notifications_toggle",MUTE_THREAD_UNTIL_TURN_BACK_ON:"mute_thread_until_turn_back_on",NEW_CATEGORY:"new_category",NEW_CHAT:"new_chat",NO_MEMBERS_TO_INVITE:"no_members_to_invite",NOTIFICATION_ACTIVITY_ALL:"notification_activity_all",NOTIFICATION_ACTIVITY_MENTIONS_AND_REPLIES:"notification_activity_mentions_and_replies",NOTIFICATION_ACTIVITY_NONE:"notification_activity_none",NOTIFICATION_ACTIVITY_SUGGESTED:"notification_activity_suggested",NOTIFICATION_ENABLE_CM:"notification_enable_cm",NULL_STATE:"null_state",OKAY:"okay",OPEN_CHAT_BUTTON:"open_chat_button",OTHER:"other",PERMALINK:"permalink",PLINK:"plink",REPORT_CATEGORY_MENU_BUTTON:"report_category_menu_button",REPORT_CATEGORY_POPUP:"report_category_popup",REPORT_CHAT_TO_ADMIN:"report_chat_to_admin",REPORT_CHAT_TO_FACEBOOK:"report_chat_to_facebook",REQUEST_FORUM_PARTICIPATION:"request_forum_participation",RESET_LINK_BUTTON:"reset_link_button",REVIEW_BUTTON:"review_button",ROOM_CREATE_BUTTON:"room_create_button",RSVP_BUTTON:"rsvp_button",SAVE_BUTTON:"save_button",SEE_ALL:"see_all",SEE_ALL_BUTTON:"see_all_button",SEE_CHAT_MEMBERS_BUTTON:"see_chat_members_button",SEE_MODERATION_ALERTS_BUTTON:"see_moderation_alerts_button",SELECT_CATEGORY:"select_category",SELECT_SUGGESTED_GROUP_ROW:"select_suggested_group_row",SEND_EMOJI:"send_emoji",SEND_GIF:"send_gif",SEND_INVITE_BUTTON:"send_invite_button",SEND_PHOTO:"send_photo",SHARE_BUTTON:"share_button",SHARE_TO_COMMUNITY_CHAT_BOTTOM_SHEET:"share_to_community_chat_bottom_sheet",SOUNDS_GOOD_BUTTON:"sounds_good_button",SUBMIT_BUTTON:"submit_button",SUGGESTED_CHAT_ROW:"suggested_chat_row",SUGGESTION_ROW:"suggestion_row",TAB_BUTTON:"tab_button",TEST_DATA_CREATION:"test_data_creation",THREAD_JOIN_THREAD_BANNER:"thread_join_thread_banner",TOPIC_ROW:"topic_row",TRY_IT_BUTTON:"try_it_button",UNKNOWN:"unknown",VIEW_CHATS_BUTTON:"view_chats_button",VIEW_MEDIA_FILES_LINKS_MENU_BUTTON:"view_media_files_links_menu_button"});f["default"]=a},66);
__d("MessageProfileRangeType",[],function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts"});f["default"]=a},66);/*FB_PKG_DELIM*/
__d("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4967262846700060"},null);
__d("CometAddTypeaheadRecentSearchMutation.graphql",["CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadAddRecentSearchResponsePayload",kind:"LinkedField",name:"search_typeahead_add_recent_search",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAddTypeaheadRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAddTypeaheadRecentSearchMutation",selections:c},params:{id:b("CometAddTypeaheadRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometAddTypeaheadRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a},null);
__d("CometDeleteRecentSearchMutation_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4945240752198545"},null);
__d("CometDeleteRecentSearchMutation.graphql",["CometDeleteRecentSearchMutation_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SearchTypeaheadDeleteRecentResponsePayload",kind:"LinkedField",name:"search_typeahead_delete_recent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometDeleteRecentSearchMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometDeleteRecentSearchMutation",selections:c},params:{id:b("CometDeleteRecentSearchMutation_facebookRelayOperation"),metadata:{},name:"CometDeleteRecentSearchMutation",operationKind:"mutation",text:null}}}();e.exports=a},null);
__d("CometSearchBootstrapKeywordsDataSourceQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"first"}],b=[{kind:"Variable",name:"first",variableName:"first"}],c={alias:null,args:null,kind:"ScalarField",name:"keyword_text",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"item_logging_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};g=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},g,h,i],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[h,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},f,i],storageKey:null}],storageKey:null}];h={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:g,args:null,argumentDefinitions:[]}],storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchBootstrapKeywordsDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"BootstrapKeywordsConnection",kind:"LinkedField",name:"bootstrap_keywords",plural:!1,selections:[{alias:null,args:null,concreteType:"BootstrapKeywordsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BootstrapResult",kind:"LinkedField",name:"node",plural:!1,selections:[c,d,e,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:g,storageKey:null},h],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"4255077087859078",metadata:{},name:"CometSearchBootstrapKeywordsDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql",[],function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo"};e.exports=a},null);
__d("CometSearchKeywordDataSourceQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="4970436386382601"},null);
__d("CometSearchKeywordDataSourceQuery.graphql",["CometSearchKeywordDataSourceQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"query"}],c=[{kind:"Variable",name:"query",variableName:"query"}],d={alias:"name",args:null,kind:"ScalarField",name:"text",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"logging_info",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};h=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},h,i,j],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[i,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},g,j],storageKey:null}],storageKey:null}];i={alias:null,args:null,concreteType:"SearchTypeaheadSuggestionKeys",kind:"LinkedField",name:"suggestion_keys",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"default_key",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:h,args:null,argumentDefinitions:[]}],storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSearchKeywordDataSourceQuery",selections:[{alias:null,args:c,concreteType:"KeywordsSearchSuggestionSet",kind:"LinkedField",name:"search_keywords_suggestion",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsConnection",kind:"LinkedField",name:"suggestions",plural:!1,selections:[{alias:null,args:null,concreteType:"KeywordsSearchSuggestionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"KeywordSuggestionUnit",kind:"LinkedField",name:"node",plural:!1,selections:[d,e,f,{alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"structured_info",plural:!1,selections:h,storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometSearchKeywordDataSourceQuery_facebookRelayOperation"),metadata:{},name:"CometSearchKeywordDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("CometSearchRecentDataSourceQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"fetch_nullstate"},b={defaultValue:null,kind:"LocalArgument",name:"fetch_search_badge"},c={defaultValue:null,kind:"LocalArgument",name:"fetch_sts"},d={defaultValue:null,kind:"LocalArgument",name:"filter"},e={defaultValue:null,kind:"LocalArgument",name:"first"},f={defaultValue:null,kind:"LocalArgument",name:"scale"},g={defaultValue:null,kind:"LocalArgument",name:"search_null_state_argument"},h={defaultValue:null,kind:"LocalArgument",name:"search_scope_entity_id"},i=[{kind:"Variable",name:"filter",variableName:"filter"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"search_scope_entity_id",variableName:"search_scope_entity_id"}],j={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"},m=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],n={kind:"InlineFragment",selections:m,type:"Application",abstractKey:null},o={kind:"InlineFragment",selections:m,type:"Event",abstractKey:null},p={kind:"InlineFragment",selections:m,type:"Group",abstractKey:null},q={kind:"InlineFragment",selections:m,type:"Page",abstractKey:null};m={kind:"InlineFragment",selections:m,type:"User",abstractKey:null};var r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};u=[{alias:null,args:null,concreteType:"STSDirectNavResult",kind:"LinkedField",name:"direct_nav_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"img_url",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"entity_type",storageKey:null},t,u,v],storageKey:null},{alias:null,args:null,concreteType:"STSHighConfidenceResult",kind:"LinkedField",name:"high_confidence_result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hcm_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"picture_url",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"source_as_enum",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"STSDisambiguationResult",kind:"LinkedField",name:"disambiguation_result",plural:!1,selections:[u,{alias:null,args:null,concreteType:"STSDisambiguationInfo",kind:"LinkedField",name:"disambiguation_info_list",plural:!0,selections:[{alias:"snippet",args:null,kind:"ScalarField",name:"text",storageKey:null},s,v],storageKey:null}],storageKey:null}];s={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo",selections:u,args:null,argumentDefinitions:[]}],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"item_logging_info",storageKey:null};t={condition:"fetch_search_badge",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBSearchEntityBadge",kind:"LinkedField",name:"search_badge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"enabled",storageKey:null},t],storageKey:null}]};var w=[{kind:"Variable",name:"input",variableName:"search_null_state_argument"}],x={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},y={kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header_text",storageKey:null}],storageKey:null}],type:"XFBSearchNullStateGeneralHeaderRenderingStrategy",abstractKey:null},z={alias:null,args:null,kind:"ScalarField",name:"display_text",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"entity_id",storageKey:null};u={alias:null,args:null,concreteType:"StructuredTypeaheadInfo",kind:"LinkedField",name:"sts_info",plural:!1,selections:u,storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"CometSearchRecentDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[j,k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,r,{kind:"InlineFragment",selections:[{condition:"fetch_sts",kind:"Condition",passingValue:!0,selections:[s]},v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,z,A,s],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,e,f,c,h,b,g,a],kind:"Operation",name:"CometSearchRecentDataSourceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:i,concreteType:"RecentSearchConnection",kind:"LinkedField",name:"recent_searches",plural:!1,selections:[{alias:null,args:null,concreteType:"RecentSearchEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,r,{kind:"InlineFragment",selections:[k],type:"Node",abstractKey:"__isNode"},l,n,o,p,q,m,{kind:"InlineFragment",selections:[{condition:"fetch_sts",kind:"Condition",passingValue:!0,selections:[u]},v],type:"GraphSearchQuery",abstractKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null},{condition:"fetch_nullstate",kind:"Condition",passingValue:!0,selections:[{alias:null,args:w,concreteType:"SearchNullStatePage",kind:"LinkedField",name:"search_null_state",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsConnection",kind:"LinkedField",name:"results",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchNullStatePageResultsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[j,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rendering_strategy",plural:!1,selections:[j,y,{kind:"InlineFragment",selections:[x,{alias:null,args:null,concreteType:"XFBSearchNullStateSectionResult",kind:"LinkedField",name:"result",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"suggestions",plural:!0,selections:[j,{kind:"InlineFragment",selections:[x,z,A,u],type:"XFBSearchNullStateQuerySuggestion",abstractKey:null}],storageKey:null}],storageKey:null}],type:"XFBSearchNullStateListRenderingStrategy",abstractKey:null}],storageKey:null}],type:"XFBSearchNullStateRenderingStrategyResult",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]}]},params:{id:"5738103542976318",metadata:{},name:"CometSearchRecentDataSourceQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("BaseTypeaheadInMemoryListDataCache",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.clear=function(){this.$1=[]};b.get=function(a){var b=this.$1.find(function(b){return b.key===a});return b?b.value:null};b.has=function(a){return this.$1.some(function(b){return b.key===a})};b.set=function(a,b){var c=this.$1.findIndex(function(b){return b.key===a});if(c===-1){this.$1.push({key:a,value:b});return}this.$1[c]={key:a,value:b}};b.remove=function(a){var b=this.$1.findIndex(function(b){return b.key===a});this.$1.splice(b,1)};b.values=function(){return this.$1.map(function(a){return a.value})};return a}();f["default"]=a},66);
__d("cometTypeaheadMemoizeEntryKey",["cometUniqueID","memoizeStringOnly"],function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return c("cometUniqueID")()});function a(a){return h(a)}g["default"]=a},98);
__d("CometTypeaheadEchoViewItem.react",["CometTypeaheadViewItem.react","CometTypeaheadViewItemIcon.react","TetraText.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,e=a.isActive,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","isActive","queryString"]);return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,isActive:e,itemStartContent:h.jsx(d("CometTypeaheadViewItemIcon.react").CometTypeaheadViewTypedIcon,{isActive:e}),children:h.jsx(c("TetraText.react"),{numberOfLines:1,type:"body3",children:String(f).toLowerCase()})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometTypeaheadSeeAllViewItem.react",["fbt","ix","CometTypeaheadViewItem.react","TetraIcon.react","TetraText.react","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo;function a(a){var b=a.entry,e=a.extraViewItemProps,f=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","queryString"]);var g=k(function(){var a;return(a=e==null?void 0:e.placeholderBuilder)!=null?a:l},[e==null?void 0:e.placeholderBuilder]);return j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemStartContent:j.jsx("div",{className:"g90fjkqk jcxyg2ei jvc6uz2b alzwoclg hvb2xoa8 hupbnkgi dzqi5evh o9erhkwx odagglqh i85zmo3j",children:j.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(i("491282"),16),size:16})}),children:j.jsx(c("TetraText.react"),{color:"blueLink",numberOfLines:1,type:"body3",children:g(f)})}))}a.displayName=a.name+" [from "+f.id+"]";function l(a){return h._("__JHASH__rcEEwxiDmS5__JHASH__",[h._implicitParam("=m1",j.jsx("strong",{children:h._("__JHASH__BFbyaDXF_eS__JHASH__",[h._param("query",a.toLowerCase())])}))])}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometTypeaheadViewListSection.react",["CometUnitHeader.react","emptyFunction","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.action,d=a.children,e=a.emptyStateContent,f=a.entries,g=a.highlightedEntry,i=a.itemRole,j=a.onHeaderActionPress;a=a.title;var k=i==="row"?"gridcell":"none";return h.jsxs("li",{children:[a!=null&&f.length!==0?h.jsx("div",{className:"mfn553m3",children:h.jsx(c("CometUnitHeader.react"),{action:(b==null?void 0:b.type)==="link"?b.label:null,actionLinkProps:(b==null?void 0:b.type)==="link"?{url:b.url}:void 0,headline:a,level:3,onActionPress:(b==null?void 0:b.type)==="link"?j:c("emptyFunction"),paddingHorizontal:8})}):null,h.jsx("ul",{children:f.length!==0?f.map(function(a,b){return d({entry:a,index:b,isActive:a.key===(g==null?void 0:g.key),itemRole:i})}):h.jsx("li",{role:i,children:h.jsx("div",{role:k,children:e})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometTypeaheadSectionedViewListStrategy.react",["CometCompositeStructureContext","CometTypeaheadViewListSection.react","getItemRoleFromCompositeRole","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.ariaProps,d=a.emptyStateContent,e=a.entries;a.extraViewProps;var f=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var g=a.onHeaderActionPress,k=a.viewItemStrategyRenderer,l=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","emptyStateContent","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","onHeaderActionPress","viewItemStrategyRenderer"]);a=i(function(){return j(e)},[e]);var m=b.role,n=i(function(){if(m!=null)return{role:m};else return{}},[m]);return a.length===0&&d!=null?d:h.jsx("ul",babelHelpers["extends"]({},b,{className:"cgu29s5g cqf1kptm alzwoclg","data-testid":void 0,children:h.jsx(c("CometCompositeStructureContext").Provider,{value:n,children:a.map(function(a){var b=a.action,e=a.items,i=a.key;a=a.title;return h.jsx(c("CometTypeaheadViewListSection.react"),{action:b,emptyStateContent:d,entries:e,highlightedEntry:f,itemRole:c("getItemRoleFromCompositeRole")(m),onHeaderActionPress:g,title:a,children:function(a){var b=a.entry,c=a.isActive;a=a.itemRole;return h.createElement(k,babelHelpers["extends"]({},l,{entry:b,isActive:c,key:b.key,role:a}))}},i)})})}))}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(e.type==="section"){var f;b.push({action:e.action,items:e.entries,key:e.key,title:(f=e.title)!=null?f:e.label})}else b.push({items:[e],key:e.key})}return b}g["default"]=a},98);
__d("useCometTypeaheadSectionedViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadSectionedViewListStrategy.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.emptyStateContent,d=a.nullstateContent,e=a.onHeaderActionPress,f=a.viewItemStrategyRenderer;return i(function(a){var g=a.entries,i=a.isLoading,j=a.onAbandonTypeahead_DO_NOT_USE,k=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"]);if(k.length===0&&d!=null)return d;var l=c("CometTypeaheadSectionedViewListStrategy.react");return h.jsxs(h.Fragment,{children:[h.jsx(l,babelHelpers["extends"]({},a,{emptyStateContent:b,entries:g,isLoading:i,onHeaderActionPress:function(){j==null?void 0:j(),e==null?void 0:e()},queryString:k,viewItemStrategyRenderer:f})),i&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},[b,d,e,f])}g["default"]=a},98);
__d("CometSearchRecentDataSourceDispatcherContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();g["default"]=b},98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react",["fbt","ix","CometSearchRecentDataSourceDispatcherContext","TetraIcon.react","fbicon","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext,m=b.useState;function a(a){var b=a.entry;a=a.testid;var e=l(c("CometSearchRecentDataSourceDispatcherContext"));a=m(!1);var f=a[0],g=a[1];a=k(function(a){a&&a.type!=="press"&&a.stopPropagation(),g(!0),e==null?void 0:e.dispatchRemoveRecentEntry(b)},[b,e]);return j.jsx("div",{className:"kgzac55p dmdr2h6l","data-testid":void 0,children:j.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__Im1kdkmyLZa__JHASH__"),color:"secondary",disabled:f,focusable:!1,icon:d("fbicon")._(i("478231"),12),onPress:a,size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("CometSearchTypeaheadBaseSurfaceRecentViewItem.react",["CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react","CometTypeaheadFocusLockRegion.react","CometTypeaheadRecentViewItem.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);return h.jsx(c("CometTypeaheadRecentViewItem.react"),babelHelpers["extends"]({},a,{entry:b,itemEndContent:h.jsx(c("CometTypeaheadFocusLockRegion.react"),{children:h.jsx(c("CometSearchTypeaheadBaseSurfaceRecentViewItemRemoveButton.react"),{entry:b,testid:void 0})}),testid:void 0}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("cometSearchTypeaheadEchoViewItem.resolver",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("echo")?a:null}f["default"]=a},66);
__d("cometSearchTypeaheadKeywordViewItem.resolver",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("keyword")?a:null}f["default"]=a},66);
__d("cometSearchTypeaheadRecentViewItem.resolver",[],function(a,b,c,d,e,f){"use strict";function a(a){return a.subtype==="recent"?a:null}f["default"]=a},66);
__d("cometSearchTypeaheadSeeAllViewItem.resolver",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData.markers;return b.has("see_all")?a:null}f["default"]=a},66);
__d("SearchCometTypeaheadViewItemResolver.react",["CometSearchTypeaheadBaseSurfaceRecentViewItem.react","CometTypeaheadEchoViewItem.react","CometTypeaheadKeywordViewItem.react","CometTypeaheadSeeAllViewItem.react","cometSearchTypeaheadEchoViewItem.resolver","cometSearchTypeaheadKeywordViewItem.resolver","cometSearchTypeaheadRecentViewItem.resolver","cometSearchTypeaheadSeeAllViewItem.resolver","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.additionalEntryMappings,d=a.children,e=a.entry,f=a.fallbackViewItem;f=f===void 0?c("CometTypeaheadKeywordViewItem.react"):f;var g=a.seeAllLabelBuilder;a=h(function(){var a;return[].concat((a=b)!=null?a:[],i({seeAllLabelBuilder:g}))},[b,g]);a=a.find(function(a){a=a.resolver;return a(e)});if(a){var j=a.viewItem;a=a.viewItemProps;return d(j,a)}return d(f)}function i(a){a=a.seeAllLabelBuilder;return[{resolver:c("cometSearchTypeaheadEchoViewItem.resolver"),viewItem:c("CometTypeaheadEchoViewItem.react")},{resolver:c("cometSearchTypeaheadSeeAllViewItem.resolver"),viewItem:c("CometTypeaheadSeeAllViewItem.react"),viewItemProps:{placeholderBuilder:a}},{resolver:c("cometSearchTypeaheadRecentViewItem.resolver"),viewItem:c("CometSearchTypeaheadBaseSurfaceRecentViewItem.react")},{resolver:c("cometSearchTypeaheadKeywordViewItem.resolver"),viewItem:c("CometTypeaheadKeywordViewItem.react")}].filter(Boolean)}g["default"]=a},98);
__d("useSearchCometTypeaheadViewItem",["SearchCometTypeaheadViewItemResolver.react","cr:2417","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var d=a.additionalEntryMappings,e=a.getLinkProps,f=a.seeAllLabelBuilder;return i(function(a){var g=a.entry,i=a.queryString,j=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);return h.jsx(c("SearchCometTypeaheadViewItemResolver.react"),{additionalEntryMappings:d,entry:g,seeAllLabelBuilder:f,children:function(a,c){return h.jsx(a,babelHelpers["extends"]({},j,{debugElement:b("cr:2417")?h.jsx(b("cr:2417"),{entry:g,queryString:i}):null,entry:g,extraViewItemProps:c,linkProps:e==null?void 0:e({entry:g,queryString:i}),queryString:i}))}})},[d,e,f])}g["default"]=a},98);
__d("useSearchCometTypeaheadViewListStrategy",["CometScrollableArea.react","FocusInertRegion.react","focusScopeQueries","react","stylex","useCometTypeaheadSectionedViewListStrategy","useSearchCometTypeaheadViewItem"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.additionalEntryMappings,e=a.afterNullstateContent,f=a.emptyStateContent,g=a.getLinkProps,j=a.isScrollable,k=a.nullstateContent,l=a.onHeaderActionPress,m=a.scrollableXStyle,n=a.seeAllLabelBuilder,o=a.xstyle;a=c("useSearchCometTypeaheadViewItem")({additionalEntryMappings:b,getLinkProps:g,seeAllLabelBuilder:n});var p=c("useCometTypeaheadSectionedViewListStrategy")({emptyStateContent:f,nullstateContent:k,onHeaderActionPress:l,viewItemStrategyRenderer:a});return i(function(a){var b=a.ariaProps,f=a.entries,g=a.highlightedEntry,i=a.isLoading,k=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","highlightedEntry","isLoading","queryString"]);b=h.jsxs(h.Fragment,{children:[h.jsx(p,babelHelpers["extends"]({ariaProps:b,entries:f,highlightedEntry:g,isLoading:i,queryString:k},a)),e!=null&&k.length===0&&f.length>0?e:null]});g=k==="";return h.jsx(c("FocusInertRegion.react"),{focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:h.jsx("div",{className:c("stylex")(o),"data-testid":void 0,children:j?h.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:m,children:b}):b})})},[p,e,j,m,o])}g["default"]=a},98);
__d("CometAddTypeaheadRecentSearchMutation",["CometAddTypeaheadRecentSearchMutation.graphql","cr:1012418"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometAddTypeaheadRecentSearchMutation.graphql");function a(a){var c=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchScopeEntityID,h=a.selectedID,j=a.selectedText,k=a.selectedType,l=a.source,m=a.stsDirectNavType,n=a.stsDisambiguationType,o=a.stsHighConfidenceSource,p=a.userID;a=a.userInput;c&&c();b("cr:1012418").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payload errors while executing `addTypeaheadRecentSearchMutation`.")):e&&e(a)},onError:d,variables:{input:{actor_id:p!=null?p:void 0,search_scope_entity_id:g,selected_id:h,selected_text:j,selected_type:k,source:l,sts_direct_nav_type_for_graphql:m,sts_disambiguation_type_for_graphql:n,sts_high_confidence_source_for_graphql:o,user_input:a}}})}g.commit=a},98);
__d("CometDeleteRecentSearchMutation",["CometDeleteRecentSearchMutation.graphql","cr:1012418"],function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometDeleteRecentSearchMutation.graphql");function a(a){var c=a.onBeforeCommitMutation,d=a.onError,e=a.onSuccess,f=a.relayEnvironment,g=a.searchEntityType,h=a.searchText;a=a.userID;c&&c();b("cr:1012418").commitMutation(f,{mutation:i,onCompleted:function(a,b){b&&b.length?d&&d(new Error("Payloads error while executing `deleteSearchMutation`.")):e&&e(a)},onError:d,variables:{input:babelHelpers["extends"]({},a!=null?{actor_id:a}:null,{search_entity_type:g,search_text:h})}})}g.commit=a},98);
__d("useSearchCometEventEmitterContext",["FBLogger","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(a){a=h(a);a==null&&c("FBLogger")("search").mustfix("Missing event emitter context");return a}g["default"]=a},98);
__d("searchCometTypeaheadGetHighConfidenceResult",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if((a.subtype==="keyword"||a.subtype==="recent")&&b.has("high_confidence")&&!b.has("TEMP_high_confidence_as_plain_keyword")){c=(b=(a=c.structuredInfo)==null?void 0:a.high_confidence_result)!=null?b:{};a=c.hcm_id;b=c.source_as_enum;if(a!=null&&b!=null)return{id:a,source:b}}}f["default"]=a},66);
__d("searchCometTypeaheadGetStsDisambiguation",[],function(a,b,c,d,e,f){"use strict";function a(a){var b=a.metaData,c=a.rawData;b=b.markers;if(a.subtype==="keyword"&&b.has("disambiguation")){a=(c=(a=c.structuredInfo)==null?void 0:(b=a.disambiguation_result)==null?void 0:b.disambiguation_info_list[0])!=null?c:{};b=a.type;if(b!=null)return{primary:{type:b}}}}f["default"]=a},66);
__d("getSearchCometKeywordDataSourceStructuredSuggestionKey",[],function(a,b,c,d,e,f){"use strict";function a(a){var b;if(((b=a.direct_nav_result)==null?void 0:b.ent_id)!=null){return"dir_nav_sts:"+((b=a.direct_nav_result)==null?void 0:b.ent_id)}if(((b=a.high_confidence_result)==null?void 0:b.hcm_id)!=null){return"hc_sts:"+((b=a.high_confidence_result)==null?void 0:b.hcm_id)}return((b=a.disambiguation_result)==null?void 0:b.title)!=null&&((b=a.disambiguation_result)==null?void 0:(b=b.disambiguation_info_list[0])==null?void 0:b.type)!=null?a.disambiguation_result.disambiguation_info_list[0].type+":"+a.disambiguation_result.title:null}f["default"]=a},66);
__d("getSearchCometKeywordDataSourceStructuredInfoForEntry",["CometRelay","getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql","getSearchCometKeywordDataSourceStructuredSuggestionKey"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.structuredTypeaheadInfo;if(a==null)return{entryKey:null,extraLoggingInfo:null,label:null,markers:[],structuredInfo:null};a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getSearchCometKeywordDataSourceStructuredInfoForEntry_structuredTypeaheadInfo.graphql"),a);var e=a.direct_nav_result,f=a.disambiguation_result;a=a.high_confidence_result;var g=[],i,j,k;if(e!=null){g=["direct_nav"];var l=e.ent_id,m=e.entity_type,n=e.img_url,o=e.link_url,p=e.snippet,q=e.title;e=e.type;k=q;i={direct_nav_result:{ent_id:l,entity_type:m,img_url:n,link_url:o,snippet:p,title:q,type:e}};j={stsDirectNavEntityID:l,stsDirectNavEntityType:m,stsDirectNavType:e}}if(a!=null){g=["high_confidence"];n=a.hcm_id;o=a.picture_url;p=a.snippet;q=a.source_as_enum;l=a.text;k=l;i={high_confidence_result:{hcm_id:n,picture_url:o,snippet:p,source_as_enum:q,text:l}};j={stsHighConfidenceID:n,stsHighConfidenceSource:q}}if(f!=null){g=["disambiguation"];m=f.disambiguation_info_list;e=f.title;k=e;i={disambiguation_result:{disambiguation_info_list:m,title:e}};j={stsDisambiguationType:m[0].type}}return{entryKey:i!=null?c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(i):null,extraLoggingInfo:j,label:k,markers:g,structuredInfo:i}}g["default"]=a},98);
__d("CometSearchBootstrapKeywordsDataSource.query",["CometSearchBootstrapKeywordsDataSourceQuery.graphql","filterNulls","getSearchCometKeywordDataSourceStructuredInfoForEntry","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchBootstrapKeywordsDataSourceQuery.graphql");function a(a){if(!a)return[];a=a.viewer;a=((a=a==null?void 0:(a=a.bootstrap_keywords)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);a=c("filterNulls")(a.map(function(a){var b,d=a.item_logging_id,e=a.item_logging_info,f=a.keyword_text,g=a.sts_info;a=a.suggestion_keys;if(f==null){c("recoverableViolation")("Cannot have TA bootstrap entry without keyword_text","search");return null}g=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:g});var h=g.entryKey,i=g.extraLoggingInfo,j=g.label,k=g.markers;g=g.structuredInfo;b=(b=a)!=null?b:{};var l=b.default_key,m=b.keys;b=b.tier;return{key:(h=(h=h)!=null?h:g&&(a==null?void 0:a.default_key))!=null?h:f,label:(a=j)!=null?a:f,metaData:{logging:babelHelpers["extends"]({},i,{loggingID:(h=d)!=null?h:"",loggingInfo:e}),markers:new Set(["bootstrap","keyword"].concat(k))},rawData:{structuredInfo:g,suggestion_keys:b!=null?{default_key:l,keys:m,tier:b}:null},subtype:"bootstrap",type:"entry"}}));return a}g.query=d;g.normalize=a},98);
__d("CometSearchBootstrapKeywordsDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryMapDataCache","BaseTypeaheadPayloadDecoratorAddLimit","CometSearchBootstrapKeywordsDataSource.query","baseTypeaheadStartsWithMatchBuilder","promiseDone"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.limit,e=a.queryVariables;a=a.relayEnvironment;this.$2=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:c("baseTypeaheadStartsWithMatchBuilder")});this.$3=b;b=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return e}});this.$1=new(c("BaseTypeaheadDataProvider"))({query:d("CometSearchBootstrapKeywordsDataSource.query").query,queryVariablesBuilder:b,relayEnvironment:a})}var b=a.prototype;b.bootstrap=function(){var a=this;c("promiseDone")(this.$1.fetch({query:""}).then(function(a){a=a.response;return d("CometSearchBootstrapKeywordsDataSource.query").normalize(a)}).then(function(b){a.$2.clear(),a.$2.add(b,null)}))};b.fetchCache=function(a){var b=a.query;b=this.$2.match(b);var d=c("BaseTypeaheadPayloadDecoratorAddLimit")(this.$3);return d({entries:b,params:a})};b.clear=function(){this.$2.clear()};b.removeEntriesByEntID=function(a){var b=this.$2.values();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f;if(c){if(d>=b.length)break;f=b[d++]}else{d=b.next();if(d.done)break;f=d.value}f=f;a===((e=f.rawData.structuredInfo)==null?void 0:(e=e.direct_nav_result)==null?void 0:e.ent_id)&&this.$2.remove(f)}};return a}();g["default"]=a},98);
__d("CometSearchKeywordDataSource.query",["CometSearchKeywordDataSourceQuery.graphql","cometUniqueID","getSearchCometKeywordDataSourceStructuredInfoForEntry"],function(a,b,c,d,e,f,g){"use strict";var h;d=h!==void 0?h:h=b("CometSearchKeywordDataSourceQuery.graphql");function a(a,b){if(!a)return[];a=a.search_keywords_suggestion;var d=b.query.request_id;a=((a=a==null?void 0:(a=a.suggestions)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node}).filter(Boolean);var e;try{b=JSON.parse(b.query.query_text);e=b!=null?b[0]:null}catch(a){}b=a.map(function(a){var b,f=a.logging_id,g=a.logging_info,h=a.name,i=a.structured_info;a=a.suggestion_keys;i=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:i});var j=i.entryKey,k=i.extraLoggingInfo,l=i.label,m=i.markers;i=i.structuredInfo;b=(b=a)!=null?b:{};var n=b.default_key,o=b.keys;b=b.tier;return{key:(a=(j=(j=j)!=null?j:i&&(a==null?void 0:a.default_key))!=null?j:h)!=null?a:c("cometUniqueID")(),label:(a=(j=l)!=null?j:h)!=null?a:"",metaData:{logging:babelHelpers["extends"]({},k,{loggingID:f,loggingInfo:g,query:e,sequenceID:d}),markers:new Set(["keyword"].concat(m))},rawData:{structuredInfo:i,suggestion_keys:b!=null?{default_key:n,keys:o,tier:b}:null},subtype:"keyword",type:"entry"}});return b}g.query=d;g.normalize=a},98);
__d("cometSearchKeywordDataSourceQueryVariablesBuilder",[],function(a,b,c,d,e,f){"use strict";var g=10,h="blended";function a(a){return function(b){var c,d=b.loggingEventTrace;b=b.query;c=(c=a)!=null?c:{};var e=c.fetch_count,f=c.fetch_mode;c=c.group_id;c=JSON.stringify(c!=null?[{text:"",type:"group",uid:c},b]:[b]);return{query:{fetch_count:(b=e)!=null?b:g,fetch_mode:(e=f)!=null?e:h,query_text:c,request_id:d==null?void 0:d.sequenceID,session_id:(b=d==null?void 0:d.sessionID)!=null?b:""}}}}f["default"]=a},66);
__d("CometSearchKeywordDataSource",["BaseCacheEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadDedupEntriesBuilder","BaseTypeaheadLabelSuffixBuilder","BaseTypeaheadNetworkCacheDataSource","BaseTypeaheadQueryDataCacheProvider","CometSearchKeywordDataSource.query","cometSearchKeywordDataSourceQueryVariablesBuilder"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.dedupe,e=a.onError,f=a.queryVariables;a=a.relayEnvironment;f=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(c("cometSearchKeywordDataSourceQueryVariablesBuilder")).setDefaultVariables(f);e=new(c("BaseTypeaheadDataProvider"))({onError:e,query:d("CometSearchKeywordDataSource.query").query,queryVariablesBuilder:f,relayEnvironment:a});this.$1=new(c("BaseTypeaheadQueryDataCacheProvider"))({dedupe:(f=b)!=null?f:c("BaseTypeaheadDedupEntriesBuilder")(c("BaseCacheEntryKeyBuilder")),suffixBuilder:function(){return c("BaseTypeaheadLabelSuffixBuilder").apply(void 0,arguments)}});this.$2=new(c("BaseTypeaheadNetworkCacheDataSource"))(e,this.$1,{normalizeFunc:d("CometSearchKeywordDataSource.query").normalize})}var b=a.prototype;b.fetchCache=function(a){return this.$2.fetchCache(a)};b.fetchNetwork=function(a){return this.$2.fetchNetwork(a)};b.clearQueryCache=function(){this.$1.clear()};return a}();g["default"]=a},98);
__d("cometSearchTypeaheadPayloadDecoratorAddEcho",["BaseDataEntryKeyBuilder","cometTypeaheadMemoizeEntryKey"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.keyBuilder,d=b===void 0?c("BaseDataEntryKeyBuilder"):b,e=a.limit;return function(a){var b=a.entries,f=a.params.query;b=(b=b)!=null?b:[];var g=b.find(function(a){return d(a).trim().toLowerCase()===f.trim().toLowerCase()})!=null,h=[];if(!g&&b.length<e){g=c("cometTypeaheadMemoizeEntryKey")(f+"-echo");g={key:g,label:f,metaData:{markers:new Set(["echo"])},rawData:{type:"echo"}};h.push(g)}return babelHelpers["extends"]({},a,{entries:[].concat(b,h)})}}g["default"]=a},98);
__d("cometSearchTypeaheadPayloadDecoratorAddSeeAll",["cometTypeaheadMemoizeEntryKey"],function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.position;return function(a){var d=a.entries,e=a.params.query;d=(d=d)!=null?d:[];var f=c("cometTypeaheadMemoizeEntryKey")(e+"-see_all");f={key:f,label:e,metaData:{markers:new Set(["see_all"])},rawData:{type:"see_all"}};e=[];switch(b){case"bottom":e=[].concat(d,[f]);break;case"top":e=[f].concat(d);break}return babelHelpers["extends"]({},a,{entries:e})}}g["default"]=a},98);
__d("cometSearchTypeaheadDecorateMixedPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorAddEcho","cometSearchTypeaheadPayloadDecoratorAddSeeAll"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.keyBuilder,e=b.limit;b=b.seeAllPosition;b=b===void 0?"bottom":b;return c("baseTypeaheadFetchPayloadDecorate")(a,[c("BaseTypeaheadPayloadDecoratorAddLimit")(e),c("cometSearchTypeaheadPayloadDecoratorAddEcho")({keyBuilder:d,limit:e}),c("cometSearchTypeaheadPayloadDecoratorAddSeeAll")({position:b})])}g["default"]=a},98);
__d("cometSearchTypeaheadPayloadDecoratorApplySectionLimits",[],function(a,b,c,d,e,f){"use strict";function a(a){return function(b){if(b.entries.length<=1)return b;for(var c=b.entries,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var g=a.get(f.key);g!=null&&f.type==="section"&&(f.entries=f.entries.slice(0,g))}return b}}f["default"]=a},66);
__d("cometSearchTypeaheadDecorateRecentPayload",["BaseTypeaheadPayloadDecoratorAddLimit","baseTypeaheadFetchPayloadDecorate","cometSearchTypeaheadPayloadDecoratorApplySectionLimits"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.limit;b=b.sectionLimits;return c("baseTypeaheadFetchPayloadDecorate")(a,[c("cometSearchTypeaheadPayloadDecoratorApplySectionLimits")(b),c("BaseTypeaheadPayloadDecoratorAddLimit")(d)])}g["default"]=a},98);
__d("getCometSearchTypeaheadStructuredInfoKey",["getSearchCometKeywordDataSourceStructuredSuggestionKey"],function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.rawData.structuredInfo;return a==null?null:c("getSearchCometKeywordDataSourceStructuredSuggestionKey")(a)}g["default"]=a},98);
__d("CometSearchTypeaheadDefaultEntryComparator",["BaseDataEntryLabelKeyBuilder","getCometSearchTypeaheadStructuredInfoKey","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?d===e:c("BaseDataEntryLabelKeyBuilder")(a)===c("BaseDataEntryLabelKeyBuilder")(b)}function a(a,b){if(!h(a,b)){c("recoverableViolation")("The suggestions are not dupes: "+a.key+" compared to "+b.key,"search");return a}var d=c("getCometSearchTypeaheadStructuredInfoKey")(a),e=c("getCometSearchTypeaheadStructuredInfoKey")(b);return d!=null&&e!=null?b:e!=null?b:a}g.areEntriesDupes=h;g.pickEntryToKeep=a},98);
__d("CometSearchTypeaheadServerDrivenEntryComparator",["FBLogger","getCometSearchTypeaheadStructuredInfoKey","gkx"],function(a,b,c,d,e,f,g){"use strict";function h(a){a=(a=a.rawData)!=null?a:{};a=a.suggestion_keys;if(a==null)throw c("FBLogger")("search").mustfixThrow("Unexpected missing keys");return a}function a(a,b){var d=h(a),e=d.default_key;d=d.keys;var f=h(b),g=f.default_key,i=f.keys;if(d.some(function(a){return i.includes(a)}))return!0;f=c("getCometSearchTypeaheadStructuredInfoKey")(a);var k=c("getCometSearchTypeaheadStructuredInfoKey")(b);f!=null&&f===k&&j("STS dupe: same STS UI key but no keys overlap",a,b);if(d.length>0&&i.length>0)return!1;if(e==null||g==null)return!1;e===g&&a.label.toLowerCase()!==b.label.toLowerCase()&&j("STS dupe: same default key but different label",a,b);return e.toLowerCase()===g.toLowerCase()}function b(a,b){var c=h(a);c=c.tier;var d=h(b);d=d.tier;return c<=d?b:a}function i(a){var b=h(a),c=b.default_key;b=b.keys;return"ui key: "+a.key+", keys: "+(b.join(",")||"empty")+", default key: "+((b=c)!=null?b:"null")+", label: "+a.label}function j(a,b,d){c("FBLogger")("search").warn(a+": ("+i(b)+") vs ("+i(d)+")")}g.areEntriesDupes=a;g.pickEntryToKeep=b},98);
__d("cometSearchTypeaheadDedupeAndLog",["FBLogger","gkx","killswitch","requireDeferred"],function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometSearchTypeaheadDedupeAndLog");function a(a,b,d){if(c("killswitch")("SEARCH_COMET_DISABLE_STS_DUPE_LOGGING"))return b;var e=new Map(),f=[];for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=b.length)break;j=b[h++]}else{h=b.next();if(h.done)break;j=h.value}j=j;var k=e.get(j.key);k!=null?i({caller:d,dupeEntry:j,existingEntry:k,strategy:a}):(e.set(j.key,j),f.push(j))}return f}function i(a){var b=a.caller,d=a.dupeEntry,e=a.existingEntry;a=a.strategy;var f=e.metaData.markers,g=d.metaData.markers;c("FBLogger")("search").warn("STS Dupe encountered: "+e.key+" ("+Array.from(f).join("_")+", label: "+e.label+") compared to "+d.key+"\n    ("+Array.from(g).join("_")+", label: "+d.label+")");var i="comet_ta_sts_dupe_v4."+a,j=["react_key_"+(Array.from(f).join("_")||"plain_keyword"),b,"existing_kind_"+Array.from(f).join("_"),"dupe_kind_"+Array.from(g).join("_")].join(".");h.onReady(function(a){a.bumpEntityKey(354,i,j,1)})}g["default"]=a},98);
__d("cometSearchTypeaheadSTSDedupeEntries",["CometSearchTypeaheadDefaultEntryComparator","CometSearchTypeaheadServerDrivenEntryComparator","cometSearchTypeaheadDedupeAndLog","filterNulls"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c===void 0&&(c="bootstrap_and_backend_merge");var e=a.concat(b).every(function(a){return a.rawData.suggestion_keys!=null});return h.apply(void 0,[a,b,c].concat(e?[d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,d("CometSearchTypeaheadServerDrivenEntryComparator").pickEntryToKeep]:[d("CometSearchTypeaheadDefaultEntryComparator").areEntriesDupes,d("CometSearchTypeaheadDefaultEntryComparator").pickEntryToKeep]))}function h(a,b,e,f,g){var h=d("CometSearchTypeaheadServerDrivenEntryComparator").areEntriesDupes,i=[],j=new Set(b);for(var a=a,k=Array.isArray(a),l=0,a=k?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=a.length)break;m=a[l++]}else{l=a.next();if(l.done)break;m=l.value}m=m;i.push(m)}for(var m=b,l=Array.isArray(m),k=0,m=l?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(l){if(k>=m.length)break;a=m[k++]}else{k=m.next();if(k.done)break;a=k.value}b=a;a=[];for(var n=0;n<i.length;n++){var o=i[n];o!=null&&f(o,b)&&a.push(n)}o=a[0];n=o!=null?i[o]:null;if(n!=null&&!j.has(n)){n=g(n,b);i[o]=n;for(var o=0;o<a.length;o++){var p=a[o],q=i[p];q!=null&&q!==n&&q!==g(q,b)&&(i[p]=null)}}else i.push(b)}return c("cometSearchTypeaheadDedupeAndLog")(h?"with_keys":"without_keys",c("filterNulls")(i),e)}g["default"]=a},98);
__d("cometSearchTypeaheadSTSDedupeCachedEntries",["cometSearchTypeaheadSTSDedupeEntries","filterNulls"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("cometSearchTypeaheadSTSDedupeEntries")(a.map(function(a){return a.entry}),b.map(function(a){return a.entry}),"query_cache"),e=[].concat(a,b);return c("filterNulls")(d.map(function(a){return e.find(function(b){return b.entry===a})}))}g["default"]=a},98);
__d("searchCometTypeaheadPushErrorToast",["fbt","cometPushToast"],function(a,b,c,d,e,f,g,h){"use strict";function a(){d("cometPushToast").cometPushErrorToast({message:h._("__JHASH__EY5KKLiSk-O__JHASH__")})}g["default"]=a},98);
__d("useSearchCometTypeaheadCompositeDataSource",["BaseDataEntryLabelKeyBuilder","CometRelay","CometSearchBootstrapKeywordsDataSource","CometSearchKeywordDataSource","Promise","cometSearchTypeaheadDecorateMixedPayload","cometSearchTypeaheadDecorateRecentPayload","cometSearchTypeaheadSTSDedupeCachedEntries","cometSearchTypeaheadSTSDedupeEntries","qex","react","searchCometTypeaheadPushErrorToast"],function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useMemo;function a(a){var e=a.config,f=e.dataSources,g=f.bootstrapKeywordsDataSourceParams,j=f.keywordDataSourceParams,k=e.logging.sessionContext;f=e.view;var l=f.renderLimit;e=f.sectionLimits;var m=e===void 0?new Map():e,n=a.recentDataSource,o=a.searchScopeEntityID,p=d("CometRelay").useRelayEnvironment(),q=i(function(){return g!=null?new(c("CometSearchBootstrapKeywordsDataSource"))(babelHelpers["extends"]({},g,{limit:l,relayEnvironment:p})):null},[g,l,p]),r=i(function(){return new(c("CometSearchKeywordDataSource"))(babelHelpers["extends"]({},j,{dedupe:c("cometSearchTypeaheadSTSDedupeCachedEntries"),limit:l,onError:function(){return c("searchCometTypeaheadPushErrorToast")()},relayEnvironment:p}))},[j,l,p]),s=h(function(a){var b=a.entries;a=a.params;return c("cometSearchTypeaheadDecorateMixedPayload")({entries:b,params:a},{keyBuilder:c("BaseDataEntryLabelKeyBuilder"),limit:l})},[l]),t=h(function(a,b){return c("cometSearchTypeaheadSTSDedupeEntries")(a,b,"bootstrap_and_backend_merge")},[]),u=h(function(){var a;a=(a=c("qex")._("869"))!=null?a:!1;a||(q==null?void 0:q.bootstrap());n==null?void 0:n.bootstrap()},[q,n]),v=h(function(a,b){if(n==null)return;if(o==null){n.add(a,k,b);return}var c=a.key,d=a.label,e=a.metaData;a=a.rawData;e={logging:{searchScopeEntityID:o},markers:e.markers};c={key:c,label:d,metaData:e,rawData:a,subtype:"recent",type:"entry"};n.add(c,k,b)},[k,n,o]),w=h(function(a){var b=a.query;if(b===""&&n!=null){var d=n.fetchCache(a),e=d.entries;d=d.params;return c("cometSearchTypeaheadDecorateRecentPayload")({entries:e.map(function(a){return a.type==="section"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a)}),params:d},{limit:l,sectionLimits:m})}if(b==="")return{entries:[],params:a};if(q==null){e=r.fetchCache(a);return s(babelHelpers["extends"]({},e))}d=q.fetchCache(a);b=d.entries;e=d.params;if(b.length>=l)return s({entries:b,params:e});d=r.fetchCache(a);e=d.entries;a=d.params;d=t(b,e);return s({entries:d,params:a})},[q,s,t,r,l,n]),x=h(function(a){var d=a.query;if(d===""&&n!=null)return n.fetchNetwork(a).then(function(a){return c("cometSearchTypeaheadDecorateRecentPayload")({entries:a.entries.map(function(a){return a.type==="section"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a)}),params:a.params},{limit:l,sectionLimits:m})});if(d==="")return b("Promise").resolve({entries:[],params:a});return q==null?r.fetchNetwork(a).then(function(a){return s(babelHelpers["extends"]({},a))}):r.fetchNetwork(a).then(function(b){var c=q.fetchCache(a);c=c.entries;var d=b.entries;b=b.params;c=t(c,d);return s({entries:c,params:b})})},[q,s,t,r,l,n]),y=h(function(a,b){n!=null&&n.remove(a,b)},[n]);return i(function(){return{addRecentEntry:v,bootstrap:u,clearQueryCache:function(){return r.clearQueryCache()},clearRecentSearches:function(){return n==null?void 0:n.clear()},fetchCache:w,fetchNetwork:x,getBootstrapKeywordsDataSource:function(){return q},removeRecentEntry:y}},[q,v,u,w,x,y,r,n])}g["default"]=a},98);
__d("searchCometTypeaheadSubtractSections",[],function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Set(a.entries.map(function(a){return a.key}));b.entries=b.entries.filter(function(a){return!c.has(a.key)})}f["default"]=a},66);
__d("searchCometTypeaheadMergeSections",["searchCometTypeaheadSubtractSections"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("searchCometTypeaheadSubtractSections")(a,b),b.entries=a.entries.concat(b.entries)}g["default"]=a},98);
__d("CometSearchRecentDataCacheProvider",["BaseDataEntryLabelKeyBuilder","searchCometTypeaheadMergeSections","searchCometTypeaheadSubtractSections"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.cache,d=a.matchBuilder;a=a.keyBuilder;a=a===void 0?c("BaseDataEntryLabelKeyBuilder"):a;this.$1=b;this.$2=d;this.$3=a}var b=a.prototype;b.add=function(a,b,d){var e=this;if(d==="network"){this.$1.clear();[].concat(a).reverse().forEach(function(a){var b=e.$3(a);e.$1.set(b,a)});return}a.forEach(function(a){var b=e.$3(a),d=e.$1.get(b);if(d)if(d.type==="section"&&a.type==="section"){c("searchCometTypeaheadMergeSections")(a,d);return}else e.$1.remove(b);e.$1.set(b,a)})};b.clear=function(){this.$1.clear()};b.remove=function(a){var b=this.$3(a),d=this.$1.get(b);d&&d.type==="section"&&a.type==="section"&&d.entries.length!==0?c("searchCometTypeaheadSubtractSections")(a,d):this.$1.remove(b)};b.match=function(a){var b=this.$2({query:a});return this.$1.values().map(function(a){return a.type==="section"?babelHelpers["extends"]({},a):babelHelpers["extends"]({},a)}).reverse().filter(function(a){if(a.type==="section"){a.entries=a.entries.filter(b);return!0}else return b(a)})};b.values=function(){return this.$1.values()};return a}();g["default"]=a},98);
__d("cometSearchNullStateMatchBuilder",[],function(a,b,c,d,e,f){"use strict";function a(){return function(a){a=a.metaData.markers;return a.has("recent")||a.has("nullstate_explore")||a.has("keyword")}}f["default"]=a},66);
__d("CometSearchRecentDataSource",["fbt","BaseDataEntryKeyBuilder","BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadInMemoryListDataCache","BaseTypeaheadNetworkDataSource","CometAddTypeaheadRecentSearchMutation","CometDeleteRecentSearchMutation","CometSearchRecentDataCacheProvider","Promise","cometSearchNullStateMatchBuilder","qex"],function(a,b,c,d,e,f,g,h){"use strict";a=function(){var a=e.prototype;a.$8=function(){var a=this.$2.values().map(function(a){return a.type==="section"&&a.key==="RECENT_SEARCHES"?a:null}).filter(Boolean);return a.length!==0?a[0]:null};function e(a){var b=a.activityLogURL,d=a.gqlQuery,e=a.limit,f=a.normalize,g=a.options,h=a.queryVariablesBuilderFunction;a=a.relayEnvironment;this.$4=a;this.$5=e;this.$6=h({query:""}).filter;this.$7=b;a=function(){return h};e=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(a);b=new(c("BaseTypeaheadDataProvider"))({options:g,query:d,queryVariablesBuilder:e,relayEnvironment:this.$4});this.$2=new(c("CometSearchRecentDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryListDataCache"))(),keyBuilder:c("BaseDataEntryKeyBuilder"),matchBuilder:c("cometSearchNullStateMatchBuilder")});this.$1=new(c("BaseTypeaheadNetworkDataSource"))(b,f)}a.add=function(a,b,c){c=c===void 0?{}:c;var e=c.onBeforeCommitMutation,f=c.onError;c=c.onSuccess;var g=a.metaData,h=this.$8();h!=null?this.$2.add([babelHelpers["extends"]({},h,{entries:[a]})],""):this.$2.add([a],"");g=(h=g==null?void 0:g.logging)!=null?h:{};h=g.entityID;var i=g.entityType,j=g.searchScopeEntityID,k=g.stsDirectNavEntityID,l=g.stsDirectNavType,m=g.stsDisambiguationType,n=g.stsHighConfidenceID;g=g.stsHighConfidenceSource;d("CometAddTypeaheadRecentSearchMutation").commit({onBeforeCommitMutation:e,onError:f,onSuccess:c,relayEnvironment:this.$4,searchScopeEntityID:j,selectedID:(f=(e=h)!=null?e:k)!=null?f:n,selectedText:a.label.toLowerCase(),selectedType:(c=i)!=null?c:"keyword",source:b,stsDirectNavType:l,stsDisambiguationType:m,stsHighConfidenceSource:g,userInput:a.label.toLowerCase()})};a.bootstrap=function(){var a;a=(a=c("qex")._("1300"))!=null?a:!1;if(a&&this.$6==="all")return;this.fetchNetwork({query:""})};a.fetchCache=function(a){var b=a.query;b=this.$2.match(b);return{entries:b,params:a}};a.fetchNetwork=function(a){var c=this;return this.$3!=null&&this.$3<this.$5?b("Promise").resolve({entries:this.$2.match(a.query),params:a}):this.$1.fetchNetwork(a).then(function(b){var d=b.entries;b=b.params.query;d!=null&&(d.forEach(function(a){var b=c.$7;["all","group_scoped_search"].includes(c.$6)&&b!=null&&a.type==="section"&&a.key==="RECENT_SEARCHES"&&(a.action={label:h._("__JHASH__0ioTgLFUb4g__JHASH__"),type:"link",url:b})}),c.$3=d.length,c.$2.add(d,b,"network"));return{entries:c.$2.match(b),params:a}})};a.remove=function(a,b){b=b===void 0?{}:b;var c=b.onBeforeCommitMutation,e=b.onError;b=b.onSuccess;var f=this.$8();f!=null?this.$2.remove(babelHelpers["extends"]({},f,{entries:[a]})):this.$2.remove(a);d("CometDeleteRecentSearchMutation").commit({onBeforeCommitMutation:c,onError:e,onSuccess:b,relayEnvironment:this.$4,searchText:a.label})};a.clear=function(){var a=this.$8();if(a==null){this.$2.clear();return}a.entries.length!==0&&this.$2.remove(a)};return e}();g["default"]=a},98);
__d("searchCometIsValidRecentSearchEntityType",[],function(a,b,c,d,e,f){"use strict";var g=["app","application","event","group","page","user"];function a(a){return g.includes(a==null?void 0:a.toLowerCase())}f["default"]=a},66);
__d("CometSearchRecentDataSource.query",["fbt","CometSearchRecentDataSourceQuery.graphql","FBLogger","getSearchCometKeywordDataSourceStructuredInfoForEntry","searchCometIsValidRecentSearchEntityType"],function(a,b,c,d,e,f,g,h){"use strict";var i;d=i!==void 0?i:i=b("CometSearchRecentDataSourceQuery.graphql");function a(a){var b;if(!a)return[];b=((b=(b=a.search_null_state)==null?void 0:(b=b.results)==null?void 0:b.edges)!=null?b:[{node:{rendering_strategy:{key:"RECENT_SEARCHES",result:{header_fbt:h._("__JHASH__QJCAJUEzrgs__JHASH__"),header_text:"RECENT_SEARCHES"}}}}]).map(function(a){return(a=a.node)==null?void 0:a.rendering_strategy}).filter(Boolean);var c=[],d=null;for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var i=g.key;g=g.result;if(g==null||i==null)continue;var l=g.header_fbt,m=g.header_text;m!=null?i==="RECENT_SEARCHES"?c.push({entries:k(a),key:i,label:m,title:l,type:"section"}):d={headerText:m,key:i}:d!=null&&(g==null?void 0:g.suggestions)!=null&&(c.push({entries:j(g.suggestions),key:d.key,label:d.headerText,type:"section"}),d=null)}return c}function j(a){return a.map(function(a){var b=a.__typename,c=a.display_text,d=a.entity_id;a=a.sts_info;return l({markers:["keyword","nullstate_explore"],node:{__typename:b,id:d==null?void 0:d.toString(),name:c,sts_info:a}})}).filter(Boolean)}function k(a){a=((a=(a=a.viewer)==null?void 0:(a=a.recent_searches)==null?void 0:a.edges)!=null?a:[]).map(function(a){return a.node?{node:a.node,search_badge:a.search_badge}:null}).filter(Boolean);a=a.map(function(a){return l(babelHelpers["extends"]({markers:["recent"]},a))}).filter(Boolean);return a}function l(a){var b=a.markers,d=a.node,e=d.__typename,f=d.id,g=d.item_logging_info,h=d.name,i=d.profile_picture,j=d.sts_info;d=d.url;a=a.search_badge;var k=c("searchCometIsValidRecentSearchEntityType")(e);j=c("getSearchCometKeywordDataSourceStructuredInfoForEntry")({structuredTypeaheadInfo:j});var l=j.entryKey,m=j.extraLoggingInfo,n=j.label,o=j.markers;j=j.structuredInfo;l=(l=l)!=null?l:h;if(l==null){c("FBLogger")("search").mustfix("Missing key for recent search data with __typename: %s",e);return null}if(h==null){c("FBLogger")("search").mustfix("Missing name for recent search data with __typename: %s and key %s",e,l);return null}return{key:l,label:(l=n)!=null?l:h,metaData:{logging:babelHelpers["extends"]({},m,{entityID:k?f:null,entityType:k&&e!=null?e.toLowerCase():null,loggingInfo:g}),markers:new Set(k?[].concat(b,["entity"]):[].concat(b,o))},rawData:{badgeSnippet:(a==null?void 0:a.enabled)===!0?a.snippet:null,profile:k&&f!=null&&(i==null?void 0:i.uri)!=null&&d!=null?{id:f,profilePictureURL:i.uri,url:d}:void 0,structuredInfo:j},subtype:"recent",type:"entry"}}g.query=d;g.normalize=a},98);
__d("searchCometTypeaheadWithRecentDataSourceContext",["CometSearchRecentDataSourceDispatcherContext","SearchCometTypeaheadEventEmitterContext","react","useCometInternalTypeaheadFetch","useSearchCometEventEmitterContext"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo;function a(a,b){var d=b.dataSource,e=b.fetchSTS,f=b.shouldSubscribeToRecentSearches;return function(b){var g=b.inputRef,l=b.onPressEntry,m=b.onSelectFreeformQuery;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","onSelectFreeformQuery"]);var n=c("useCometInternalTypeaheadFetch")(),o=n.refetch;n=(n=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?n:{};var p=n.subscribeToRecentSearchEntryAdded;j(function(){if(f)return p==null?void 0:p(function(a){d.addRecentEntry(a)})},[p]);n=i(function(a){var b={key:a,label:a,metaData:{markers:new Set(["recent"])},rawData:{},subtype:"recent",type:"entry"};d.addRecentEntry(b);m&&m(a)},[m]);var q=i(function(a){var b,c=a.label,f=a.metaData;b=(b=f==null?void 0:f.markers)!=null?b:new Set();if(b.has("nullstate_explore")){l&&l(a);return}var g=new Set(["recent"]);b.has("entity")&&g.add("entity");b.has("direct_nav")&&(g.add("direct_nav"),e||g.add("TEMP_direct_nav_as_entity"));b.has("high_confidence")&&(g.add("high_confidence"),e||g.add("TEMP_high_confidence_as_plain_keyword"));b=function(){if(a.subtype==="recent")return babelHelpers["extends"]({},a.rawData,{badgeSnippet:null});return a.subtype==="bootstrap"||a.subtype==="keyword"?a.rawData:{}};f=(f=f==null?void 0:f.logging)!=null?f:{};var h=f.entityID,i=f.entityType,j=f.loggingInfo,k=f.stsDirectNavEntityID,m=f.stsDirectNavType,n=f.stsDisambiguationType,o=f.stsHighConfidenceID;f=f.stsHighConfidenceSource;c={key:c,label:c,metaData:{logging:{entityID:h,entityType:i,loggingInfo:j,stsDirectNavEntityID:k,stsDirectNavType:m,stsDisambiguationType:n,stsHighConfidenceID:o,stsHighConfidenceSource:f},markers:g},rawData:b(),subtype:"recent",type:"entry"};d.addRecentEntry(c);l&&l(a)},[l]),r=i(function(a){d.removeRecentEntry(a,{onBeforeCommitMutation:function(){o({source:"cache"})}})},[o]),s=k(function(){return{dispatchRemoveRecentEntry:r}},[r]);return h.jsx(c("CometSearchRecentDataSourceDispatcherContext").Provider,{value:s,children:h.jsx(a,babelHelpers["extends"]({},b,{inputRef:g,onPressEntry:q,onSelectFreeformQuery:n}))})}}g["default"]=a},98);
__d("useSearchCometTypeaheadRecentDataSourceContextDecorator",["react","searchCometTypeaheadWithRecentDataSourceContext"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b,d){b===void 0&&(b=!0);d===void 0&&(d=!1);return h(function(){return{decorate:function(){return c("searchCometTypeaheadWithRecentDataSourceContext").apply(void 0,arguments)},params:{dataSource:a,fetchSTS:d,shouldSubscribeToRecentSearches:b}}},[a,d,b])}g["default"]=a},98);
__d("useSearchCometRecentSearchDataSource",["Actor","CometRelay","CometSearchRecentDataSource","CometSearchRecentDataSource.query","WebPixelRatio","XCometActivityLogControllerRouteBuilder","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=16;function a(a){var b=a.fetchNullstate,e=b===void 0?!1:b;b=a.fetchSearchBadge;var f=b===void 0?!1:b;b=a.fetchSTS;var g=b===void 0?!1:b,k=a.filter,l=a.searchScopeEntityID,m=d("CometRelay").useRelayEnvironment();b=d("Actor").useActor();a=b[0];var n=c("XCometActivityLogControllerRouteBuilder").buildURL({category_key:"SEARCH",entry_point:"edit_search_history",log_filter:"search",vanity:a});return h(function(){return new(c("CometSearchRecentDataSource"))({activityLogURL:n,gqlQuery:d("CometSearchRecentDataSource.query").query,limit:i,normalize:d("CometSearchRecentDataSource.query").normalize,queryVariablesBuilderFunction:function(){return{fetch_nullstate:e,fetch_search_badge:f,fetch_sts:g,filter:k,first:i,scale:d("WebPixelRatio").get(),search_null_state_argument:{surface:{name:j(k)}},search_scope_entity_id:l}},relayEnvironment:m})},[n,g,f,k,m,l])}function j(a){switch(a){case"all":return"GLOBAL";case"friends_scoped_search":return"FRIENDS";case"group_scoped_search":return"GROUPS";case"group_search":return"GROUPS_TAB";case"profile_scoped_search":return"PROFILE";case"reels_search":return"REELS";case"video_search":return"VIDEO";default:return"GLOBAL"}}g["default"]=a},98);
__d("XCometGamingVideoControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/video/",Object.freeze({}),void 0);b=a;g["default"]=b},98);/*FB_PKG_DELIM*/
__d("LSVersion",[],function(a,b,c,d,e,f){e.exports="5140073042765184"},null);
__d("MWChatSettingsQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5248437728509060"},null);
__d("MWChatSettingsQuery.graphql",["MWChatSettingsQuery_facebookRelayOperation","relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:b("MWChatSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("LSPlatformGraphQLLightspeedRequestQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b},params:{id:"4623188707768697",metadata:{},name:"LSPlatformGraphQLLightspeedRequestQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("MAWCondWrapper.react",["cr:2895","cr:2896","cr:3913","cr:3921","gkx","react"],function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=a.children;return a}e=c("gkx")("1224637")?a:(c=(d=(f=(e=b("cr:2895"))!=null?e:b("cr:2896"))!=null?f:b("cr:3913"))!=null?d:b("cr:3921"))!=null?c:a;f=e;g["default"]=f},98);
__d("MAWTTRC",["MAWGating.re","QPLUserFlow","qpl"],function(a,b,c,d,e,f,g){"use strict";var h=!1,i=!1,j=new Set(),k=new Set(["offline_queue_end","maw_init_end"]);d("MAWGating.re").isOccamadillo()&&k.add("ls_init_end");function a(a){if(!i||!h)return;i=!0;c("QPLUserFlow").endFailure(c("qpl")._(1056839232,"112"),a)}function b(a){if(i||j.has(a))return;h||(h=!0,c("QPLUserFlow").startFromNavStart(c("qpl")._(1056839232,"112")));j.add(a);k["delete"](a);c("QPLUserFlow").addPoint(c("qpl")._(1056839232,"112"),a);k.size===0&&(i=!0,c("QPLUserFlow").endSuccess(c("qpl")._(1056839232,"112")))}g.fail=a;g.markEvent=b},98);
__d("MAWTTRC.bs",["MAWTTRC"],function(a,b,c,d,e,f){"use strict";function a(a){b("MAWTTRC").fail(a)}function c(a){b("MAWTTRC").markEvent(a)}f.fail=a;f.markEvent=c},null);
__d("MWChatOpenTabFromNewMessage.bs",["LSThreadAttributionStore.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatThreadId.bs","ODS","bs_curry","react","setTimeout","useCometFeedNoRoutingNavigationEventLogger"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=b("MWChatStateV2.bs").useDispatch(void 0);return h.useCallback(function(e){return function(f,g){c(Date.now(),"","messenger");b("ODS").bumpEntityKey(3185,"mwchat_tab","open_incoming");b("LSThreadAttributionStore.bs").setSource(b("MWChatThreadId.bs").getFBID(e),a);var h=Date.now();b("bs_curry")._1(d,b("MWChatStateActions.bs").openTabOrFlyout(h,{shouldFocus:!1},{TAG:1,_0:{threadKey:f.threadKey,clientThreadKey:void 0,threadType:f.threadType}}));b("setTimeout")(function(a){return b("bs_curry")._1(d,b("MWChatStateActions.bs").closeFlyout(h,f.threadKey))},3e3);return b("bs_curry")._1(g,void 0)}},[c,a,d])}f.useHook=a},null);
__d("MWChatStateV2CompareTabs.bs",[],function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function b(a,b){a=Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)-Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}f.byMostRecentOpened=a;f.byMostRecentMinimized=b},null);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["MWChatVisibileRoutes","useCometRouterState"],function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return d("MWChatVisibileRoutes").ROUTES.has((a=(b=a.route)==null?void 0:b.tracePolicy)!=null?a:"")}g["default"]=a},98);
__d("useSubscriptionValue",["React"],function(a,b,c,d,e,f,g){b=d("React");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=a.getCurrentValue,c=a.subscribe;a=j(function(){return b()});var d=a[0],e=a[1],f=h(function(){e(b)},[b]);a=j(function(){return b});var g=a[0];a=a[1];g!==b&&(a(function(){return b}),f());i(function(){var a=!1,b=function(){a||f()},d=c(b);f();return function(){a=!0,d()}},[f,c]);return d}g["default"]=a},98);
__d("useWindowSize",["ExecutionEnvironment","react","throttle","useSubscriptionValue"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(){return!c("ExecutionEnvironment").canUseDOM?{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){a===void 0&&(a=500);var b=h(function(b){var d=c("throttle")(b,a);window.addEventListener("resize",d);return function(){window.removeEventListener("resize",d)}},[a]);return c("useSubscriptionValue")({getCurrentValue:i,subscribe:b})}g["default"]=a},98);
__d("MWChatStateV2MaxTabCount.bs",["bs_js_math","useMWIsTopLevelRouteMediaViewerExperiment","useWindowSize"],function(a,b,c,d,e,f){"use strict";function a(a){a=b("useWindowSize")();a=a.innerWidth;var c=b("useMWIsTopLevelRouteMediaViewerExperiment")();if(a<1100||c)return 1;c=(a/2|0)-90|0;a=c/338;if(a<1)return 1;else return b("bs_js_math").ceil_int(a)}f.useHook=a},null);
__d("MWChatStateV2TabGroups.bs",["MWChatStateV2CompareTabs.bs","MWChatStateV2IsOpen.bs","bs_caml_array","bs_caml_option"],function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=a.length;if(e>c&&c>0&&d!==void 0){var f=a.findIndex(function(a){return a.tabId===d});if(f!==-1&&f>=c&&f<e){e=function(c,d){var e=b("bs_caml_array").get(a,c);a[c]=b("bs_caml_array").get(a,d);a[d]=e};e(c-1|0,f)}}return a}function a(a,c,d,e){var f=a!==void 0?b("bs_caml_option").valFromOption(a):void 0;a=g(Array.from(c.values()).filter(function(a){return b("MWChatStateV2IsOpen.bs").isOpen(b("bs_caml_option").some(f),a)}).sort(b("MWChatStateV2CompareTabs.bs").byMostRecentOpened),e,d);return[a.slice(0,e),a.slice(e,a.length)]}f.getTabGroups=a},null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","MWChatSettingsQuery.graphql","gkx","promiseDone"],function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){var b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{},c("gkx")("1820749")?{fetchPolicy:"store-or-network"}:void 0).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatSettingsQuery.graphql");a=function(a){i(function(b,c){return a(b)})};e=function(a){i(function(b,c){return a(c!=null&&c)})};g.areChatTabsTurnedOff=a;g.areChatTabsSoundsOn=e},98);
__d("LSErrorHandlerDeferred.bs",["Promise","bs_curry","promiseDone","requireDeferred"],function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("LSErrorHandler.bs").__setRef("LSErrorHandlerDeferred.bs");function a(a){var c=g.load().then(function(c){return b("Promise").resolve(b("bs_curry")._1(c.subscribeToErrorTableAndShowToast,a))});return function(a){a=c.then(function(a){a!==void 0&&b("bs_curry")._1(a,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)}}f.$LSErrorHandler$Deferred=g;f.subscribeToErrors=a},null);
__d("MAWInitSyncComplete.bs",[],function(a,b,c,d,e,f){"use strict";a=[0,1e3];f.id=a},null);
__d("MWChatBadgeCountUpdates.bs",["LsSystemFolder.bs","MWIsXacGroupThread.bs","MWPIsThreadUnread.bs","MWXacGating.bs","MessagingThreadType.bs","ReQL.bs","ReQLSuspense","ServerTime","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","useReStore"],function(a,b,c,d,e,f){"use strict";function g(a){if(b("bs_caml").i64_neq(a.threadType,b("MessagingThreadType.bs").group)||b("MWXacGating.bs").isGroupsEnabled(void 0))return!0;else return!b("MWIsXacGroupThread.bs").check(a)}function h(a){var c=b("useReStore")(),d=b("bs_belt_Option").getWithDefault(a==null?void 0:b("bs_caml_option").some(a),b("LsSystemFolder.bs").inbox);a=b("bs_belt_Option").map(b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("folder_metadata")),{hd:d,tl:0})},[c,d]),function(a){return a.lastSeenRequestTimestampMs});var e=b("bs_belt_Option").isSome(b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").take(b("ReQL.bs").fromIndexAscending(c.table("threads").index("parentThreadKeyLastActivityTimestampMs")),15)},[c]));return{hasProbablyFinishedInitSync:e,maybeFolderLastSeenTimestamp:a,db:c,parentFolderToUse:d}}function i(a){if(b("bs_caml").i64_eq(a.muteExpireTimeMs,b("bs_caml_int64").neg_one))return!0;else return b("bs_caml").i64_gt(a.muteExpireTimeMs,b("bs_caml_int64").of_float(b("ServerTime").getMillis()))}function a(a){var c=h(a),d=c.parentFolderToUse,e=c.db,f=c.maybeFolderLastSeenTimestamp,j=b("bs_belt_Option").getWithDefault(f,b("bs_caml_int64").zero),k=b("ReQLSuspense").useArray(function(){var a;return(a=b("ReQL.bs")).filter(a.bounds(a.getKeyRange(a.filter(a.take(a.fromIndexAscending(e.table("threads").index("parentThreadKeyLastActivityTimestampMs")),15),function(a){if(b("MWPIsThreadUnread.bs").isThreadUnread(a))return!i(a);else return!1}),{hd:d,tl:0}),{NAME:"greaterThan",VAL:{hd:j,tl:0}}),g)},[e,j]).length;if(a==null)return;else if(c.hasProbablyFinishedInitSync)return k;else return b("bs_belt_Option").map(f,function(a){return k})}function c(a){a=h(b("LsSystemFolder.bs").community);var c=a.db,d=b("bs_belt_Option").getWithDefault(a.maybeFolderLastSeenTimestamp,b("bs_caml_int64").zero),e=function(a){return b("ReQLSuspense").useFirst(function(){var e;return(e=b("ReQL.bs")).filter(e.bounds(e.getKeyRange(e.filter(e.take(e.fromIndexAscending(c.table("threads").index("threadTypeLastActivityTimestampMs")),15),function(a){if(b("MWPIsThreadUnread.bs").isThreadUnread(a))return!i(a);else return!1}),{hd:a,tl:0}),{NAME:"greaterThan",VAL:{hd:d,tl:0}}),g)},[c,d])},f=e(b("MessagingThreadType.bs").communityGroup),j=e(b("MessagingThreadType.bs").communityBroadcastJoinedThread);e=e(b("MessagingThreadType.bs").communityPrivateHiddenJoinedThread);if(a.hasProbablyFinishedInitSync)if(b("bs_belt_Option").isSome(f)||b("bs_belt_Option").isSome(j))return!0;else return b("bs_belt_Option").isSome(e);else return!1}d=15;f.minSyncedThreads=d;f.maybeFilterXacThread=g;f.getFolderSeenState=h;f.isMutedNow=i;f.useHook=a;f.useHasUnseenCommunityThreads=c},null);
__d("MWChatBadgeCountUpdates.re",["MWChatBadgeCountUpdates.bs"],function(a,b,c,d,e,f){a=b("MWChatBadgeCountUpdates.bs").minSyncedThreads;f.minSyncedThreads=a;c=b("MWChatBadgeCountUpdates.bs").useHook;f.useHook=c;d=b("MWChatBadgeCountUpdates.bs").useHasUnseenCommunityThreads;f.useHasUnseenCommunityThreads=d},null);
__d("useMWIsOnPushView",["CometRouterPushViewStackContext","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("CometRouterPushViewStackContext"));a=a!=null&&a[a.length-1]!=null;return a}g["default"]=a},98);
__d("MWChatConfig.bs",["CurrentEnvironment","bx"],function(a,b,c,d,e,f){"use strict";a=b("CurrentEnvironment").messengerdotcom?b("bx").getURL(b("bx")("273041")):b("bx").getURL(b("bx")("273022"));c=b("CurrentEnvironment").messengerdotcom?b("bx").getURL(b("bx")("273042")):b("bx").getURL(b("bx")("273023"));f.soundNotifMp3Url=a;f.soundNotifOggUrl=c},null);
__d("MWChatThreadPingCounter.bs",[],function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){a=g.get(a);if(!(a==null))return a;else return 0}function a(a){var b=h(a);g.set(a,b+1|0)}function b(a){g.clear()}f.getCount=h;f.incrementCount=a;f.clear=b},null);
__d("ClearInterval.re",["clearInterval"],function(a,b,c,d,e,f){a=b("clearInterval");f.clearIntervalTypeChecked=a;c=a;f.clearInterval=c},null);
__d("MWGetCurrentThreadIDForLSThread.bs",["FBID.bs","MWCMThreadTypes.bs","MessagingThreadType.bs","bs_caml","bs_int64","unrecoverableViolation"],function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(d)return{NAME:"Page",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};else if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").tincanOneToOne)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").secureMessageOverWaGroup))return{NAME:"UserSecret",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};else if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").tincanOneToOneDisappearing))return{NAME:"User",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};else if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").marketplace)||b("MWCMThreadTypes.bs").isAnyCMThread(c))return{NAME:"Group",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};else return b("unrecoverableViolation")("Unsupported MWMessagingThreadType "+b("bs_int64").to_string(c),"messenger_web_product")}f.get=a},null);
__d("MWLSChatTabPolicy.bs",["LSContactBlockedByViewerStatus.bs","MWCMThreadTypes.bs","MWChatSettingsQuery","MWCount.bs","MessageProfileRangeType","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_caml","bs_caml_int64","bs_curry","gkx","killswitch"],function(a,b,c,d,e,f){"use strict";function g(a,c,d){if(d===0)return b("bs_curry")._1(a,c)}function a(a,c,d,e,f){var h=function(a){return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").SUPPRESS_NEW_MESSAGE,extra_data:{reason:a}}})},i=function(a){if(b("killswitch")("MESSENGER_WEB_STOP_AUTOMATIC_CHAT_TAB_RAISING")||!b("gkx")("1812191")){b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},j=function(c){if(b("bs_caml").i64_eq(a.senderId,e)){h("message_outgoing");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(c,1)}else return b("bs_curry")._1(c,0)},k=function(a){if(b("gkx")("1968579"))return b("bs_curry")._1(a,0);else{b("MWChatSettingsQuery").areChatTabsTurnedOff(function(c){if(!(c==null)&&c){h("turn_off_chat_tab");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)});return}},l=function(a){var d=b("bs_caml_int64").to_float(c.muteExpireTimeMs);if(d>Date.now()||d<0){h("mention_muted");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},m=function(c){if(a.isAdminMessage){h("message_non_user_generated");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(c,1)}else return b("bs_curry")._1(c,0)},n=function(a){if(c.folderName==="inbox")return b("bs_curry")._1(a,0);else{h("message_no_inbox");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}},o=function(a){if(b("bs_caml").i64_neq(d.blockedByViewerStatus,b("LSContactBlockedByViewerStatus.bs").unblocked)){h("message_blocked_participants");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,void 0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},p=function(a){if(b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType)){h("community_messaging_group_blocked");return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},q=function(c){var d=a.mentionTypes;if(d!==void 0&&b("MessageProfileRangeType").SILENT.includes(d))return b("bs_curry")._1(c,1);else return b("bs_curry")._1(c,0)};i={hd:i,tl:{hd:j,tl:{hd:k,tl:{hd:l,tl:{hd:m,tl:{hd:n,tl:{hd:o,tl:{hd:p,tl:{hd:q,tl:0}}}}}}}}};if(!i)return;j=function a(c){if(!c)return function(a){return g(function(a){return b("bs_curry")._1(f,void 0)},function(a){},a)};var d=c.hd,e=a(c.tl);return function(a){return g(d,e,a)}};return b("bs_curry")._1(i.hd,j(i.tl))}f.proceedIfAllow=g;f.shouldMessageBeAllowed=a},null);
__d("MWNotificationRenderer.bs",["fbt","MessagingThreadType.bs","bs_caml","bs_curry"],function(a,b,c,d,e,f,g){"use strict";function a(a,c,d,e,f,h){if(!b("bs_caml").i64_neq(a.senderId,c))return b("bs_curry")._1(h,g._("__JHASH__rY0dxFqgz-w__JHASH__"));a=f.nickname;if(a!==void 0)c=a;else{f=e.firstName;c=f!==void 0?f:e.name}a=d.threadName;if(a!==void 0)return b("bs_curry")._1(h,g._("__JHASH__OUbuC9yLTGc__JHASH__",[g._param("senderName",c),g._param("groupName",a)]));else if(b("bs_caml").i64_eq(d.threadType,b("MessagingThreadType.bs").group))return b("bs_curry")._1(h,g._("__JHASH__xWtep4OGpvD__JHASH__",[g._param("name",c)]));else return b("bs_curry")._1(h,g._("__JHASH__uh-zU0Y_fAB__JHASH__",[g._param("name",c)]))}f.renderDocumentTitle=a},null);
__d("MWLSChatPopperUpper.bs",["ClearInterval.re","CometSetBlinkingTitleMessageContext","CurrentUser","FBID.bs","LSContactType.bs","MWChatConfig.bs","MWChatOpenTabFromNewMessage.bs","MWChatSettingsQuery","MWChatThreadPingCounter.bs","MWCount.bs","MWGetCurrentThreadIDForLSThread.bs","MWIsXacGroupThread.bs","MWLSChatTabPolicy.bs","MWNotificationRenderer.bs","MWPActor.bs","MWPIsThreadUnread.bs","MWXacGating.bs","MercuryIDs","ReQL.bs","ServerTime","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react","requireDeferred","setInterval","useGlobalEventListener"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("CometSetBlinkingTitleMessageContext"),j=b("requireDeferred")("Sound").__setRef("MWLSChatPopperUpper.bs");function k(a){var c=b("bs_int64").to_string(a.senderId)!==b("CurrentUser").getID();if(c)return j.onReady(function(c){c.play([b("MWChatConfig.bs").soundNotifOggUrl,b("MWChatConfig.bs").soundNotifMp3Url],b("bs_caml_int64").to_float(a.timestampMs),!1)})}var l={contents:void 0};function m(a,c,d,e,f,g,h,i){var j=b("MWGetCurrentThreadIDForLSThread.bs").get(d.threadKey,d.threadType,b("bs_caml").i64_eq(e.contactType,b("LSContactType.bs").page)||b("bs_caml").i64_eq(e.contactType,b("LSContactType.bs").pagePersona));return b("MWLSChatTabPolicy.bs").shouldMessageBeAllowed(c,d,e,h,function(m){var n=b("MercuryIDs").getThreadIDFromThreadFBID(b("FBID.bs").ofStringExn(b("bs_int64").to_string(d.threadKey)));b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.lift,void 0);return b("bs_curry")._3(a,j,d,function(a){b("MWNotificationRenderer.bs").renderDocumentTitle(c,h,d,e,f,function(a){var e=l.contents;e!==void 0&&b("bs_curry")._1(e,void 0);l.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(i.table("threads")),{hd:d.threadKey,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(b("MWPIsThreadUnread.bs").isThreadUnread(a))return;c=l.contents;c!==void 0&&b("bs_curry")._1(c,void 0);l.contents=void 0;return b("bs_curry")._2(g,void 0,b("bs_caml_int64").to_float(a.lastReadWatermarkTimestampMs))});return b("bs_curry")._2(g,a,b("bs_caml_int64").to_float(c.timestampMs))});if(b("MWChatThreadPingCounter.bs").getCount(n)<3){b("MWChatThreadPingCounter.bs").incrementCount(n);b("MWChatSettingsQuery").areChatTabsSoundsOn(function(a){if(!(a==null)&&a)return k(c)});return}})})}function n(a,c,d,e,f){b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.$$process,void 0),b("promiseDone")(window.Promise.all([c.table("threads").get({hd:a.threadKey,tl:0}),c.table("contacts").get({hd:a.senderId,tl:0}),c.table("participants").get({hd:a.threadKey,tl:{hd:a.senderId,tl:0}})]),function(g){var h=g[2],i=g[1];if(i!==void 0&&h!==void 0)return m(d,a,b("bs_belt_Option").getExn(g[0]),i,h,e,f,c)})}function o(a,c,d,e,f){b("promiseDone")(window.Promise.all([c.table("threads").get({hd:a.threadKey,tl:0}),c.table("contacts").get({hd:a.senderId,tl:0}),c.table("participants").get({hd:a.threadKey,tl:{hd:a.senderId,tl:0}})]),function(g){var h=g[2],i=g[1];g=g[0];if(g!==void 0&&i!==void 0&&h!==void 0&&!b("MWIsXacGroupThread.bs").check(g)){b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.$$process,void 0);return m(d,a,g,i,h,e,f,c)}})}function a(a){var c=h.useContext(i),d=b("MWChatOpenTabFromNewMessage.bs").useHook("notificationInThreadReply"),e=b("MWPActor.bs").useActor(void 0),f=h.useRef(b("ServerTime").getMillis());h.useEffect(function(){return b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").fromTableAscending(a.table("messages")),function(g,h){if(typeof h==="number")return;if(h.TAG!==0)return;g=h._0;if(b("bs_caml_int64").to_float(g.timestampMs)<=f.current)return;f.current=b("bs_caml_int64").to_float(g.timestampMs);h=b("MWXacGating.bs").isGroupsEnabled(void 0)?n:o;return b("bs_curry")._5(h,g,a,d,c,e)})},[c,d,a]);var g=h.useRef(void 0),j=function(a){a=g.current;if(a!==void 0){b("ClearInterval.re").clearInterval(b("bs_caml_option").valFromOption(a));return}},k=function(a){j(void 0),g.current=b("bs_caml_option").some(b("setInterval")(function(a){return b("MWChatThreadPingCounter.bs").clear(void 0)},6e5))},l=function(a){b("MWChatThreadPingCounter.bs").clear(void 0);return j(void 0)};b("useGlobalEventListener")("blur",k,{});b("useGlobalEventListener")("focus",l,{});h.useEffect(function(){return function(a){return j(void 0)}},[])}c=6e5;d=3;f.cometSetBlinkingTitleMessageContext=i;f.pingCounterResetTime=c;f.pingsMaxCount=d;f.soundDeferred=j;f.playSound=k;f.threadSubscription=l;f.dispatchOpenTab=m;f.useHook=a},null);
__d("MWSetupPresenceReportingDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("MWSetupPresenceReporting.react").__setRef("MWSetupPresenceReportingDeferred.react"));function a(){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("MWSetupPresenceReportingDeferred.bs",["MWSetupPresenceReportingDeferred.react"],function(a,b,c,d,e,f){"use strict";a=b("MWSetupPresenceReportingDeferred.react");f.make=a},null);
__d("LSDatascriptEvaluatorDeferred",["requireDeferred"],function(a,b,c,d,e,f,g){"use strict";a=function(){return c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferred").load()};b=a;g["default"]=b},98);
__d("LSDatascriptEvaluatorMaybeDeferred",["cr:974"],function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:974")},98);
__d("LSCookie.bs",["Cookie","LSPersistedDbGating","MqttWebDeviceID","Promise","bs_belt_Option","bs_js_dict","bs_js_json","killswitch","promiseDone","recoverableViolation"],function(a,b,c,d,e,f){"use strict";var g="m_ls";d={};var h={d:b("MqttWebDeviceID").clientID,c:d},i={contents:void 0};function j(a){if(!(!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("LSPersistedDbGating").allTablesPersisted))return b("Promise").resolve(i.contents);var c=JSON.stringify(a);if(c!==void 0)try{return cookieStore.set(g,encodeURIComponent(c),{domain:window.location.hostname}).then(function(c){i.contents=a;return b("Promise").resolve(i.contents)})}catch(d){b("Cookie").set(g,c);i.contents=a;return b("Promise").resolve(i.contents)}else{b("recoverableViolation")("Failed to serialize Cookie","messenger");return b("Promise").resolve(i.contents)}}function a(a){try{return cookieStore["delete"]({name:g}).then(function(a){i.contents=void 0})}catch(a){b("Cookie").clear(g);i.contents=void 0;return b("Promise").resolve(void 0)}}function c(a){if(!(!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("LSPersistedDbGating").allTablesPersisted))return h;a=i.contents;if(a!==void 0)return a;else{a=b("Cookie").get("m_ls");if(a!==void 0)try{a=b("bs_belt_Option").getExn(b("bs_js_json").decodeObject(JSON.parse(a)));var c=b("bs_belt_Option").getExn(b("bs_js_json").decodeString(b("bs_belt_Option").getExn(b("bs_js_dict").get(a,"d"))));c=c!==""?c:void 0;var d=b("bs_belt_Option").getWithDefault(c,b("MqttWebDeviceID").clientID);a=b("bs_js_dict").fromArray(b("bs_js_dict").entries(b("bs_belt_Option").getExn(b("bs_js_json").decodeObject(b("bs_belt_Option").getExn(b("bs_js_dict").get(a,"c"))))).map(function(a){return[a[0],b("bs_belt_Option").getExn(b("bs_js_json").decodeString(a[1]))]}));d={d:d,c:a};if(c!==void 0)i.contents=d;else{a=j(d);b("promiseDone")(a,void 0,void 0)}return d}catch(a){c=j(h);b("promiseDone")(c,void 0,void 0);return h}else{a=j(h);b("promiseDone")(a,void 0,void 0);return h}}}f.cookie=i;f.writeCookie=j;f.deleteCookie=a;f.get=c},null);
__d("LSPlatformDeviceId.bs",["ChannelClientID","LSCookie.bs","LSPersistedDbGating","MqttWebDeviceID","gkx","killswitch"],function(a,b,c,d,e,f){"use strict";function a(a){if(!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("LSPersistedDbGating").oneMqttConnectionAcrossTabs)return b("LSCookie.bs").get(void 0).d;else if(b("gkx")("3400"))return b("MqttWebDeviceID").clientID;else return b("ChannelClientID").getID()}c=a(void 0);f.deviceId=c},null);
__d("LSPlatformDeviceId.re",["LSPlatformDeviceId.bs"],function(a,b,c,d,e,f){a=b("LSPlatformDeviceId.bs").deviceId;f.deviceId=a},null);
__d("MessengerArmadilloWebQuickLogModule",[],function(a,b,c,d,e,f){a=Object.freeze({MAW_DELETE_THREAD:1056845732,MAW_INDEXEDDB_MIDDLEWARE:1056849784,MAW_INDEXEDDB_SETUP:1056836116,MAW_LLA_PERFORMANCE:1056839327,MAW_LOAD_STATUS:1056846385,MAW_MESSAGE_SEND_UI:1056842293,MAW_MULTI_TAB_MUTEX_INIT:1056847375,MAW_OCCAMADILLO_FIRST_THREAD_CREATION:1056844945,MAW_PREPARE_MEDIA_MESSAGE_SEND:1056844733,MAW_TTRC:1056839232,MAW_UI_EVENT_HANDLER:1056846089,MAW_USER_SELF_KEY_CHANGE:1056845960,MAW_WA_RECEIVE_MESSAGE:1056840931});f["default"]=a},66);
__d("WeakMap.bs",["bs_belt_Option","bs_curry"],function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("bs_belt_Option").getExn((a.has(c)?a:a.set(c,b("bs_curry")._1(d,void 0))).get(c))}f.getOrMake=a},null);
__d("LSPlatformClientInstances.bs",["ExecutionEnvironment","LSPlatformClientSingleton.bs","MAWGating.bs","MAWTTRC.bs","Promise","Promise.bs","QPLUserFlow","WeakMap.bs","bs_curry","cr:4387","gkx","qpl"],function(a,b,c,d,e,f){"use strict";var g=new WeakMap(),h={contents:!1};function a(a,c){if(h.contents===!1){h.contents=!0;b("QPLUserFlow").start(b("qpl")._(25305590,"1127"),{cancelOnUnload:!0,timeoutInMs:b("ExecutionEnvironment").canUseDOM?6e4:0});var d=b("MAWGating.bs").isArmadillo(void 0);d&&!(b("cr:4387")==null)&&(b("bs_curry")._1(b("cr:4387").setupMainWaLogger,void 0),b("QPLUserFlow").start(b("qpl")._(25310776,"6155"),{cancelOnUnload:!0,timeoutInMs:b("ExecutionEnvironment").canUseDOM?6e4:0}),b("QPLUserFlow").addAnnotations(b("qpl")._(25310776,"6155"),{bool:{isOccamadillo:b("MAWGating.bs").isOccamadillo(void 0),isDev:0,isRelaxedDurability:b("gkx")("6746")}}),b("MAWGating.bs").isOccamadillo(void 0)&&(b("bs_curry")._1(b("cr:4387").log,"[Occamadillo] Beginning hardcoded init sync"),b("MAWTTRC.bs").markEvent("ls_init_start"),b("QPLUserFlow").start(b("qpl")._(1056844945,"700"),{cancelOnUnload:!0,timeoutInMs:b("ExecutionEnvironment").canUseDOM?6e4:0})))}return b("WeakMap.bs").getOrMake(g,a,function(d){return{TAG:0,_0:b("Promise.bs").$$catch(b("bs_curry")._1(c,void 0).then(function(c){return b("bs_curry")._1(c.make,a).then(function(c){return b("bs_curry")._1(c.start,void 0).then(function(d){b("LSPlatformClientSingleton.bs").saveInstance(c),g.set(a,{TAG:2,_0:c})})})}),function(c){g.set(a,{TAG:1,_0:c});return b("Promise").resolve(void 0)})}})}f.isSetupExecuted=h;f.$WALogger$requireCondXplat=b("cr:4387");f.getOrInit=a},null);
__d("LSPlatformConfig.bs",["LSSuspense.bs","bs_caml_exceptions","react","unrecoverableViolation"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");d=b("bs_caml_exceptions").create("LSPlatformConfig.NoLSPlatformProviderFound");e=b("LSSuspense.bs").make(void 0);e.contents={TAG:1,_0:{RE_EXN_ID:d}};var i=h.createContext(e);function a(a){var b=a.children;a=a.config;return h.createElement(i.Provider,{value:a,children:b})}a={make:a};function c(a){a=h.useContext(i);a=a.contents;if(typeof a==="number")return b("unrecoverableViolation")("Tried to get an instance of LSPlatformConfig but got a config that was uninitialised","messenger_web_product");switch(a.TAG|0){case 0:return b("LSSuspense.bs").$$throw(a._0);case 1:return b("LSSuspense.bs").throwError(a._0);case 2:return a._0}}f.NoLSPlatformProviderFound=d;f.$$default=e;f["default"]=e;f.__esModule=!0;f.Provider=a;f.useOrSuspend=c},null);
__d("LSPlatformErrorsCatcher.react",["cr:529","justknobx","react"],function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useEffect,i=e.useState;function a(){var a=i(null),d=a[0],e=a[1];h(function(){var a=b("cr:529")&&b("cr:529").subscribe(function(a){e(a)});return function(){a&&a()}},[]);if(c("justknobx")._("384")&&d!=null)throw d;return null}g["default"]=a},98);
__d("LSPlatformClientProvider.bs",["CometPlaceholder.react","LSPersistedDbGating","LSPlatformClientInstances.bs","LSPlatformConfig.bs","LSPlatformConnectionStatusContext.bs","LSPlatformErrorsCatcher.react","LSSuspense.bs","MAWCondWrapper.react","ReStoreProvider.react","bs_caml_option","bs_curry","cr:2073","gkx","react","unrecoverableViolation"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function j(a){var c=b("LSPlatformConfig.bs").useOrSuspend(void 0);c=b("LSPlatformClientInstances.bs").getOrInit(c,a);if(typeof c==="number")return b("unrecoverableViolation")("Did not expect a LSPlatformClient that has not started initialising","messenger_web_product");switch(c.TAG|0){case 0:return b("LSSuspense.bs").$$throw(c._0);case 1:return b("LSSuspense.bs").throwError(c._0);case 2:return c._0}}function k(a){var b=a.client;a=a.children;return h.jsx(i.Provider,{value:b,children:a})}c={make:k};var l;d=0;b("cr:2073")==null||!b("LSPersistedDbGating").oneMqttConnectionAcrossTabs?d=1:l=b("cr:2073").usePauseClientWhenTabIsntLeader;d===1&&(l=function(a){});function m(a){var c=a.children;a=a.loadLSPlatformClient;a=j(a);b("bs_curry")._1(l,a);return h.jsxs(b("ReStoreProvider.react").ReStoreProvider,{db:a.db,children:[h.jsx(b("LSPlatformErrorsCatcher.react"),{}),h.jsx(b("LSPlatformConnectionStatusContext.bs").make,{children:h.jsx(k,{client:a,children:c}),onConnectionStatusChange:a.onConnectionStatusChange})]})}e={usePauseClientWhenTabIsntLeader:l,make:m};function a(a){var c=a.children,d=a.loadLSPlatformClient;a=a.placeholder;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var e=h.useContext(i);if(e!==void 0)return c;e=h.jsx(b("CometPlaceholder.react"),{children:h.jsx(m,{children:c,loadLSPlatformClient:d}),fallback:a});if(b("gkx")("6523"))return h.jsx(b("MAWCondWrapper.react"),{children:e});else return e}d=a;f.context=i;f.Provider=c;f.$MWSetupLock$requireCond=b("cr:2073");f.Inner=e;f.make=d},null);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.bs",["LSPlatformClientProvider.bs","bs_caml_option","react","requireDeferred"],function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("LSPlatformClient.bs").__setRef("LSPlatformClientProviderWithDeferredLoadingStrategy.bs");function j(a){return i.load()}function a(a){var c=a.children;a=a.placeholder;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;return h.jsx(b("LSPlatformClientProvider.bs").make,{children:c,loadLSPlatformClient:j,placeholder:a})}c=a;f.$LSPlatformClient$Deferred=i;f.loadLSPlatformClient=j;f.make=c},null);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.re",["LSPlatformClientProviderWithDeferredLoadingStrategy.bs"],function(a,b,c,d,e,f){a=b("LSPlatformClientProviderWithDeferredLoadingStrategy.bs").make;f.make=a},null);
__d("LSPlatformErrorChannel",["BaseEventEmitter"],function(a,b,c,d,e,f,g){"use strict";var h="onLSError",i=new(c("BaseEventEmitter"))();function a(a){i.emit(h,a)}function b(a){var b=i.addListener(h,a);return function(){return b.remove()}}g.emit=a;g.subscribe=b},98);
__d("LSPlatformConfig.re",["LSPlatformConfig.bs","bs_curry"],function(a,b,c,d,e,f){a=b("LSPlatformConfig.bs").Provider.make;f.Provider_make=a;c=function(){var a=b("LSPlatformConfig.bs").useOrSuspend();return{region:a.region,deviceId:a.deviceId,appId:a.appId,platformName:a.platformName,schemaVersion:a.schemaVersion,getDb:a.getDb,realtimeUnderylingTransport:function(c){var d=a.realtimeUnderylingTransport(c);return{subscribe:d.subscribe,onConnectionStatusChange:d.onConnectionStatusChange,onReconnect:d.onReconnect,publish:function(a,c){a=b("bs_curry")._2(d.publish,a,c);return a},cleanup:d.cleanup}},getEval:function(){var b=a.getEval();return b.then(function(a){return function(b){b=a(b.onBefore);return b}})},syncParams:a.syncParams,executeGraphQLLightSpeedRequest:a.executeGraphQLLightSpeedRequest,sendHardcodedInitSync:a.sendHardcodedInitSync}};f.useOrSuspend=c;d=b("LSPlatformConfig.bs").Provider;f.Provider=d},null);
__d("LSDedicatedMqttChannel.bs",["cr:11792"],function(a,b,c,d,e,f){"use strict";a=b("cr:11792").getInstance;c=b("cr:11792").shutdownAndClear;f.$LSMqttChannel$OR$FBMqttChannel$requireCond=b("cr:11792");f.getInstance=a;f.shutdownAndClear=c},null);
__d("LSPlatformGraphQLLightspeedRequest",["CometRelay","CometRelayEnvironment","LSPlatformGraphQLLightspeedRequestQuery.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g){return d("CometRelay").fetchQuery(c("CometRelayEnvironment"),h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestQuery.graphql"),{deviceId:a,requestId:e,requestPayload:f,requestType:g}).toPromise().then(function(a){return a==null?void 0:(a=a.viewer)==null?void 0:a.lightspeed_web_request})}g["default"]=a},98);
__d("LSPlatformDefaultUnderlyingApi.bs",["Promise"],function(a,b,c,d,e,f){"use strict";function a(a){return function(a){}}function c(a){return function(a){}}function d(a){return function(a){}}function e(a,c){return b("Promise").resolve(void 0)}function g(){}a={subscribe:a,onConnectionStatusChange:c,onReconnect:d,publish:e,cleanup:g};f.defaultUnderlyingApi=a},null);
__d("LSRequestType.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];b=[0,5];f.initSync=a;f.resumeSync=c;f.taskBatch=d;f.fireForget=e;f.resumeSyncBatch=b},null);
__d("LSSyncChannel.bs",["bs_caml_int64"],function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.mqtt=a;f.http=c;f.dgw=d},null);
__d("LSPlatformRealtimeTransport.bs",["JSMap.bs","LSDict","LSDynamicDependencies","LSJson","LSRequestType.bs","LSSyncChannel.bs","Promise","bs_caml","bs_caml_exceptions","bs_curry","bs_int64","clearTimeout","promiseDone","qex","setTimeout"],function(a,b,c,d,e,f){"use strict";e=b("bs_caml_exceptions").create("LSPlatformRealtimeTransport.NotConnected");var g=b("bs_caml_exceptions").create("LSPlatformRealtimeTransport.Timeout");function a(a,c,d){return b("LSDynamicDependencies").downloadBootloaderDependencies(a,c,d)}function h(a){var c=new Map();return{getOrStart:function(d){return b("JSMap.bs").getOrMake(c,b("bs_int64").to_string(d),function(c){return b("bs_curry")._1(a,d)})},getAll:function(a){return Array.from(c.values())}}}var i={make:h};function j(){}function c(a){}function d(a,c){var d=new Map(),e={contents:j},f=new Set(),i=new Map(),k=[],l=h(function(c){c=b("bs_curry")._1(a,c);k.push(c.subscribe(function(a){var c=JSON.parse(a),e=b("LSDynamicDependencies").downloadBootloaderDependencies(c.sp,c.nop,c.ntop);a=c.request_id;var f;if(a!==void 0){var g=d.get(a);g==null?f=!1:(b("clearTimeout")(g.timeoutId),g.resolve({_0:e,_1:c}),d["delete"](a),f=!0)}else f=!1;if(!f){Array.from(i.entries()).forEach(function(a){return a[1](e,c)});return}}));k.push(c.onReconnect(function(){return e.contents()}));k.push(c.onConnectionStatusChange(function(a){f.forEach(function(b){return b(a)})}));return c});b("bs_curry")._1(l.getOrStart,b("LSSyncChannel.bs").mqtt);var m=b("qex")._("461");!(m==null)&&m&&b("bs_curry")._1(l.getOrStart,b("LSSyncChannel.bs").dgw);return{subscribeToNonTaskResponses:function(a){var b={};i.set(b,a);return function(a){i["delete"](b)}},onReconnect:function(a){e.contents=a;return function(a){e.contents=j}},onConnectionStatusChange:function(a){f.add(a);return function(b){f["delete"](a)}},publish:function(a,e,f,h,i){return new(b("Promise"))(function(j,k){if(b("bs_caml").i64_eq(h,b("LSRequestType.bs").taskBatch)){var m=b("setTimeout")(function(a){a=d.get(f);a==null||(d["delete"](f),a.reject({RE_EXN_ID:g}));return k({RE_EXN_ID:g})},3e4);d.set(f,{timestamp:Date.now(),queueName:e,timeoutId:m,resolve:j,reject:k})}b("promiseDone")(b("bs_curry")._2(b("bs_curry")._1(l.getOrStart,a).publish,b("LSJson").stringify(b("LSDict").fromObject({request_id:f,type:h,payload:i,app_id:c})),h),function(a){if(b("bs_caml").i64_neq(h,b("LSRequestType.bs").taskBatch))return j(0)},function(a){return k(a)})})},cleanup:function(){k.forEach(function(a){return b("bs_curry")._1(a,void 0)}),b("bs_curry")._1(l.getAll,void 0).forEach(function(a){return a.cleanup()})}}}f.NotConnected=e;f.Timeout=g;f.downloadDependencies=a;f.Transports=i;f.defaultReconnectHandler=j;f.defaultConnectionChangedHandler=c;f.make=d},null);
__d("LSPlatformMqttRealtimeTransport.bs",["ExecutionEnvironment","LSDedicatedMqttChannel.bs","LSPersistedDbGating","LSPlatformDefaultUnderlyingApi.bs","LSPlatformRealtimeTransport.bs","LSRequestType.bs","MqttState.bs","Promise","QPLUserFlow","bs_caml","bs_curry","killswitch","promiseDone","qpl"],function(a,b,c,d,e,f){"use strict";function g(a){b("QPLUserFlow").addPoint(b("qpl")._(25305590,"1127"),"mqtt_started",void 0);return[{topic:"/ls_app_settings",payload:JSON.stringify({ls_sv:a,ls_fdid:""}),qos:1}]}function h(a){var c={contents:a.getConnectionState()},d={contents:function(a){}},e={contents:new(b("Promise"))(function(a,b){d.contents=a})},f={onMQTTStateChanged:function(a){a===b("MqttState.bs").connected?d.contents(void 0):a===b("MqttState.bs").disconnected&&c.contents===b("MqttState.bs").connected&&(e.contents=new(b("Promise"))(function(a,b){d.contents=a})),c.contents=a}};c.contents===b("MqttState.bs").connected&&d.contents(void 0);a.subscribeChannelEvents(f);return[function(b){a.unsubscribeChannelEvents(f)},function(c,d){return e.contents.then(function(e){return new(b("Promise"))(function(e,f){b("promiseDone")(a.publish("/ls_req",c,{qos:b("bs_caml").i64_eq(d,b("LSRequestType.bs").fireForget)?0:1,skipBuffer:!1,listener:{onEvent:function(a){if(a==="NOT_CONNECTED")return f({RE_EXN_ID:b("LSPlatformRealtimeTransport.bs").NotConnected})}}}),function(a){return e(void 0)},function(a){if(a.message==="Publish Timed Out")return f({RE_EXN_ID:b("LSPlatformRealtimeTransport.bs").Timeout});else return f(a)})})})}]}var i={contents:void 0};function a(a,c){if(!b("ExecutionEnvironment").canUseDOM)return b("LSPlatformDefaultUnderlyingApi.bs").defaultUnderlyingApi;var d=b("bs_curry")._1(c,void 0),e={getPublishMessages:function(b){return g(a)}};d.registerExtraConnectPayloadProvider(e);var f={onMQTTStateChanged:function(a){var b=i.contents;if(b!==void 0)return b(a)}};d.subscribeChannelEvents(f);var j=d.subscribe("/ls_foreground_state",function(a){});c=h(d);var k=c[0];return{subscribe:function(a){return d.subscribe("/ls_resp",function(b){return a(b)})},onConnectionStatusChange:function(a){i.contents=a;return function(a){i.contents=void 0}},onReconnect:function(a){var c={contents:d.getConnectionState()},e={contents:c.contents===b("MqttState.bs").connected},f={onMQTTStateChanged:function(d){d===b("MqttState.bs").connected&&(e.contents&&c.contents!==b("MqttState.bs").connected&&a(),e.contents=!0),c.contents=d}};d.subscribeChannelEvents(f);return function(a){d.unsubscribeChannelEvents(f)}},publish:c[1],cleanup:function(){d.unregisterExtraConnectPayloadProvider(e);!b("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("LSPersistedDbGating").oneMqttConnectionAcrossTabs&&b("bs_curry")._1(b("LSDedicatedMqttChannel.bs").shutdownAndClear,void 0);d.unsubscribeChannelEvents(f);b("bs_curry")._1(j,void 0);return b("bs_curry")._1(k,void 0)}}}f.sendSchemaVersion=g;f.makePublish=h;f.connectionHandler=i;f.make=a},null);
__d("MessengerWebRegion.bs",["MessengerWebRegion","gkx","unrecoverableViolation"],function(a,b,c,d,e,f){"use strict";function a(a){a=b("MessengerWebRegion").regionNullable;if(a==null)if(b("gkx")("1993339"))return b("unrecoverableViolation")("Tried to load mailbox for a user that does not have a mailbox","messenger_web_product");else return"";else return a}f.getRegion=a},null);
__d("LSPlatformMessengerConfig.bs",["LSDatabaseDeferred.bs","LSDatascriptEvaluatorMaybeDeferred","LSDedicatedMqttChannel.bs","LSPlatformDeviceId.bs","LSPlatformGraphQLLightspeedRequest","LSPlatformMessengerSyncParams","LSPlatformMqttRealtimeTransport.bs","LSSyncChannel.bs","LSVersion","MessengerWebRegion.bs","ServerAppID","bs_caml","bs_curry","cr:972"],function(a,b,c,d,e,f){"use strict";e=b("LSPlatformMessengerSyncParams");var g=b("MessengerWebRegion.bs").getRegion(void 0);function a(){return b("LSDatabaseDeferred.bs").db}function c(a){if(!(b("cr:972")==null)&&b("bs_caml").i64_eq(a,b("LSSyncChannel.bs").dgw))return b("bs_curry")._1(b("cr:972").make,b("LSVersion"));else return b("LSPlatformMqttRealtimeTransport.bs").make(b("LSVersion"),b("LSDedicatedMqttChannel.bs").getInstance)}function d(a){return b("LSDatascriptEvaluatorMaybeDeferred")()}g={region:g,deviceId:b("LSPlatformDeviceId.bs").deviceId,appId:b("ServerAppID").app_id,platformName:"Messenger",schemaVersion:b("LSVersion"),getDb:a,realtimeUnderylingTransport:c,getEval:d,syncParams:e,executeGraphQLLightSpeedRequest:b("LSPlatformGraphQLLightspeedRequest"),sendHardcodedInitSync:!0};a={contents:{TAG:2,_0:g}};f.syncParams=e;f.$LSPlatformDGWTransport$requireCond=b("cr:972");f.config=g;f.configEagerlyLoaded=a},null);
__d("LSPlatformMessengerConfig.re",["LSPlatformMessengerConfig.bs","bs_curry"],function(a,b,c,d,e,f){c={region:(a=b("LSPlatformMessengerConfig.bs")).config.region,deviceId:a.config.deviceId,appId:a.config.appId,platformName:a.config.platformName,schemaVersion:a.config.schemaVersion,getDb:a.config.getDb,realtimeUnderylingTransport:function(a){var c=b("LSPlatformMessengerConfig.bs").config.realtimeUnderylingTransport(a);return{subscribe:c.subscribe,onConnectionStatusChange:c.onConnectionStatusChange,onReconnect:c.onReconnect,publish:function(a,d){a=b("bs_curry")._2(c.publish,a,d);return a},cleanup:c.cleanup}},getEval:function(){var a=b("LSPlatformMessengerConfig.bs").config.getEval();return a.then(function(a){return function(b){b=a(b.onBefore);return b}})},syncParams:a.config.syncParams,executeGraphQLLightSpeedRequest:a.config.executeGraphQLLightSpeedRequest,sendHardcodedInitSync:a.config.sendHardcodedInitSync};f.config=c;d=a.configEagerlyLoaded;f.configEagerlyLoaded=d},null);
__d("LSMqttChannel",["LSPlatformDeviceId.re","MqttChannel","MqttEnvInitializer","MqttWebConfig"],function(a,b,c,d,e,f,g){"use strict";d("MqttEnvInitializer").initialize();function h(){return new(c("MqttChannel"))({appId:d("MqttWebConfig").appID,capabilities:d("MqttWebConfig").capabilities,chatVisibility:d("MqttWebConfig").chatVisibility,clientCapabilities:d("MqttWebConfig").clientCapabilities,deviceId:c("LSPlatformDeviceId.re").deviceId,endpoint:d("MqttWebConfig").endpoint,initialSubscribedTopics:d("MqttWebConfig").subscribedTopics,phpOverride:d("MqttWebConfig").hostNameOverride,pollingEndpoint:d("MqttWebConfig").pollingEndpoint,userFbid:d("MqttWebConfig").fbid})}var i=null;function a(){if(i==null){i=h();return i}else return i}function b(){i!=null&&(i.shutdown(),i=null)}g.getInstance=a;g.shutdownAndClear=b},98);
__d("LSMqttChannel.bs",["LSMqttChannel"],function(a,b,c,d,e,f){"use strict";function a(a){b("LSMqttChannel").shutdownAndClear()}function c(a){return b("LSMqttChannel").getInstance()}f.shutdownAndClear=a;f.getInstance=c},null);
__d("XCometSearchHashtagControllerRouteBuilder",["jsRouteBuilder"],function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/hashtag/{hashtag}/{?explore_tab}/",Object.freeze({}),void 0);b=a;g["default"]=b},98);
__d("useSearchCometHashtagRouteUrlBuilder",["CometRouteParams","XCometSearchHashtagControllerRouteBuilder","react","useSearchCometResultsEntryPointSurface"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){a=a===void 0?{}:a;a=a.entryPointSurface;var b=d("CometRouteParams").useRouteParams(),e=b.__tsid__,f=c("useSearchCometResultsEntryPointSurface")({entryPointSurface:a});return h(function(a){var b=a.entryPointAction,d=a.exploreEntryPoint,g=a.groupID,h=a.hashtag;a=a.typeaheadSessionID;h={hashtag:h};a!=null?h.__tsid__=a:typeof e==="string"&&(h.__tsid__=e);b!=null&&(h.__epa__=b);f!=null&&(h.__eps__=f);d!=null&&(h.__eep__=d);g!=null&&(h.__gid__=g);return c("XCometSearchHashtagControllerRouteBuilder").buildURL(h)},[e,f])}g["default"]=a},98);
__d("LsSystemFolder.re",["LsSystemFolder.bs"],function(a,b,c,d,e,f){c=(a=b("LsSystemFolder.bs")).inbox;f.inbox=c;d=a.pending;f.pending=d;e=a.other;f.other=e;b=a.spam;f.spam=b;c=a.hidden;f.hidden=c;d=a.legacy;f.legacy=d;e=a.disabled;f.disabled=e;b=a.blocked;f.blocked=b;c=a.background;f.background=c;d=a.done_;f.done_=d;e=a.archived;f.archived=e;b=a.business;f.business=b;c=a.mplace;f.mplace=c;d=a.jobs;f.jobs=d;e=a.community;f.community=e;b=a.restricted;f.restricted=b;c=a.businessSupport;f.businessSupport=c;d=a.secureInbox;f.secureInbox=d;e=a.securePending;f.securePending=e;b=a.secureOther;f.secureOther=b;c=a.secureSpam;f.secureSpam=c;d=a.secureArchived;f.secureArchived=d},null);/*FB_PKG_DELIM*/
__d("GroupRoomLobbyQuery$Parameters",["GroupRoomLobbyQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupRoomLobbyQuery_facebookRelayOperation"),metadata:{},name:"GroupRoomLobbyQuery",operationKind:"query",text:null}};e.exports=a},null);
__d("CometFeedInlineComposerWOYM_profile.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedInlineComposerWOYM_profile",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a},null);
__d("SPFCometConnectionsDialogQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="7222473857827559"},null);
__d("SPFCometConnectionsDialogQuery$Parameters",["SPFCometConnectionsDialogQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("SPFCometConnectionsDialogQuery_facebookRelayOperation"),metadata:{},name:"SPFCometConnectionsDialogQuery",operationKind:"query",text:null}};e.exports=a},null);
__d("CometMegaphoneQuickPromotionSection_quickPromotion.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMegaphoneQuickPromotionSection_quickPromotion",selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometPrimaryTestUserUpsellQP","CometSlimMegaphoneRendererStrategy","CometStandardMegaphoneRendererStrategy","CometEmergencyMegaphoneRendererStrategy","CometMegaphoneWWWDeviceBasedLoginRendererStrategy","CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy","CometQuickPromotionPageTransparencyMegaphoneRendererStrategy","CometQuickPromotionMegaphonePrivacyNotificationRendererStrategy","CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy","CometQuickPromotionNonprofitMegaphoneRendererStrategy","CometQPDiglossiaSurveyRendererStrategy","CometQPRegularSurveyRendererStrategy","CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy","CometQuickPromotionFullImageMegaphoneRendererStrategy","CometQuickPromotionBLMMegaphoneRendererStrategy","CometConsentFrameworkRendererStrategy","CometQuickPromotionPPAMegaphoneRendererStrategy","CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy","CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy","CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy","CometQuickPromotionFullBleedImageRendererStrategy","CometQuickPromotionCreateStreamerFanGroupsRendererStrategy","CometSideImageMegaphoneRendererStrategy","CometMegaphoneWWWEmailAcquisitionRendererStrategy","CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy","CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy","CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy","CometQuickPromotionTransparencyInformPlatformRendererStrategy","CometQuickPromotionSettingsContextualMessageRendererStrategy","CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy"]}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometPrimaryTestUserUpsellQP_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometPrimaryTestUserUpsellQP",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometSlimMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometSlimMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometStandardMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometStandardMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometEmergencyMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometEmergencyMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWDeviceBasedLoginRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPageTransparencyMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPageTransparencyMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionMegaphonePrivacyNotificationRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionMegaphonePrivacyNotificationRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionNonprofitMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionNonprofitMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPDiglossiaSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPDiglossiaSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQPRegularSurveyRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQPRegularSurveyRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullImageMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullImageMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionBLMMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionBLMMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometConsentFrameworkRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometConsentFrameworkRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionFullBleedImageRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionFullBleedImageRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionCreateStreamerFanGroupsRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionCreateStreamerFanGroupsRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometSideImageMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometSideImageMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWEmailAcquisitionRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWEmailAcquisitionRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionTransparencyInformPlatformRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionTransparencyInformPlatformRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionSettingsContextualMessageRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionSettingsContextualMessageRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometMegaphoneQuickPromotionSection_quickPromotion",fragmentName:"CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy_quickPromotion",fragmentPropName:"quickPromotion",kind:"ModuleImport"}],type:"CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:["CometPrimaryTestUserUpsellQP","CometSlimMegaphoneRendererStrategy","CometStandardMegaphoneRendererStrategy","CometEmergencyMegaphoneRendererStrategy","CometMegaphoneWWWDeviceBasedLoginRendererStrategy","CometQuickPromotionAYMTNewsFeedMegaphoneRendererStrategy","CometQuickPromotionPageTransparencyMegaphoneRendererStrategy","CometQuickPromotionMegaphonePrivacyNotificationRendererStrategy","CometQuickPromotionLocationTransparencyMegaphoneRendererStrategy","CometQuickPromotionNonprofitMegaphoneRendererStrategy","CometQPDiglossiaSurveyRendererStrategy","CometQPRegularSurveyRendererStrategy","CometQuickPromotionFundraiserPromotionalMegaphoneRendererStrategy","CometQuickPromotionFullImageMegaphoneRendererStrategy","CometQuickPromotionBLMMegaphoneRendererStrategy","CometConsentFrameworkRendererStrategy","CometQuickPromotionPPAMegaphoneRendererStrategy","CometQuickPromotionPPAPostEnforcementMegaphoneRendererStrategy","CometQuickPromotionPPAPreApprovedMegaphoneRendererStrategy","CometQuickPromotionAskMeAnythingNewsFeedMegaphoneRendererStrategy","CometQuickPromotionFullBleedImageRendererStrategy","CometQuickPromotionCreateStreamerFanGroupsRendererStrategy","CometSideImageMegaphoneRendererStrategy","CometMegaphoneWWWEmailAcquisitionRendererStrategy","CometQuickPromotionPrayerSettingsMegaphoneRendererStrategy","CometMegaphoneWWWEmailAcquisitionNoAutofillRendererStrategy","CometQuickPromotionNewsfeedPrivacyPolicyNoticeMegaphoneRendererStrategy","CometQuickPromotionTransparencyInformPlatformRendererStrategy","CometQuickPromotionSettingsContextualMessageRendererStrategy","CometQuickPromotionProfilePlusTopOfFeedMegaphoneRendererStrategy"])'}],storageKey:null}],type:"QuickPromotion",abstractKey:null};e.exports=a},null);
__d("FBReelsTopOfFeedTrayRootWithEntrypointQuery_facebookRelayOperation",[],function(a,b,c,d,e,f){e.exports="5319297021520061"},null);
__d("FBReelsTopOfFeedTrayRootWithEntrypointQuery$Parameters",["FBReelsTopOfFeedTrayRootWithEntrypointQuery_facebookRelayOperation"],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FBReelsTopOfFeedTrayRootWithEntrypointQuery_facebookRelayOperation"),metadata:{},name:"FBReelsTopOfFeedTrayRootWithEntrypointQuery",operationKind:"query",text:null}};e.exports=a},null);
__d("StoriesTrayTileView_LWRAnimations.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_LWRAnimations",selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileReactionIconWrapper_LWRAnimations"}],type:"Viewer",abstractKey:null};e.exports=a},null);
__d("StoriesTrayTileView_bucket.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldEnableLiveInStoriesDropdown"}],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_bucket",selections:[{condition:"shouldEnableLiveInStoriesDropdown",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoriesTrayTileWatchLivePopover_bucket"}]}],type:"StoryBucket",abstractKey:"__isStoryBucket"};e.exports=a},null);
__d("StoriesTrayTileView_warningScreen.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoriesTrayTileView_warningScreen",selections:[{args:null,documentName:"StoriesTrayTileView_warningScreen",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a},null);
__d("SPFCometConnectionsDialog.entrypoint",["JSResourceForInteraction","SPFCometConnectionsDialogQuery$Parameters","WebPixelRatio"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.followLocation;return{queries:{queryReference:{parameters:b("SPFCometConnectionsDialogQuery$Parameters"),variables:{follow_location:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("SPFCometConnectionsDialog.react").__setRef("SPFCometConnectionsDialog.entrypoint")};g["default"]=a},98);
__d("CometFeedEndOfFeedMessage.react",["fbt","CometCard.react","CometEntryPointDialogTrigger.react","GraphQLGender","NullStateGeneral","SPFCometConnectionsDialog.entrypoint","TetraButton.react","TetraNullState.react","XCometFriendingControllerRouteBuilder","gkx","react","recoverableViolation","useCometIgnoreLateMutation"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("gkx")("678680"),k="ADDITIONAL_PROFILE_END_OF_NEWSFEED_UNIT";function a(a){var b=a.canHaveFriends;b=b===void 0?!0:b;var d=a.friendsCount,e=a.isError,f=a.isTailLoadError,g=a.onReload,l=a.unstable_fbOnlyMessage;a=a.viewerName;var m=h._("__JHASH__1aCahPu_Spa__JHASH__"),n=g!=null?h._("__JHASH__agUjVDAiGfU__JHASH__"):h._("__JHASH__TIavK93mohZ__JHASH__"),o=c("NullStateGeneral");f=g!=null?i.jsx(c("TetraButton.react"),{label:f===!0?h._("__JHASH__oVKFGacXj7g__JHASH__"):h._("__JHASH__5qO-W0gPI64__JHASH__"),onPress:g}):void 0;!e&&c("gkx")("960072")&&d!=null&&d<60&&(m=h._("__JHASH__nOZd7FcqYcw__JHASH__"),n=h._("__JHASH__Hc910K4rHZM__JHASH__"),o=null,f=i.jsx(c("TetraButton.react"),{label:h._("__JHASH__Y5CxKhtSbB4__JHASH__"),linkProps:{passthroughProps:{ref:"EMPTY_FEED"},url:c("XCometFriendingControllerRouteBuilder").buildURL({})}}));if(!e&&!b){a==null&&c("recoverableViolation")("viewer name cannot be null","profile_plus");m=h._("__JHASH__gJ9WA69Whcf__JHASH__");n=h._("__JHASH___loeeVx4WwJ__JHASH__",[h._name("actor",(g=a)!=null?g:null,new(c("GraphQLGender"))("NEUTER").toIntlVariationsEnum())]);o=null;f=i.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("SPFCometConnectionsDialog.entrypoint"),otherProps:{followLocation:k,title:h._("__JHASH__ts6o3CYEyKM__JHASH__")},preloadParams:{followLocation:k},children:function(a){return i.jsx(c("TetraButton.react"),{label:h._("__JHASH__u89hK40h892__JHASH__"),onPress:a})}})}d=c("useCometIgnoreLateMutation")(!0);return i.jsx("div",{className:"p8bdhjjv",ref:d,role:"article",children:i.jsxs(c("CometCard.react"),{background:"white",dropShadow:1,children:[i.jsx(c("TetraNullState.react"),{action:f,body:n,headline:m,icon:o}),l!=null&&j?i.jsx("div",{className:"dwuburet mx411szv ndeqfrpf f4g9fmn2",children:l}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("GroupRoomLobby.entrypoint",["GroupRoomLobbyQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("GroupRoomLobbyQuery$Parameters"),variables:{linkHash:a.linkHash,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupRoomLobby.react").__setRef("GroupRoomLobby.entrypoint")};g["default"]=a},98);
__d("CometFeedInlineComposerWOYM.react",["CometFeedInlineComposerWOYM_profile.graphql","CometRefineRef","CometRelay","TextInputButton.react","cr:1654613","mergeRefs","react"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e,f=a.additionalInputButtonRef,g=a.onHoverInPrerenderer,j=a.onHoverOutPrerenderer,k=a.onPress,l=a.onPressInPrerenderer,m=a.postPlainText,n=a.profile$key;a=a.triggerRef;n=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedInlineComposerWOYM_profile.graphql"),n);n=b("cr:1654613")(n==null?void 0:n.short_name);e=(e=m)!=null?e:n;return i.jsx(c("TextInputButton.react"),{isUserEnteredPreviewText:m!=null,label:e,onHoverIn:g,onHoverOut:j,onPress:k,onPressIn:l,ref:c("mergeRefs")(c("CometRefineRef")(a),f),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("useCometFeedInlineComposerWOYMText",["fbt","gkx"],function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("1224637");function a(a){if(i)return h._("__JHASH__Hf3Fx3GNVZv__JHASH__");else return a!=null?h._("__JHASH__FVtpWFx1aSi__JHASH__",[h._param("short name",a)]):h._("__JHASH___BeMvWn-nAb__JHASH__")}g["default"]=a},98);
__d("TopOfFeedContext",["StoriesGating","react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");c={topOfFeedEnabled:(b=d("StoriesGating").isTopOfFeedUnitEnabled())!=null?b:!1};e=a.createContext(c);g["default"]=e},98);
__d("VideoChatTrayTilePlaceholder.react",["BaseGlimmer.react","CometCard.react","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","StoriesConstants","react","useVisibilityObserver"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.onVisible;a=c("useVisibilityObserver")({onVisible:a,options:{rootMargin:200}});return h.jsx("div",{className:"mfclru0v pytsy3co jez8cy9q cgu29s5g alzwoclg bdao358l o9w3sbdw",ref:a,style:{minHeight:d("StoriesConstants").TOFU_TILE_HEIGHT},children:h.jsx(c("CometCard.react"),{border:"solid",children:h.jsxs(c("CometColumn.react"),{children:[h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("CometRow.react"),{align:"center",paddingTop:12,children:h.jsx(c("CometRowItem.react"),{children:h.jsx(c("BaseGlimmer.react"),{className:"t29kiutw p8zq7ayg i7rjuzed pry8b2m5 q6ul9yy4 a26p89d5 nmlomj2f qwcclf47 e7u6y3za qmqpeqxj",index:0})})})}),h.jsx(c("CometColumnItem.react"),{children:h.jsx(c("CometRow.react"),{align:"center",paddingVertical:12,children:h.jsx(c("CometRowItem.react"),{children:h.jsxs("div",{className:"qlk3cj8p cqf1kptm alzwoclg i85zmo3j",children:[h.jsx(c("BaseGlimmer.react"),{className:"cpoadq8x q6ul9yy4 rbcf3a04 k250bvdn rhb5po1u sh0fm2ip et68h0wo e1f1yg3z",index:0}),h.jsx(c("BaseGlimmer.react"),{className:"j9a9igkc kmwttqpk i7rjuzed l7ghb35v q6ul9yy4 pgh37c60 rhb5po1u sh0fm2ip et68h0wo e1f1yg3z",index:0})]})})})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("VideoChatTrayPlaceholder.react",["BaseLoadingStateElement.react","CometCard.react","StoriesConstants","TopOfFeedContext","VideoChatTrayTilePlaceholder.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={cardContainer:{alignItems:"o9w3sbdw",boxSizing:"bdao358l",display:"alzwoclg",flexGrow:"cgu29s5g",flexShrink:"jez8cy9q",marginEnd:"b7mnygb8",marginStart:"iec8yc8l"},container:{display:"alzwoclg",flexDirection:"jl2a5g8c",justifyContent:"sl27f92c",paddingTop:"s1m0hq7j",paddingEnd:"aesu6q9g",paddingBottom:"rj2hsocd",paddingStart:"e4ay1f3w",width:"suolmcoq"},height:{height:"r4io43q6",paddingTop:"d2hqwtrz",paddingEnd:"aesu6q9g",paddingBottom:"rl78xhln",paddingStart:"e4ay1f3w"},root:{alignItems:"i85zmo3j",display:"alzwoclg",flexDirection:"cqf1kptm",justifyContent:"t5n4vrf6",marginBottom:"p8bdhjjv",overflowX:"lq84ybu9",overflowY:"hf30pyar",width:"mfclru0v"}},k={narrow:{width:"nnikq6o4","@media (max-width: 299px)":{width:"ot5sk232"}},normal:{width:"n9uh7hmq","@media (min-width: 404px) and (max-width: 561px)":{width:"sxbqdg66"}},wide:{width:"md2rqqf8","@media (min-width: 562px) and (max-width: 719px)":{width:"rrprdokj"}}};function a(a,b){a=5;var e=i(c("TopOfFeedContext"));e=e.topOfFeedEnabled;return h.jsx("div",{role:"article",children:h.jsx(c("BaseLoadingStateElement.react"),{ref:b,xstyle:j.root,children:h.jsx(c("CometCard.react"),{background:"white",dropShadow:e?0:1,children:h.jsx("div",{className:c("stylex")([j.container,e&&j.height]),style:{minHeight:d("StoriesConstants").TOFU_TILE_HEIGHT},children:Array(a).fill().map(function(a,b){return h.jsx("div",{className:c("stylex")([j.cardContainer,k.narrow,k.normal,k.wide]),children:h.jsx(c("VideoChatTrayTilePlaceholder.react"),{},b)},b)})})})})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b},98);
__d("CometMegaphoneQuickPromotionSection.react",["CometCard.react","CometErrorBoundary.react","CometMegaphoneQuickPromotionSection_quickPromotion.graphql","CometQuickPromotionLoggerContext.react","CometRelay","react","useQuickPromotionFalcoEvent"],function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={section:"quick_promotion",surface:"PROFILE_NEWSFEED_MEGAPHONE"};function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMegaphoneQuickPromotionSection_quickPromotion.graphql"),a.quickPromotion);var e=c("useQuickPromotionFalcoEvent")({context_surface_id:2646,context_trigger:"newsfeed"});a=a==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a!=null?i.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx("div",{className:"p8bdhjjv",children:i.jsx(c("CometCard.react"),{background:"white",dropShadow:1,children:i.jsx(d("CometRelay").MatchContainer,{match:a,props:j})})})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("ImmutableArray.bs",["bs_belt_Array"],function(a,b,c,d,e,f){"use strict";function a(a){return a.slice(0)}function c(a){return a.slice(0)}function d(a){return a.length}function e(a){return a.length}var g=(b=b("bs_belt_Array")).get,h=b.getExn;function i(a,b){return a[b]}function j(a,b){return a[b]}var k=b.shuffle,l=b.reverse;function m(a){return new Array(a)}function n(a){return new Array(a)}var o=b.make,p=b.range,q=b.rangeBy,r=b.makeByU,s=b.makeBy,t=b.makeByAndShuffleU,u=b.makeByAndShuffle,v=b.zip,w=b.zipByU,x=b.zipBy,y=b.unzip,z=b.concat,A=b.concatMany,B=b.slice,C=b.sliceToEnd;function D(a){return a.slice(0)}var E=b.forEachU,F=b.forEach,G=b.mapU,H=b.map,I=b.keepWithIndexU,J=b.keepWithIndex,K=b.keepMapU,L=b.keepMap,M=b.forEachWithIndexU,N=b.forEachWithIndex,O=b.mapWithIndexU,P=b.mapWithIndex,Q=b.partitionU,R=b.partition,S=b.reduceU,T=b.reduce,U=b.reduceReverseU,V=b.reduceReverse,W=b.reduceReverse2U,X=b.reduceReverse2,Y=b.someU,Z=b.some,$=b.everyU,aa=b.every,ba=b.every2U,ca=b.every2,da=b.some2U,ea=b.some2,fa=b.cmpU,ga=b.cmp,ha=b.eqU;b=b.eq;var ia={get:g};f.$$Array=ia;f.fromArray=a;f.toArray=c;f.length=d;f.size=e;f.get=g;f.getExn=h;f.getUnsafe=i;f.getUndefined=j;f.shuffle=k;f.reverse=l;f.makeUninitialized=m;f.makeUninitializedUnsafe=n;f.make=o;f.range=p;f.rangeBy=q;f.makeByU=r;f.makeBy=s;f.makeByAndShuffleU=t;f.makeByAndShuffle=u;f.zip=v;f.zipByU=w;f.zipBy=x;f.unzip=y;f.concat=z;f.concatMany=A;f.slice=B;f.sliceToEnd=C;f.copy=D;f.forEachU=E;f.forEach=F;f.mapU=G;f.map=H;f.keepWithIndexU=I;f.keepWithIndex=J;f.keepMapU=K;f.keepMap=L;f.forEachWithIndexU=M;f.forEachWithIndex=N;f.mapWithIndexU=O;f.mapWithIndex=P;f.partitionU=Q;f.partition=R;f.reduceU=S;f.reduce=T;f.reduceReverseU=U;f.reduceReverse=V;f.reduceReverse2U=W;f.reduceReverse2=X;f.someU=Y;f.some=Z;f.everyU=$;f.every=aa;f.every2U=ba;f.every2=ca;f.some2U=da;f.some2=ea;f.cmpU=fa;f.cmp=ga;f.eqU=ha;f.eq=b},null);
__d("MWJewelThreadFacepile.bs",[],function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}e={availabilityBadge:a,lastActiveTimeBadge:b,activityBadge:c,trigger:d};f.ProfilePhotoAddOn=e},null);
__d("MWThreadAddOnPrimary.bs",["ImmutableArray.bs","MWJewelThreadFacepile.bs","bs_belt_Option","bs_caml_option"],function(a,b,c,d,e,f){"use strict";function g(a,c,d,e,f){return{primaryPhoto:{alt:b("bs_belt_Option").getWithDefault(d,""),source:{uri:a}},secondaryPhoto:{alt:b("bs_belt_Option").getWithDefault(d,""),source:{uri:c}},size:e,addOn:f,type:"messenger-facepile"}}function h(a,c,d,e,f){return{addOn:e,shape:f,size:d,source:{uri:a},alt:b("bs_belt_Option").getWithDefault(c,""),linkProps:void 0,type:"profile-photo"}}function a(a,c,d,e,f,i){e=e!==void 0?b("bs_caml_option").valFromOption(e):"circle";var j=b("MWJewelThreadFacepile.bs").ProfilePhotoAddOn.availabilityBadge({type:"availabilityBadge"}),k=b("MWJewelThreadFacepile.bs").ProfilePhotoAddOn.lastActiveTimeBadge({border:"web-wash",time:i,type:"lastActiveTimeBadge"});d=d?b("bs_caml_option").some(j):i!==void 0?b("bs_caml_option").some(k):void 0;j=b("ImmutableArray.bs").get(a,0);i=b("ImmutableArray.bs").get(a,1);if(j!==void 0)if(i!==void 0)return g(j,i,c,f,d);else return h(j,c,f,d,e);else if(i!==void 0)return h(i,c,f,d,e);else return}f.buildFacepileConfig=g;f.buildProfileConfig=h;f.get=a},null);
__d("StoriesTrayUtils",["StoriesLoggingConstants","XCometStoriesControllerRouteBuilder"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){e===void 0&&(e=c("StoriesLoggingConstants").ACTION_SOURCE.TRAY);d={bucket_count:d,bucket_id:a,card_id:b===null?void 0:b,source:e};return c("XCometStoriesControllerRouteBuilder").buildURL(d)}g.getBucketURL=a},98);
__d("StoriesActivityBadgeDeferred.react",["deferredLoadComponent","react","requireDeferred"],function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferred")("CometActivityBadge.react").__setRef("StoriesActivityBadgeDeferred.react"));b=a;g["default"]=b},98);
__d("StoriesTrayTileAvatar.react",["fbt","CometLoadingAnimation.react","CometPlaceholder.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometVisualCompletionAttributes","StoriesActivityBadgeDeferred.react","TetraText.react","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.children,d=a.hasNew,e=a.isLiveStreaming;e=e===void 0?!1:e;var f=a.isOnline;f=f===void 0?!1:f;var g=a.isOpaqueBackground,j=a.isUploading;j=j===void 0?!1:j;a=a.shouldShowCloseFriendsBadge;a=a===void 0?!1:a;var k=h._("__JHASH__f7VcajZGvwh__JHASH__");return i.jsxs("div",{className:c("stylex")({"align-items-1":"i85zmo3j","background-color-1":"hi696u2r","border-top-start-radius-1":"fioi9u54","border-top-end-radius-1":"sl2izxu6","border-bottom-end-radius-1":"pqyjx7x8","border-bottom-start-radius-1":"p08cwfzm","box-sizing-1":"bdao358l","display-1":"alzwoclg","height-1":"nq2b4knc","justify-content-1":"jcxyg2ei","overflow-x-1":"lq84ybu9","overflow-y-1":"hf30pyar","width-1":"bis24fgy"},g===!0?{"background-color-1":"k0kqjr44"}:null,b!=null?{"border-top-style-0.4":"s9ok87oh","border-end-style-0.4":"s9ljgwtm","border-bottom-style-0.4":"lxqftegz","border-start-style-0.4":"bf1zulr9","border-top-width-0.4":"c9g7wa9t","border-end-width-0.4":"b3ilqy5t","border-bottom-width-0.4":"up9symij","border-start-width-0.4":"iv31pflw"}:null,d===!0&&!j&&a?{"border-top-color-0.4":"f5i6l0zv","border-end-color-0.4":"raosnjpy","border-bottom-color-0.4":"juexl6jg","border-start-color-0.4":"oircab9f"}:null,d===!0&&!j&&!a?{"border-top-color-0.4":"lnya4tqs","border-end-color-0.4":"bb34o6iy","border-bottom-color-0.4":"skdx337e","border-start-color-0.4":"f511jj4h"}:null,d!==!0&&!j?{"border-top-color-0.4":"nv7eb0i8","border-end-color-0.4":"dbl3mjr6","border-bottom-color-0.4":"fkd2fh8n","border-start-color-0.4":"t5f7m1wp"}:null,j&&!e?{"border-top-color-0.4":"eokq7ydu","border-end-color-0.4":"ieynts4y","border-bottom-color-0.4":"qn5cwzrt","border-start-color-0.4":"r5opdilj"}:null,e?{"border-top-color-0.4":"bxyi9nxe","border-end-color-0.4":"f8baafgg","border-bottom-color-0.4":"tr6ok7iy","border-start-color-0.4":"a9n77vv2"}:null),children:[j&&!e&&i.jsx("div",{className:"nrjt88oa ekq1a7f9 myo4itp8 s8sjc6am jcxyg2ei pytsy3co on4d8346 alzwoclg z6erz7xo i85zmo3j",children:i.jsx("div",{className:"kb63tkdw iw0cq9ph om3e55n1",children:i.jsx(c("CometLoadingAnimation.react"),{size:40})})}),b,e&&i.jsx("div",{className:"jttuzw70 hsphh064 bbqlx7z3 s8sjc6am ibmpe6vl o9wcebwi l5bkvekt d2hqwtrz eb3fb54q gffp4m6x j8nb7h05 h0c7ht3v dl2p71xr lvxyrigy",children:i.jsx(c("TetraText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"meta4",children:k})}),i.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:!e&&f&&i.jsx("div",babelHelpers["extends"]({className:"s8sjc6am ct3qjj4w iqs5uzhx"},c("CometVisualCompletionAttributes").IGNORE,{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("StoriesActivityBadgeDeferred.react"),{size:8,state:"active"})})}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("StoriesTrayTileContent.react",["ix","CometBackgroundImage.react","CometRelay","StoriesGating","StoriesRatioBox.react","TetraIcon.react","TetraText.react","cr:3571","fbicon","react","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={background:{transformOrigin:"t1t29434",transitionDuration:"c1zq4unt",transitionProperty:"iwr3bmeu",transitionTimingFunction:"pccvoycu"},backgroundFocused:{transform:"qtunmihn"},coverImageFilter:{backgroundImage:"ctgci651"},full:{bottom:"z6erz7xo",boxSizing:"bdao358l",end:"on4d8346",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9"},icon:{alignItems:"i85zmo3j",bottom:"iqs5uzhx",boxSizing:"bdao358l",display:"alzwoclg",position:"s8sjc6am",start:"d8h64l64",textAlign:"ztn2w49o",width:"mfclru0v"},pointerEventsNone:{pointerEvents:"l10tt5db"},previewImageFilter:{filter:"ipzxximj"},text:{paddingStart:"lcfup58g"},textWrapper:{bottom:"z6erz7xo",boxSizing:"bdao358l",position:"s8sjc6am",textAlign:"ztn2w49o",width:"mfclru0v"},warningScreenContainer:{zIndex:"g4tp4svg"}};function a(a){var e=a.aspectRatioReal,f=a.avatarInteractable,g=a.backgroundColor,k=a.bucketUrl,l=a.coverImage,m=a.coverImageNullElement,n=a.hasComments,o=a.isSmall,p=a.likeCount,q=a.numLines,r=a.playCount,s=a.pressableState,t=a.text,u=a.tileAvatar,v=a.tilePadding,w=a.videoAutoplayWrapper;a=a.warningScreen;return i.jsxs(c("StoriesRatioBox.react"),{height:1,width:(e=e)!=null?e:1,children:[l!=null?i.jsxs("div",{className:c("stylex")(j.background,((s==null?void 0:s.hovered)||(s==null?void 0:s.focused)&&(s==null?void 0:s.focusVisible))&&j.backgroundFocused,j.full),style:{backgroundColor:g},children:[w!=null?w:i.jsx(c("CometBackgroundImage.react"),{src:l}),a!=null&&i.jsx("div",{className:c("stylex")(j.full,j.warningScreenContainer),children:i.jsx(d("CometRelay").MatchContainer,{match:a,props:{alwaysShowCoverComponent:!0,alwaysShowDetails:!1,alwaysUseSmallLayout:!0,data:a,mediaUri:(e=l)!=null?e:"",surface:"story_tray",url:k}})}),i.jsx("div",{className:c("stylex")([j.coverImageFilter,j.full,d("StoriesGating").shouldUsePreviewFilter()&&j.previewImageFilter])})]}):m,t!=null?i.jsx("div",{className:c("stylex")(j.textWrapper,j.pointerEventsNone),style:v,children:o?i.jsx(c("TetraText.react"),{color:"primaryOnMedia",numberOfLines:q,testid:void 0,type:"bodyLink4",children:t}):i.jsx(c("TetraText.react"),{color:"primaryOnMedia",numberOfLines:q,testid:void 0,type:"bodyLink3",children:t})}):null,r!=null?i.jsxs("div",{className:c("stylex")(j.icon),children:[i.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(h("484861"),12)}),i.jsx("div",{className:c("stylex")(j.text),children:i.jsx(c("TetraText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:r})})]}):null,p!=null&&p!=="0"?i.jsxs("div",{className:c("stylex")(j.icon),children:[i.jsx(c("TetraIcon.react"),{color:"white",icon:d("fbicon")._(h("509920"),12)}),i.jsx("div",{className:c("stylex")(j.text),children:i.jsx(c("TetraText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"bodyLink4",children:p})})]}):null,!f&&u!=null?u:null,n===!0&&b("cr:3571")!=null?i.jsx(b("cr:3571"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("cometValidateAsElementRect",[],function(a,b,c,d,e,f){"use strict";function a(a){return typeof a==="object"?{bottom:typeof (a==null?void 0:a.bottom)==="number"?a.bottom:0,height:typeof (a==null?void 0:a.height)==="number"?a.height:0,left:typeof (a==null?void 0:a.left)==="number"?a.left:0,right:typeof (a==null?void 0:a.right)==="number"?a.right:0,top:typeof (a==null?void 0:a.top)==="number"?a.top:0,width:typeof (a==null?void 0:a.width)==="number"?a.width:0}:{bottom:0,height:0,left:0,right:0,top:0,width:0}}f["default"]=a},66);
__d("StoriesTrayTileView.react",["CometLazyPopoverTrigger.react","CometPressable.react","CometRelay","JSResourceForInteraction","StoriesConstants","StoriesGating","StoriesTrayTileContent.react","StoriesTrayTileView_LWRAnimations.graphql","StoriesTrayTileView_bucket.graphql","StoriesTrayTileView_warningScreen.graphql","cometValidateAsElementRect","cr:567","react","requireDeferred","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("react"),l=d("react").useRef,m=c("requireDeferred")("ODS").__setRef("StoriesTrayTileView.react"),n=c("JSResourceForInteraction")("StoriesTrayTileWatchLivePopover.react").__setRef("StoriesTrayTileView.react"),o=12,p=8,q=46,r={avatarWrapper:{position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9"},boxShadow:{boxShadow:"b3dzj11p"},button:{appearance:"qgrdou9d",backgroundColor:"nu7423ey",borderTopStyle:"s9ok87oh",borderEndStyle:"s9ljgwtm",borderBottomStyle:"lxqftegz",borderStartStyle:"bf1zulr9",borderTopWidth:"frfouenu",borderEndWidth:"bonavkto",borderBottomWidth:"djs4p424",borderStartWidth:"r7bn319e",boxSizing:"bdao358l",display:"b6ax4al1",marginTop:"m8h3af8h",marginEnd:"l7ghb35v",marginBottom:"kjdc1dyq",marginStart:"kmwttqpk",paddingTop:"srn514ro",paddingEnd:"oxkhqvkx",paddingBottom:"rl78xhln",paddingStart:"nch0832m",position:"om3e55n1",textAlign:"cr00lzj9",width:"mfclru0v",zIndex:"g4tp4svg",":active":{transform:"qdu38ef7"}},buttonFocused:{filter:"plmwtrcj"},emptyCoverImageFilter:{backgroundImage:"ij0z25ed"},full:{bottom:"z6erz7xo",boxSizing:"bdao358l",end:"on4d8346",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9"},light:{opacity:"mi59tyey"},outline:{borderTop:"r8vnayig",borderEnd:"qp72b3h3",borderBottom:"a05blw6y",borderStart:"jnmqv028",borderTopStartRadius:"pdk0kjlo",borderTopEndRadius:"kbmua9a3",borderBottomEndRadius:"f3lj61do",borderBottomStartRadius:"r5a47i9s",bottom:"z6erz7xo",boxSizing:"bdao358l",end:"on4d8346",pointerEvents:"l10tt5db",position:"s8sjc6am",start:"myo4itp8",top:"ekq1a7f9"},pointerEventsNone:{pointerEvents:"l10tt5db"},reactionIconWrapper:{bottom:"z6erz7xo",end:"on4d8346",paddingTop:"q46jt4gp",paddingEnd:"b0eko5f3",paddingBottom:"r5g9zsuq",paddingStart:"fwlpnqze",position:"s8sjc6am"},root:{position:"om3e55n1"},tile:{backgroundColor:"a5wdgl2o",borderTopStartRadius:"pdk0kjlo",borderTopEndRadius:"kbmua9a3",borderBottomEndRadius:"f3lj61do",borderBottomStartRadius:"r5a47i9s",overflowX:"lq84ybu9",overflowY:"hf30pyar"}},s=function(a){var b=a.showOutline?k.jsx("div",{className:c("stylex")(r.outline)}):null;return k.jsxs("div",{className:c("stylex")(r.root),children:[a.children,b]})};function a(a){var e=a.animations,f=a.aspectRatio,g=f===void 0?d("StoriesConstants").DEFAULT_ASPECT_RATIO:f;f=a.avatar;var t=a.avatarInteractable,u=t===void 0?!1:t,v=a.backgroundColor,w=a.bucketUrl,x=a.coverImage,y=a.disabled;t=a.disablePreloadOnMouseHover;var z=a.disablePreloadOnRender,A=a.shouldShowInterstitial,B=A===void 0?!1:A;A=a.hasReactionIcon;A=A===void 0?!1:A;var C=a.hasComments,D=C===void 0?!1:C;C=a.isUploading;C=C===void 0?!1:C;var E=a.label,F=a.numLines,G=a.onPress,H=a.onPressIn,I=a.passthroughProps,J=a.showOutline;J=J===void 0?!1:J;var K=a.showShadow,L=K===void 0?!0:K;K=a.small;K=K===void 0?!1:K;var M=a.storyId,N=a.canViewerReply;N=N===void 0?!1:N;var O=a.text,P=a.theme;P=P===void 0?"dark":P;var Q=a.warningScreenNode,R=a.isLiveStreaming,S=R===void 0?!1:R;R=a.bucket;var T=(a=F)!=null?a:2,U=d("CometRelay").useFragment(h!==void 0?h:h=b("StoriesTrayTileView_warningScreen.graphql"),Q);F=d("CometRelay").useFragment(i!==void 0?i:i=b("StoriesTrayTileView_LWRAnimations.graphql"),e);a=d("CometRelay").useFragment(j!==void 0?j:j=b("StoriesTrayTileView_bucket.graphql"),R);var V=A?{padding:K?p:o,paddingRight:q}:{padding:K?p:o},W=f!=null?k.jsx("div",{className:c("stylex")(r.avatarWrapper,!u&&r.pointerEventsNone),style:V,children:f}):null,X=l(null),Y=k.jsx("div",{className:c("stylex")(C&&r.emptyCoverImageFilter,r.full)});Q=b("cr:567")!=null&&N?k.jsx("div",{className:c("stylex")(r.reactionIconWrapper),children:k.jsx(b("cr:567"),{animations:F,storyId:M})}):null;var Z=function(a){return k.jsx(c("StoriesTrayTileContent.react"),{aspectRatioReal:g,avatarInteractable:u,backgroundColor:v,bucketUrl:w,coverImage:x,coverImageNullElement:Y,hasComments:D,isSmall:!0,numLines:T,pressableState:a,text:O,tileAvatar:W,tilePadding:V,warningScreen:U})};if(w!=null||G!=null){e=babelHelpers["extends"]({},I,{getTilePosition:function(){var a;return c("cometValidateAsElementRect")((a=X.current)==null?void 0:a.getBoundingClientRect())}});var $={passthroughProps:e,prefetchQueriesOnHover:t!==!0,preloadCodeOnMount:z!==!0,traceParams:{navigation_source:"stories_tray_tile"},url:w},aa=function(a){m.onReady(function(a){a.bumpEntityKey(4329,"fb_stories_web","stories_tray_pog_click",1)}),G&&G(a)};R=function(a,b){a===void 0&&(a=null);return k.jsx(c("CometPressable.react"),{disabled:y,display:"inline",label:E!=null?E:void 0,linkProps:d("StoriesGating").shouldEnableLiveInStoriesDropdown()&&S||B?void 0:$,onPress:function(a){aa(a),b&&b()},onPressIn:H,overlayDisabled:!0,ref:a,suppressHydrationWarning:!0,xstyle:function(a){var b=a.focused,c=a.focusVisible;a=a.hovered;return[r.tile,r.button,(a||b&&c)&&r.buttonFocused,L&&r.boxShadow]},children:Z})};return k.jsx("div",{ref:X,children:k.jsxs(s,{showOutline:J,children:[d("StoriesGating").shouldEnableLiveInStoriesDropdown()&&S?k.jsx(c("CometLazyPopoverTrigger.react"),{popoverProps:{bucket:a,viewStoryUrl:w},popoverResource:n,children:R}):R(),u?W:null,A?Q:null]})})}else return k.jsx(s,{showOutline:J,children:k.jsxs("div",{className:c("stylex")(r.tile,L&&r.boxShadow,P==="light"&&r.light),children:[Z(),u?W:null,A?Q:null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("StoriesTrayTileGlimmer.react",["BaseGlimmer.react","StoriesTrayTileAvatar.react","StoriesTrayTileView.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.aspectRatio;a=a.index;a=a===void 0?0:a;return h.jsx(c("BaseGlimmer.react"),{className:"hf30pyar lq84ybu9 r5a47i9s f3lj61do kbmua9a3 pdk0kjlo",index:a,children:h.jsx(c("StoriesTrayTileView.react"),{aspectRatio:b,avatar:h.jsx(c("StoriesTrayTileAvatar.react"),{}),showShadow:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("useStoriesTrayRefresh",["CometOnRefresh.react","react"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useTransition;function a(a){var b=j(!1),c=k(),e=c[0],f=c[1];c=h(function(){if(b.current===!0)return;b.current=!0;f(function(){a()})},[a,f]);i(function(){b.current=e},[e]);d("CometOnRefresh.react").useOnRefresh(c)}g["default"]=a},98);
__d("TopOfFeedLoggingContext",["react"],function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({refreshTofuSessionID:function(a){},tofuSessionID:null});g["default"]=b},98);
__d("TopOfFeedNullStateCard.react",["CometCard.react","CometColumn.react","CometIcon.react","CometRow.react","CometRowItem.react","TetraText.react","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={cardColumn:{height:"r4io43q6"},cardContainer:{height:"pytsy3co",width:"gpr1yev6"}};function a(a){var b=a.body1,d=a.body2,e=a.body3,f=a.icon1,g=a.icon2;a=a.icon3;return h.jsx("div",{className:c("stylex")(i.cardContainer),children:h.jsx(c("CometCard.react"),{expanding:!0,children:h.jsxs(c("CometColumn.react"),{align:"start",expanding:!0,paddingHorizontal:16,paddingVertical:0,spacing:16,verticalAlign:"center",xstyle:i.cardColumn,children:[h.jsxs(c("CometRow.react"),{align:"start",paddingVertical:0,children:[h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometIcon.react"),{icon:f})}),h.jsx(c("CometRowItem.react"),{expanding:!0,verticalAlign:"center",children:h.jsx(c("TetraText.react"),{numberOfLines:2,type:"body4",children:b})})]}),h.jsxs(c("CometRow.react"),{align:"start",paddingVertical:0,children:[h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometIcon.react"),{icon:g})}),h.jsx(c("CometRowItem.react"),{expanding:!0,verticalAlign:"center",children:h.jsx(c("TetraText.react"),{numberOfLines:2,type:"body4",children:d})})]}),h.jsxs(c("CometRow.react"),{align:"start",paddingVertical:0,children:[h.jsx(c("CometRowItem.react"),{children:h.jsx(c("CometIcon.react"),{icon:a})}),h.jsx(c("CometRowItem.react"),{expanding:!0,verticalAlign:"center",children:h.jsx(c("TetraText.react"),{numberOfLines:2,type:"body4",children:e})})]})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98);
__d("TopOfFeedTrayErrorLazyLoaded.react",["JSResourceForInteraction","lazyLoadComponent"],function(a,b,c,d,e,f,g){"use strict";a=c("lazyLoadComponent")(c("JSResourceForInteraction")("TopOfFeedTrayError.react").__setRef("TopOfFeedTrayErrorLazyLoaded.react"));g["default"]=a},98);